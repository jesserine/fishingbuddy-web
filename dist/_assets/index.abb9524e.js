/** @license React v16.13.0
 * react.production.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
const t={};!function(t){function e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(t,e,n){this.props=t,this.context=e,this.refs=q,this.updater=n||V}function r(){}function i(t,e,n){this.props=t,this.context=e,this.refs=q,this.updater=n||V}function o(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)W.call(e,r)&&!H.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:I,type:t,key:o,ref:a,props:i,_owner:z.current}}function a(t){return"object"==typeof t&&null!==t&&t.$$typeof===I}function s(t,e,n,r){if(G.length){var i=G.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function u(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>G.length&&G.push(t)}function c(t,n,r){return null==t?0:function t(n,r,i,o){var a=typeof n;"undefined"!==a&&"boolean"!==a||(n=null);var s=!1;if(null===n)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case I:case S:s=!0}}if(s)return i(o,n,""===r?"."+l(n,0):r),1;if(s=0,r=""===r?".":r+":",Array.isArray(n))for(var u=0;u<n.length;u++){var c=r+l(a=n[u],u);s+=t(a,c,i,o)}else if(null===n||"object"!=typeof n?c=null:c="function"==typeof(c=L&&n[L]||n["@@iterator"])?c:null,"function"==typeof c)for(n=c.call(n),u=0;!(a=n.next()).done;)s+=t(a=a.value,c=r+l(a,u++),i,o);else if("object"===a)throw i=""+n,Error(e(31,"[object Object]"===i?"object with keys {"+Object.keys(n).join(", ")+"}":i,""));return s}(t,"",n,r)}function l(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function h(t,e,n){t.func.call(t.context,e,t.count++)}function f(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?p(t,r,n,(function(t){return t})):null!=t&&(a(t)&&(t=function(t,e){return{$$typeof:I,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(K,"$&/")+"/")+n)),r.push(t))}function p(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(K,"$&/")+"/"),c(t,f,e=s(e,o,r,i)),u(e)}function d(){var t=Q.current;if(null===t)throw Error(e(321));return t}function v(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<g(i,e)))break t;t[r]=e,t[n]=i,n=r}}function m(t){return void 0===(t=t[0])?null:t}function y(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>g(a,n))void 0!==u&&0>g(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>g(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function g(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}function b(t){for(var e=m(yt);null!==e;){if(null===e.callback)y(yt);else{if(!(e.startTime<=t))break;y(yt),e.sortIndex=e.expirationTime,v(mt,e)}e=m(yt)}}function w(t){if(Tt=!1,b(t),!Et)if(null!==m(mt))Et=!0,tt(_);else{var e=m(yt);null!==e&&et(w,e.startTime-t)}}function _(t,e){Et=!1,Tt&&(Tt=!1,nt()),_t=!0;var n=wt;try{for(b(e),bt=m(mt);null!==bt&&(!(bt.expirationTime>e)||t&&!rt());){var r=bt.callback;if(null!==r){bt.callback=null,wt=bt.priorityLevel;var i=r(bt.expirationTime<=e);e=Z(),"function"==typeof i?bt.callback=i:bt===m(mt)&&y(mt),b(e)}else y(mt);bt=m(mt)}if(null!==bt)var o=!0;else{var a=m(yt);null!==a&&et(w,a.startTime-e),o=!1}return o}finally{bt=null,wt=n,_t=!1}}function E(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var T="function"==typeof Symbol&&Symbol.for,I=T?Symbol.for("react.element"):60103,S=T?Symbol.for("react.portal"):60106,C=T?Symbol.for("react.fragment"):60107,N=T?Symbol.for("react.strict_mode"):60108,k=T?Symbol.for("react.profiler"):60114,A=T?Symbol.for("react.provider"):60109,x=T?Symbol.for("react.context"):60110,P=T?Symbol.for("react.forward_ref"):60112,R=T?Symbol.for("react.suspense"):60113,O=T?Symbol.for("react.memo"):60115,D=T?Symbol.for("react.lazy"):60116,L="function"==typeof Symbol&&Symbol.iterator,M=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,j=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;var e={};for(t=0;10>t;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");for(var n,r=Object(t),i=1;i<arguments.length;i++){var o=Object(arguments[i]);for(var a in o)F.call(o,a)&&(r[a]=o[a]);if(M){n=M(o);for(var s=0;s<n.length;s++)U.call(o,n[s])&&(r[n[s]]=o[n[s]])}}return r},V={isMounted:function(t){return!1},enqueueForceUpdate:function(t,e,n){},enqueueReplaceState:function(t,e,n,r){},enqueueSetState:function(t,e,n,r){}},q={};n.prototype.isReactComponent={},n.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(e(85));this.updater.enqueueSetState(this,t,n,"setState")},n.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},r.prototype=n.prototype,(T=i.prototype=new r).constructor=i,j(T,n.prototype),T.isPureReactComponent=!0;var B,z={current:null},W=Object.prototype.hasOwnProperty,H={key:!0,ref:!0,__self:!0,__source:!0},K=/\/+/g,G=[],Q={current:null};if("undefined"==typeof window||"function"!=typeof MessageChannel){var $=null,Y=null,X=function(){if(null!==$)try{var t=Z();$(!0,t),$=null}catch(t){throw setTimeout(X,0),t}},J=Date.now(),Z=function(){return Date.now()-J},tt=function(t){null!==$?setTimeout(tt,0,t):($=t,setTimeout(X,0))},et=function(t,e){Y=setTimeout(t,e)},nt=function(){clearTimeout(Y)},rt=function(){return!1};T=B=function(){}}else{var it=window.performance,ot=window.Date,at=window.setTimeout,st=window.clearTimeout;if("undefined"!=typeof console&&(T=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof T&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof it&&"function"==typeof it.now)Z=function(){return it.now()};else{var ut=ot.now();Z=function(){return ot.now()-ut}}var ct=!1,lt=null,ht=-1,ft=5,pt=0;rt=function(){return Z()>=pt},T=function(){},B=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ft=0<t?Math.floor(1e3/t):5};var dt=new MessageChannel,vt=dt.port2;dt.port1.onmessage=function(){if(null!==lt){var t=Z();pt=t+ft;try{lt(!0,t)?vt.postMessage(null):(ct=!1,lt=null)}catch(t){throw vt.postMessage(null),t}}else ct=!1},tt=function(t){lt=t,ct||(ct=!0,vt.postMessage(null))},et=function(t,e){ht=at((function(){t(Z())}),e)},nt=function(){st(ht),ht=-1}}var mt=[],yt=[],gt=1,bt=null,wt=3,_t=!1,Et=!1,Tt=!1,It=0;j(dt={ReactCurrentDispatcher:Q,ReactCurrentOwner:z,IsSomeRendererActing:{current:!1},assign:j},{Scheduler:{__proto__:null,unstable_ImmediatePriority:1,unstable_UserBlockingPriority:2,unstable_NormalPriority:3,unstable_IdlePriority:5,unstable_LowPriority:4,unstable_runWithPriority:function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=wt;wt=t;try{return e()}finally{wt=n}},unstable_next:function(t){switch(wt){case 1:case 2:case 3:var e=3;break;default:e=wt}var n=wt;wt=e;try{return t()}finally{wt=n}},unstable_scheduleCallback:function(t,e,n){var r=Z();if("object"==typeof n&&null!==n){var i=n.delay;i="number"==typeof i&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:E(t)}else n=E(t),i=r;return t={id:gt++,callback:e,priorityLevel:t,startTime:i,expirationTime:n=i+n,sortIndex:-1},i>r?(t.sortIndex=i,v(yt,t),null===m(mt)&&t===m(yt)&&(Tt?nt():Tt=!0,et(w,i-r))):(t.sortIndex=n,v(mt,t),Et||_t||(Et=!0,tt(_))),t},unstable_cancelCallback:function(t){t.callback=null},unstable_wrapCallback:function(t){var e=wt;return function(){var n=wt;wt=e;try{return t.apply(this,arguments)}finally{wt=n}}},unstable_getCurrentPriorityLevel:function(){return wt},unstable_shouldYield:function(){var t=Z();b(t);var e=m(mt);return e!==bt&&null!==bt&&null!==e&&null!==e.callback&&e.startTime<=t&&e.expirationTime<bt.expirationTime||rt()},unstable_requestPaint:T,unstable_continueExecution:function(){Et||_t||(Et=!0,tt(_))},unstable_pauseExecution:function(){},unstable_getFirstCallbackNode:function(){return m(mt)},get unstable_now(){return Z},get unstable_forceFrameRate(){return B},unstable_Profiling:null},SchedulerTracing:{__proto__:null,__interactionsRef:null,__subscriberRef:null,unstable_clear:function(t){return t()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++It},unstable_trace:function(t,e,n){return n()},unstable_wrap:function(t){return t},unstable_subscribe:function(t){},unstable_unsubscribe:function(t){}}}),t.Children={map:function(t,e,n){if(null==t)return t;var r=[];return p(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;c(t,h,e=s(null,null,e,n)),u(e)},count:function(t){return c(t,(function(){return null}),null)},toArray:function(t){var e=[];return p(t,e,null,(function(t){return t})),e},only:function(t){if(!a(t))throw Error(e(143));return t}},t.Component=n,t.Fragment=C,t.Profiler=k,t.PureComponent=i,t.StrictMode=N,t.Suspense=R,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dt,t.cloneElement=function(t,n,r){if(null==t)throw Error(e(267,t));var i=j({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=z.current),void 0!==n.key&&(o=""+n.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in n)W.call(n,c)&&!H.hasOwnProperty(c)&&(i[c]=void 0===n[c]&&void 0!==u?u[c]:n[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:I,type:t.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:x,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:A,_context:t},t.Consumer=t},t.createElement=o,t.createFactory=function(t){var e=o.bind(null,t);return e.type=t,e},t.createRef=function(){return{current:null}},t.forwardRef=function(t){return{$$typeof:P,render:t}},t.isValidElement=a,t.lazy=function(t){return{$$typeof:D,_ctor:t,_status:-1,_result:null}},t.memo=function(t,e){return{$$typeof:O,type:t,compare:void 0===e?null:e}},t.useCallback=function(t,e){return d().useCallback(t,e)},t.useContext=function(t,e){return d().useContext(t,e)},t.useDebugValue=function(t,e){},t.useEffect=function(t,e){return d().useEffect(t,e)},t.useImperativeHandle=function(t,e,n){return d().useImperativeHandle(t,e,n)},t.useLayoutEffect=function(t,e){return d().useLayoutEffect(t,e)},t.useMemo=function(t,e){return d().useMemo(t,e)},t.useReducer=function(t,e,n){return d().useReducer(t,e,n)},t.useRef=function(t){return d().useRef(t)},t.useState=function(t){return d().useState(t)},t.version="16.13.0"}(t);const{Children:e,Component:n,Fragment:r,Profiler:i,PureComponent:o,StrictMode:a,Suspense:s,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:u,cloneElement:c,createContext:l,createElement:h,createFactory:f,createRef:p,forwardRef:d,isValidElement:v,lazy:m,memo:y,useCallback:g,useContext:b,useDebugValue:w,useEffect:_,useImperativeHandle:E,useLayoutEffect:T,useMemo:I,useReducer:S,useRef:C,useState:N,version:k}=t,A={};
/** @license React v16.13.0
 * react-dom.production.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function P(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(null==e&&n.path)}},n.exports),n.exports}!function(t,e){function n(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t,e,n,r,i,o,a,s,u){si=!1,ui=null,ai.apply(hi,arguments)}function i(t,e,i){var o=t.type||"unknown-event";t.currentTarget=di(i),function(t,e,i,o,a,s,u,c,l){if(r.apply(this,arguments),si){if(!si)throw Error(n(198));var h=ui;si=!1,ui=null,ci||(ci=!0,li=h)}}(o,e,void 0,t),t.currentTarget=null}function o(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=Ri&&t[Ri]||t["@@iterator"])?t:null}function a(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case wi:return"Fragment";case bi:return"Portal";case Ei:return"Profiler";case _i:return"StrictMode";case Ni:return"Suspense";case ki:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case Ii:return"Context.Consumer";case Ti:return"Context.Provider";case Ci:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case Ai:return a(t.type);case Pi:return a(t.render);case xi:if(t=1===t._status?t._result:null)return a(t)}return null}function s(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=a(t.type);n=null,r&&(n=a(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(mi,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function u(){if(Oi)for(var t in Di){var e=Di[t],r=Oi.indexOf(t);if(!(-1<r))throw Error(n(96,t));if(!Li[r]){if(!e.extractEvents)throw Error(n(97,t));for(var i in Li[r]=e,r=e.eventTypes){var o=void 0,a=r[i],s=e,u=i;if(Mi.hasOwnProperty(u))throw Error(n(99,u));Mi[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;if(!o)throw Error(n(98,i,t))}}}}function c(t,e,r){if(Fi[t])throw Error(n(100,t));Fi[t]=e,Ui[t]=e.eventTypes[r].dependencies}function l(t){var e,r=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!Di.hasOwnProperty(e)||Di[e]!==i){if(Di[e])throw Error(n(102,e));Di[e]=i,r=!0}}r&&u()}function h(t){if(t=pi(t)){if("function"!=typeof qi)throw Error(n(280));var e=t.stateNode;e&&(e=fi(e),qi(t.stateNode,t.type,e))}}function f(t){Bi?zi?zi.push(t):zi=[t]:Bi=t}function p(){if(Bi){var t=Bi,e=zi;if(zi=Bi=null,h(t),e)for(t=0;t<e.length;t++)h(e[t])}}function d(){null===Bi&&null===zi||(Ki(),p())}function v(t,e,n){if($i)return t(e,n);$i=!0;try{return Gi(t,e,n)}finally{$i=!1,d()}}function m(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}function y(t,e,n,r){var i=po.hasOwnProperty(e)?po[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!lo.call(fo,t)||!lo.call(ho,t)&&(co.test(t)?fo[t]=!0:(ho[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function g(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function b(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function w(t){t._valueTracker||(t._valueTracker=function(t){var e=b(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function E(t,e){var n=e.checked;return Vi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function T(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=g(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function I(t,e){null!=(e=e.checked)&&y(t,"checked",e,!1)}function S(t,e){I(t,e);var n=g(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?N(t,e.type,n):e.hasOwnProperty("defaultValue")&&N(t,e.type,g(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function C(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function N(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function k(t,n){return t=Vi({children:void 0},n),(n=function(t){var n="";return e.Children.forEach(t,(function(t){null!=t&&(n+=t)})),n}(n.children))&&(t.children=n),t}function A(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+g(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function x(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(n(91));return Vi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(n(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(n(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:g(r)}}function R(t,e){var n=g(e.value),r=g(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function O(t,e){(e=t.textContent)===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function D(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?D(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function M(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}function F(t){if(_o[t])return _o[t];if(!wo[t])return t;var e,n=wo[t];for(e in n)if(n.hasOwnProperty(e)&&e in Eo)return _o[t]=n[e];return t}function U(t){var e=ko.get(t);return void 0===e&&(e=new Map,ko.set(t,e)),e}function j(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function V(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function q(t){if(j(t)!==t)throw Error(n(188))}function B(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=j(t)))throw Error(n(188));return e!==t?null:t}for(var r=t,i=e;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return q(o),t;if(a===i)return q(o),e;a=a.sibling}throw Error(n(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,u=o.child;u;){if(u===r){s=!0,r=o,i=a;break}if(u===i){s=!0,i=o,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,i=o;break}if(u===i){s=!0,i=a,r=o;break}u=u.sibling}if(!s)throw Error(n(189))}}if(r.alternate!==i)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function z(t,e){if(null==e)throw Error(n(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function W(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function H(t){if(null!==t&&(Ao=z(Ao,t)),t=Ao,Ao=null,t){if(W(t,xo),Ao)throw Error(n(95));if(ci)throw t=li,ci=!1,li=null,t}}function K(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function G(t){if(!ji)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}function Q(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Po.length&&Po.push(t)}function $(t,e,n,r){if(Po.length){var i=Po.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function Y(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=At(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=K(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<Li.length;u++){var c=Li[u];c&&(c=c.extractEvents(r,e,o,i,a))&&(s=z(s,c))}H(s)}}function X(t,e,n){if(!n.has(t)){switch(t){case"scroll":ct(e,"scroll",!0);break;case"focus":case"blur":ct(e,"focus",!0),ct(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":G(t)&&ct(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===No.indexOf(t)&&ut(t,e)}n.set(t,null)}}function J(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Z(t,e){switch(t){case"focus":case"blur":Do=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(e.pointerId)}}function tt(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=J(e,n,r,i,o),null!==e&&(null!==(e=xt(e))&&oc(e)),t):(t.eventSystemFlags|=r,t)}function et(t){var e=At(t.target);if(null!==e){var n=j(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=V(n)))return t.blockedOn=e,void no(t.priority,(function(){ac(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function nt(t){if(null!==t.blockedOn)return!1;var e=pt(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=xt(e);return null!==n&&oc(n),t.blockedOn=e,!1}return!0}function rt(t,e,n){nt(t)&&n.delete(e)}function it(){for(Ro=!1;0<Oo.length;){var t=Oo[0];if(null!==t.blockedOn){null!==(t=xt(t.blockedOn))&&ic(t);break}var e=pt(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:Oo.shift()}null!==Do&&nt(Do)&&(Do=null),null!==Lo&&nt(Lo)&&(Lo=null),null!==Mo&&nt(Mo)&&(Mo=null),Fo.forEach(rt),Uo.forEach(rt)}function ot(t,e){t.blockedOn===e&&(t.blockedOn=null,Ro||(Ro=!0,Zi(ao,it)))}function at(t){if(0<Oo.length){ot(Oo[0],t);for(var e=1;e<Oo.length;e++){var n=Oo[e];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Do&&ot(Do,t),null!==Lo&&ot(Lo,t),null!==Mo&&ot(Mo,t),e=function(e){return ot(e,t)},Fo.forEach(e),Uo.forEach(e),e=0;e<jo.length;e++)(n=jo[e]).blockedOn===t&&(n.blockedOn=null);for(;0<jo.length&&null===(e=jo[0]).blockedOn;)et(e),null===e.blockedOn&&jo.shift()}function st(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Wo.set(r,e),zo.set(r,o),Bo[i]=o}}function ut(t,e){ct(e,t,!1)}function ct(t,e,n){var r=Wo.get(e);switch(void 0===r?2:r){case 0:r=lt.bind(null,e,1,t);break;case 1:r=ht.bind(null,e,1,t);break;default:r=ft.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function lt(t,e,n,r){Qi||Ki();var i=ft,o=Qi;Qi=!0;try{Hi(i,t,e,n,r)}finally{(Qi=o)||d()}}function ht(t,e,n,r){Go(Ko,ft.bind(null,t,e,n,r))}function ft(t,e,n,r){if(Qo)if(0<Oo.length&&-1<Vo.indexOf(t))t=J(null,t,e,n,r),Oo.push(t);else{var i=pt(t,e,n,r);if(null===i)Z(t,r);else if(-1<Vo.indexOf(t))t=J(i,t,e,n,r),Oo.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return Do=tt(Do,t,e,n,r,i),!0;case"dragenter":return Lo=tt(Lo,t,e,n,r,i),!0;case"mouseover":return Mo=tt(Mo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fo.set(o,tt(Fo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uo.set(o,tt(Uo.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Z(t,r),t=$(t,r,null,e);try{v(Y,t)}finally{Q(t)}}}}function pt(t,e,n,r){if(null!==(n=At(n=K(r)))){var i=j(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=V(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=$(t,r,n,e);try{v(Y,t)}finally{Q(t)}return null}function dt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||$o.hasOwnProperty(t)&&$o[t]?(""+e).trim():e+"px"}function vt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=dt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function mt(t,e){if(e){if(Xo[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(n(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(n(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(n(62,""))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function gt(t,e){var n=U(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=Ui[e];for(var r=0;r<e.length;r++)X(e[r],t,n)}function bt(){}function wt(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function _t(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Et(t,e){var n,r=_t(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_t(r)}}function Tt(){for(var t=window,e=wt();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=wt((t=e.contentWindow).document)}return e}function It(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function St(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ct(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Nt(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function kt(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===Jo||n===ea||n===ta){if(0===e)return t;e--}else n===Zo&&e++}t=t.previousSibling}return null}function At(t){var e=t[sa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ca]||n[sa]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=kt(t);null!==t;){if(n=t[sa])return n;t=kt(t)}return e}n=(t=n).parentNode}return null}function xt(t){return!(t=t[sa]||t[ca])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Pt(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(n(33))}function Rt(t){return t[ua]||null}function Ot(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Dt(t,e){var r=t.stateNode;if(!r)return null;var i=fi(r);if(!i)return null;r=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(r&&"function"!=typeof r)throw Error(n(231,e,typeof r));return r}function Lt(t,e,n){(e=Dt(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=z(n._dispatchListeners,e),n._dispatchInstances=z(n._dispatchInstances,t))}function Mt(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ot(e);for(e=n.length;0<e--;)Lt(n[e],"captured",t);for(e=0;e<n.length;e++)Lt(n[e],"bubbled",t)}}function Ft(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Dt(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=z(n._dispatchListeners,e),n._dispatchInstances=z(n._dispatchInstances,t))}function Ut(t){t&&t.dispatchConfig.registrationName&&Ft(t._targetInst,null,t)}function jt(t){W(t,Mt)}function Vt(){if(fa)return fa;var t,e,n=ha,r=n.length,i="value"in la?la.value:la.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return fa=i.slice(t,1<e?1-e:void 0)}function qt(){return!0}function Bt(){return!1}function zt(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qt:Bt,this.isPropagationStopped=Bt,this}function Wt(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Ht(t){if(!(t instanceof this))throw Error(n(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Kt(t){t.eventPool=[],t.getPooled=Wt,t.release=Ht}function Gt(t,e){switch(t){case"keyup":return-1!==va.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Qt(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}function $t(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Sa[t.type]:"textarea"===e}function Yt(t,e,n){return(t=zt.getPooled(Ca.change,t,e,n)).type="change",f(n),jt(t),t}function Xt(t){H(t)}function Jt(t){if(_(Pt(t)))return t}function Zt(t,e){if("change"===t)return e}function te(){Na&&(Na.detachEvent("onpropertychange",ee),ka=Na=null)}function ee(t){if("value"===t.propertyName&&Jt(ka))if(t=Yt(ka,t,K(t)),Qi)H(t);else{Qi=!0;try{Wi(Xt,t)}finally{Qi=!1,d()}}}function ne(t,e,n){"focus"===t?(te(),ka=n,(Na=e).attachEvent("onpropertychange",ee)):"blur"===t&&te()}function re(t,e){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Jt(ka)}function ie(t,e){if("click"===t)return Jt(e)}function oe(t,e){if("input"===t||"change"===t)return Jt(e)}function ae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ra[t])&&!!e[t]}function se(t){return ae}function ue(t,e){if(qa(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ba.call(e,n[r])||!qa(t[n[r]],e[n[r]]))return!1;return!0}function ce(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Qa||null==Ha||Ha!==wt(n)?null:("selectionStart"in(n=Ha)&&It(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ga&&ue(Ga,n)?null:(Ga=n,(t=zt.getPooled(Wa.select,Ka,t,e)).type="select",t.target=Ha,jt(t),t))}function le(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function he(t,e){0>us||(t.current=ss[us],ss[us]=null,us--)}function fe(t,e,n){us++,ss[us]=t.current,t.current=e}function pe(t,e){var n=t.type.contextTypes;if(!n)return cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function de(t){return null!=(t=t.childContextTypes)}function ve(t,e,r){if(ls.current!==cs)throw Error(n(168));fe(ls,e),fe(hs,r)}function me(t,e,r){var i=t.stateNode;if(t=e.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in t))throw Error(n(108,a(e)||"Unknown",o));return Vi({},r,{},i)}function ye(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cs,fs=ls.current,fe(ls,t),fe(hs,hs.current),!0}function ge(t,e,r){var i=t.stateNode;if(!i)throw Error(n(169));r?(t=me(t,e,fs),i.__reactInternalMemoizedMergedChildContext=t,he(hs),he(ls),fe(ls,t)):he(hs),fe(hs,r)}function be(){switch(ms()){case ys:return 99;case gs:return 98;case bs:return 97;case ws:return 96;case _s:return 95;default:throw Error(n(332))}}function we(t){switch(t){case 99:return ys;case 98:return gs;case 97:return bs;case 96:return ws;case 95:return _s;default:throw Error(n(332))}}function _e(t,e){return t=we(t),ps(t,e)}function Ee(t,e,n){return t=we(t),ds(t,e,n)}function Te(t){return null===Ss?(Ss=[t],Cs=ds(ys,Se)):Ss.push(t),Es}function Ie(){if(null!==Cs){var t=Cs;Cs=null,vs(t)}Se()}function Se(){if(!Ns&&null!==Ss){Ns=!0;var t=0;try{var e=Ss;_e(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ss=null}catch(e){throw null!==Ss&&(Ss=Ss.slice(t+1)),ds(ys,Ie),e}finally{Ns=!1}}}function Ce(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Ne(t,e){if(t&&t.defaultProps)for(var n in e=Vi({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}function ke(){Os=Rs=Ps=null}function Ae(t){var e=xs.current;he(xs),t.type._context._currentValue=e}function xe(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function Pe(t,e){Ps=t,Os=Rs=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(cu=!0),t.firstContext=null)}function Re(t,e){if(Os!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Os=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Rs){if(null===Ps)throw Error(n(308));Rs=e,Ps.dependencies={expirationTime:0,firstContext:e,responders:null}}else Rs=Rs.next=e;return t._currentValue}function Oe(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function De(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function Le(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:Ds,payload:null,callback:null,next:null}).next=t}function Me(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Fe(t,e){var n=t.alternate;null!==n&&De(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function Ue(t,e,n,r){var i=t.updateQueue;Ms=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var u=i.baseState,c=0,l=null,h=null,f=null;if(null!==s)for(var p=s;;){if((a=p.expirationTime)<r){var d={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=d,l=u):f=f.next=d,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Tr(a,p.suspenseConfig);t:{var v=t,m=p;switch(a=e,d=n,m.tag){case 1:if("function"==typeof(v=m.payload)){u=v.call(d,u,a);break t}u=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case Ds:if(null==(a="function"==typeof(v=m.payload)?v.call(d,u,a):v))break t;u=Vi({},u,a);break t;case Ls:Ms=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=i.effects)?i.effects=[p]:a.push(p))}if(null===(p=p.next)||p===s){if(null===(a=i.shared.pending))break;p=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===f?l=u:f.next=h,i.baseState=l,i.baseQueue=f,Ir(c),t.expirationTime=c,t.memoizedState=u}}function je(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=r,"function"!=typeof i)throw Error(n(191,i));i.call(o)}}}function Ve(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:Vi({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}function qe(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ue(n,r)||!ue(i,o))}function Be(t,e,n){var r=!1,i=cs,o=e.contextType;return"object"==typeof o&&null!==o?o=Re(o):(i=de(e)?fs:ls.current,o=(r=null!=(r=e.contextTypes))?pe(t,i):cs),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=js,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ze(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&js.enqueueReplaceState(e,e.state,null)}function We(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Us,Oe(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=Re(o):(o=de(e)?fs:ls.current,i.context=pe(t,o)),Ue(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(Ve(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&js.enqueueReplaceState(i,i.state,null),Ue(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}function He(t,e,r){if(null!==(t=r.ref)&&"function"!=typeof t&&"object"!=typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var i=r.stateNode}if(!i)throw Error(n(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=i.refs;e===Us&&(e=i.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!=typeof t)throw Error(n(284));if(!r._owner)throw Error(n(290,t))}return t}function Ke(t,e){if("textarea"!==t.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Ge(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function r(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=qr(t,e)).index=0,t.sibling=null,t}function s(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function u(e){return t&&null===e.alternate&&(e.effectTag=2),e}function c(t,e,n,r){return null===e||6!==e.tag?((e=Wr(n,t.mode,r)).return=t,e):((e=a(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=a(e,n.props)).ref=He(t,e,n),r.return=t,r):((r=Br(n.type,n.key,n.props,null,t.mode,r)).ref=He(t,e,n),r.return=t,r)}function h(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hr(n,t.mode,r)).return=t,e):((e=a(e,n.children||[])).return=t,e)}function f(t,e,n,r,i){return null===e||7!==e.tag?((e=zr(n,t.mode,r,i)).return=t,e):((e=a(e,n)).return=t,e)}function p(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Wr(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case gi:return(n=Br(e.type,e.key,e.props,null,t.mode,n)).ref=He(t,null,e),n.return=t,n;case bi:return(e=Hr(e,t.mode,n)).return=t,e}if(Vs(e)||o(e))return(e=zr(e,t.mode,n,null)).return=t,e;Ke(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case gi:return n.key===i?n.type===wi?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case bi:return n.key===i?h(t,e,n,r):null}if(Vs(n)||o(n))return null!==i?null:f(t,e,n,r,null);Ke(t,n)}return null}function v(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return c(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case gi:return t=t.get(null===r.key?n:r.key)||null,r.type===wi?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case bi:return h(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Vs(r)||o(r))return f(e,t=t.get(n)||null,r,i,null);Ke(e,r)}return null}function m(n,o,a,u){for(var c=null,l=null,h=o,f=o=0,m=null;null!==h&&f<a.length;f++){h.index>f?(m=h,h=null):m=h.sibling;var y=d(n,h,a[f],u);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(n,h),o=s(y,o,f),null===l?c=y:l.sibling=y,l=y,h=m}if(f===a.length)return r(n,h),c;if(null===h){for(;f<a.length;f++)null!==(h=p(n,a[f],u))&&(o=s(h,o,f),null===l?c=h:l.sibling=h,l=h);return c}for(h=i(n,h);f<a.length;f++)null!==(m=v(h,n,f,a[f],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?f:m.key),o=s(m,o,f),null===l?c=m:l.sibling=m,l=m);return t&&h.forEach((function(t){return e(n,t)})),c}function y(a,u,c,l){var h=o(c);if("function"!=typeof h)throw Error(n(150));if(null==(c=h.call(c)))throw Error(n(151));for(var f=h=null,m=u,y=u=0,g=null,b=c.next();null!==m&&!b.done;y++,b=c.next()){m.index>y?(g=m,m=null):g=m.sibling;var w=d(a,m,b.value,l);if(null===w){null===m&&(m=g);break}t&&m&&null===w.alternate&&e(a,m),u=s(w,u,y),null===f?h=w:f.sibling=w,f=w,m=g}if(b.done)return r(a,m),h;if(null===m){for(;!b.done;y++,b=c.next())null!==(b=p(a,b.value,l))&&(u=s(b,u,y),null===f?h=b:f.sibling=b,f=b);return h}for(m=i(a,m);!b.done;y++,b=c.next())null!==(b=v(m,a,y,b.value,l))&&(t&&null!==b.alternate&&m.delete(null===b.key?y:b.key),u=s(b,u,y),null===f?h=b:f.sibling=b,f=b);return t&&m.forEach((function(t){return e(a,t)})),h}return function(t,i,s,c){var l="object"==typeof s&&null!==s&&s.type===wi&&null===s.key;l&&(s=s.props.children);var h="object"==typeof s&&null!==s;if(h)switch(s.$$typeof){case gi:t:{for(h=s.key,l=i;null!==l;){if(l.key===h){switch(l.tag){case 7:if(s.type===wi){r(t,l.sibling),(i=a(l,s.props.children)).return=t,t=i;break t}break;default:if(l.elementType===s.type){r(t,l.sibling),(i=a(l,s.props)).ref=He(t,l,s),i.return=t,t=i;break t}}r(t,l);break}e(t,l),l=l.sibling}s.type===wi?((i=zr(s.props.children,t.mode,c,s.key)).return=t,t=i):((c=Br(s.type,s.key,s.props,null,t.mode,c)).ref=He(t,i,s),c.return=t,t=c)}return u(t);case bi:t:{for(l=s.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(t,i.sibling),(i=a(i,s.children||[])).return=t,t=i;break t}r(t,i);break}e(t,i),i=i.sibling}(i=Hr(s,t.mode,c)).return=t,t=i}return u(t)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==i&&6===i.tag?(r(t,i.sibling),(i=a(i,s)).return=t,t=i):(r(t,i),(i=Wr(s,t.mode,c)).return=t,t=i),u(t);if(Vs(s))return m(t,i,s,c);if(o(s))return y(t,i,s,c);if(h&&Ke(t,s),void 0===s&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(n(152,t.displayName||t.name||"Component"))}return r(t,i)}}function Qe(t){if(t===zs)throw Error(n(174));return t}function $e(t,e){switch(fe(Ks,e),fe(Hs,t),fe(Ws,zs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:L(null,"");break;default:e=L(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}he(Ws),fe(Ws,e)}function Ye(t){he(Ws),he(Hs),he(Ks)}function Xe(t){Qe(Ks.current);var e=Qe(Ws.current),n=L(e,t.type);e!==n&&(fe(Hs,t),fe(Ws,n))}function Je(t){Hs.current===t&&(he(Ws),he(Hs))}function Ze(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===ta||n.data===ea))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function tn(t,e){return{responder:t,props:e}}function en(){throw Error(n(321))}function nn(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qa(t[n],e[n]))return!1;return!0}function rn(t,e,r,i,o,a){if(Ys=a,Xs=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Qs.current=null===t||null===t.memoizedState?nu:ru,t=r(i,o),e.expirationTime===Ys){a=0;do{if(e.expirationTime=0,!(25>a))throw Error(n(301));a+=1,Zs=Js=null,e.updateQueue=null,Qs.current=iu,t=r(i,o)}while(e.expirationTime===Ys)}if(Qs.current=eu,e=null!==Js&&null!==Js.next,Ys=0,Zs=Js=Xs=null,tu=!1,e)throw Error(n(300));return t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zs?Xs.memoizedState=Zs=t:Zs=Zs.next=t,Zs}function an(){if(null===Js){var t=Xs.alternate;t=null!==t?t.memoizedState:null}else t=Js.next;var e=null===Zs?Xs.memoizedState:Zs.next;if(null!==e)Zs=e,Js=t;else{if(null===t)throw Error(n(310));t={memoizedState:(Js=t).memoizedState,baseState:Js.baseState,baseQueue:Js.baseQueue,queue:Js.queue,next:null},null===Zs?Xs.memoizedState=Zs=t:Zs=Zs.next=t}return Zs}function sn(t,e){return"function"==typeof e?e(t):e}function un(t,e,r){if(null===(r=(e=an()).queue))throw Error(n(311));r.lastRenderedReducer=t;var i=Js,o=i.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,r.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,c=o;do{var l=c.expirationTime;if(l<Ys){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=i):u=u.next=h,l>Xs.expirationTime&&(Xs.expirationTime=l,Ir(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Tr(l,c.suspenseConfig),i=c.eagerReducer===t?c.eagerState:t(i,c.action);c=c.next}while(null!==c&&c!==o);null===u?a=i:u.next=s,qa(i,e.memoizedState)||(cu=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,r.lastRenderedState=i}return[e.memoizedState,r.dispatch]}function cn(t,e,r){if(null===(r=(e=an()).queue))throw Error(n(311));r.lastRenderedReducer=t;var i=r.dispatch,o=r.pending,a=e.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{a=t(a,s.action),s=s.next}while(s!==o);qa(a,e.memoizedState)||(cu=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,i]}function ln(t){var e=on();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sn,lastRenderedState:t}).dispatch=Sn.bind(null,Xs,t),[e.memoizedState,t]}function hn(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Xs.updateQueue)?(e={lastEffect:null},Xs.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function fn(t){return an().memoizedState}function pn(t,e,n,r){var i=on();Xs.effectTag|=t,i.memoizedState=hn(1|e,n,void 0,void 0===r?null:r)}function dn(t,e,n,r){var i=an();r=void 0===r?null:r;var o=void 0;if(null!==Js){var a=Js.memoizedState;if(o=a.destroy,null!==r&&nn(r,a.deps))return void hn(e,n,o,r)}Xs.effectTag|=t,i.memoizedState=hn(1|e,n,o,r)}function vn(t,e){return pn(516,4,t,e)}function mn(t,e){return dn(516,4,t,e)}function yn(t,e){return dn(4,2,t,e)}function gn(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function bn(t,e,n){return n=null!=n?n.concat([t]):null,dn(4,2,gn.bind(null,e,t),n)}function wn(t,e){}function _n(t,e){return on().memoizedState=[t,void 0===e?null:e],t}function En(t,e){var n=an();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&nn(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tn(t,e){var n=an();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&nn(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function In(t,e,n){var r=be();_e(98>r?98:r,(function(){t(!0)})),_e(97<r?97:r,(function(){var r=$s.suspense;$s.suspense=void 0===e?null:e;try{t(!1),n()}finally{$s.suspense=r}}))}function Sn(t,e,n){var r=hr(),i=Fs.suspense;i={expirationTime:r=fr(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Xs||null!==o&&o===Xs)tu=!0,i.expirationTime=Ys,Xs.expirationTime=Ys;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,qa(s,a))return}catch(t){}Zu(t,r)}}function Cn(t,e){var n=rc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Nn(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function kn(t){if(su){var e=au;if(e){var n=e;if(!Nn(t,e)){if(!(e=Nt(n.nextSibling))||!Nn(t,e))return t.effectTag=-1025&t.effectTag|2,su=!1,void(ou=t);Cn(ou,n)}ou=t,au=Nt(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,su=!1,ou=t}}function An(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ou=t}function xn(t){if(t!==ou)return!1;if(!su)return An(t),su=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ct(e,t.memoizedProps))for(e=au;e;)Cn(t,e),e=Nt(e.nextSibling);if(An(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(n(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if(r===Zo){if(0===e){au=Nt(t.nextSibling);break t}e--}else r!==Jo&&r!==ea&&r!==ta||e++}t=t.nextSibling}au=null}}else au=ou?Nt(t.stateNode.nextSibling):null;return!0}function Pn(){au=ou=null,su=!1}function Rn(t,e,n,r){e.child=null===t?Bs(e,null,n,r):qs(e,t.child,n,r)}function On(t,e,n,r,i){n=n.render;var o=e.ref;return Pe(e,i),r=rn(t,e,n,r,o,i),null===t||cu?(e.effectTag|=1,Rn(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Hn(t,e,i))}function Dn(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Br(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ln(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ue)(i,r)&&t.ref===e.ref)?Hn(t,e,o):(e.effectTag|=1,(t=qr(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ln(t,e,n,r,i,o){return null!==t&&ue(t.memoizedProps,r)&&t.ref===e.ref&&(cu=!1,i<o)?(e.expirationTime=t.expirationTime,Hn(t,e,o)):Fn(t,e,n,r,o)}function Mn(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Fn(t,e,n,r,i){var o=de(n)?fs:ls.current;return o=pe(e,o),Pe(e,i),n=rn(t,e,n,r,o,i),null===t||cu?(e.effectTag|=1,Rn(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Hn(t,e,i))}function Un(t,e,n,r,i){if(de(n)){var o=!0;ye(e)}else o=!1;if(Pe(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Be(e,n,r),We(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Re(c):c=pe(e,c=de(n)?fs:ls.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ze(e,a,r,c),Ms=!1;var f=e.memoizedState;a.state=f,Ue(e,r,a,i),u=e.memoizedState,s!==r||f!==u||hs.current||Ms?("function"==typeof l&&(Ve(e,n,l,r),u=e.memoizedState),(s=Ms||qe(e,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,De(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Ne(e.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Re(c):c=pe(e,c=de(n)?fs:ls.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ze(e,a,r,c),Ms=!1,u=e.memoizedState,a.state=u,Ue(e,r,a,i),f=e.memoizedState,s!==r||u!==f||hs.current||Ms?("function"==typeof l&&(Ve(e,n,l,r),f=e.memoizedState),(l=Ms||qe(e,n,s,r,u,f,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return jn(t,e,n,r,o,i)}function jn(t,e,n,r,i,o){Mn(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&ge(e,n,!1),Hn(t,e,o);r=e.stateNode,uu.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=qs(e,t.child,null,o),e.child=qs(e,null,s,o)):Rn(t,e,s,o),e.memoizedState=r.state,i&&ge(e,n,!0),e.child}function Vn(t){var e=t.stateNode;e.pendingContext?ve(0,e.pendingContext,e.pendingContext!==e.context):e.context&&ve(0,e.context,!1),$e(t,e.containerInfo)}function qn(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Gs.current,s=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fe(Gs,1&a),null===t){if(void 0!==o.fallback&&kn(e),s){if(s=o.fallback,(o=zr(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=zr(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=lu,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Bs(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=qr(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=qr(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=lu,e.child=n,i}return n=qs(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=zr(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=zr(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=lu,e.child=o,n}return e.memoizedState=null,e.child=qs(e,t,o.children,n)}function Bn(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),xe(t.return,e)}function zn(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Wn(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rn(t,e,r.children,n),0!=(2&(r=Gs.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bn(t,n);else if(19===t.tag)Bn(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Gs,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Ze(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zn(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ze(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zn(e,!0,n,null,o,e.lastEffect);break;case"together":zn(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Hn(t,e,r){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&Ir(i),e.childExpirationTime<r)return null;if(null!==t&&e.child!==t.child)throw Error(n(153));if(null!==e.child){for(r=qr(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=qr(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Kn(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gn(t,e,r){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return de(e.type)&&(he(hs),he(ls)),null;case 3:return Ye(),he(hs),he(ls),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||!xn(e)||(e.effectTag|=4),null;case 5:Je(e),r=Qe(Ks.current);var o=e.type;if(null!==t&&null!=e.stateNode)fu(t,e,o,i,r),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(n(166));return null}if(t=Qe(Ws.current),xn(e)){i=e.stateNode,o=e.type;var a=e.memoizedProps;switch(i[sa]=e,i[ua]=a,o){case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(t=0;t<No.length;t++)ut(No[t],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"form":ut("reset",i),ut("submit",i);break;case"details":ut("toggle",i);break;case"input":T(i,a),ut("invalid",i),gt(r,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ut("invalid",i),gt(r,"onChange");break;case"textarea":P(i,a),ut("invalid",i),gt(r,"onChange")}for(var s in mt(o,a),t=null,a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"==typeof u?i.textContent!==u&&(t=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(t=["children",""+u]):Fi.hasOwnProperty(s)&&null!=u&&gt(r,s)}switch(o){case"input":w(i),C(i,a,!0);break;case"textarea":w(i),O(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=bt)}r=t,e.updateQueue=r,null!==r&&(e.effectTag|=4)}else{switch(s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=D(o)),"http://www.w3.org/1999/xhtml"===t?"script"===o?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=s.createElement(o,{is:i.is}):(t=s.createElement(o),"select"===o&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,o),t[sa]=e,t[ua]=i,hu(t,e,!1),e.stateNode=t,s=yt(o,i),o){case"iframe":case"object":case"embed":ut("load",t),u=i;break;case"video":case"audio":for(u=0;u<No.length;u++)ut(No[u],t);u=i;break;case"source":ut("error",t),u=i;break;case"img":case"image":case"link":ut("error",t),ut("load",t),u=i;break;case"form":ut("reset",t),ut("submit",t),u=i;break;case"details":ut("toggle",t),u=i;break;case"input":T(t,i),u=E(t,i),ut("invalid",t),gt(r,"onChange");break;case"option":u=k(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},u=Vi({},i,{value:void 0}),ut("invalid",t),gt(r,"onChange");break;case"textarea":P(t,i),u=x(t,i),ut("invalid",t),gt(r,"onChange");break;default:u=i}mt(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?vt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&go(t,l):"children"===a?"string"==typeof l?("textarea"!==o||""!==l)&&bo(t,l):"number"==typeof l&&bo(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Fi.hasOwnProperty(a)?null!=l&&gt(r,a):null!=l&&y(t,a,l,s))}switch(o){case"input":w(t),C(t,i,!1);break;case"textarea":w(t),O(t);break;case"option":null!=i.value&&t.setAttribute("value",""+g(i.value));break;case"select":t.multiple=!!i.multiple,null!=(r=i.value)?A(t,!!i.multiple,r,!1):null!=i.defaultValue&&A(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof u.onClick&&(t.onclick=bt)}St(o,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)pu(t,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(n(166));r=Qe(Ks.current),Qe(Ws.current),xn(e)?(r=e.stateNode,i=e.memoizedProps,r[sa]=e,r.nodeValue!==i&&(e.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[sa]=e,e.stateNode=r)}return null;case 13:return he(Gs),i=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=r,e):(r=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&xn(e):(i=null!==(o=t.memoizedState),r||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Gs.current)?Ou===Tu&&(Ou=Cu):(Ou!==Tu&&Ou!==Cu||(Ou=Nu),0!==Uu&&null!==xu&&(Qr(xu,Ru),$r(xu,Uu)))),(r||i)&&(e.effectTag|=4),null);case 4:return Ye(),null;case 10:return Ae(e),null;case 17:return de(e.type)&&(he(hs),he(ls)),null;case 19:if(he(Gs),null===(i=e.memoizedState))return null;if(o=0!=(64&e.effectTag),null===(a=i.rendering)){if(o)Kn(i,!1);else if(Ou!==Tu||null!==t&&0!=(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Ze(a))){for(e.effectTag|=64,Kn(i,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)a=r,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return fe(Gs,1&Gs.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Ze(a))){if(e.effectTag|=64,o=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),Kn(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*As()-i.renderingStartTime>i.tailExpiration&&1<r&&(e.effectTag|=64,o=!0,Kn(i,!1),e.expirationTime=e.childExpirationTime=r-1);i.isBackwards?(a.sibling=e.child,e.child=a):(null!==(r=i.last)?r.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=As()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=As(),r.sibling=null,e=Gs.current,fe(Gs,o?1&e|2:1&e),r):null}throw Error(n(156,e.tag))}function Qn(t,e){switch(t.tag){case 1:return de(t.type)&&(he(hs),he(ls)),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 3:if(Ye(),he(hs),he(ls),0!=(64&(e=t.effectTag)))throw Error(n(285));return t.effectTag=-4097&e|64,t;case 5:return Je(t),null;case 13:return he(Gs),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return he(Gs),null;case 4:return Ye(),null;case 10:return Ae(t),null;default:return null}}function $n(t,e){return{value:t,source:e,stack:s(e)}}function Yn(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=s(n)),null!==n&&a(n.type),e=e.value,null!==t&&1===t.tag&&a(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function Xn(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Mr(t,e)}else e.current=null}function Jn(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var r=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:Ne(e.type,r),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163))}function Zn(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function tr(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function er(t,e,r,i){switch(r.tag){case 0:case 11:case 15:case 22:return void tr(3,r);case 1:return t=r.stateNode,4&r.effectTag&&(null===e?t.componentDidMount():(i=r.elementType===r.type?e.memoizedProps:Ne(r.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=r.updateQueue)&&je(r,e,t));case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}je(r,e,t)}return;case 5:return t=r.stateNode,void(null===e&&4&r.effectTag&&St(r.type,r.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&at(r)))));case 19:case 17:case 20:case 21:return}throw Error(n(163))}function nr(t,e,n){switch("function"==typeof nc&&nc(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;_e(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){Mr(i,t)}}t=t.next}while(t!==r)}))}break;case 1:Xn(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Mr(t,e)}}(e,n);break;case 5:Xn(e);break;case 4:ar(t,e,n)}}function rr(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&rr(e)}function ir(t){return 5===t.tag||3===t.tag||4===t.tag}function or(t){t:{for(var e=t.return;null!==e;){if(ir(e)){var r=e;break t}e=e.return}throw Error(n(160))}switch(e=r.stateNode,r.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(n(161))}16&r.effectTag&&(bo(e,""),r.effectTag&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||ir(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}i?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=bt));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,r,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,r,e)}function ar(t,e,r){for(var i,o,a=e,s=!1;;){if(!s){s=a.return;t:for(;;){if(null===s)throw Error(n(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break t;case 3:case 4:i=i.containerInfo,o=!0;break t}s=s.return}s=!0}if(5===a.tag||6===a.tag){t:for(var u=t,c=a,l=r,h=c;;)if(nr(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break t;for(;null===h.sibling;){if(null===h.return||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(u=i,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(nr(t,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function sr(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Zn(3,e);case 1:return;case 5:var r=e.stateNode;if(null!=r){var i=e.memoizedProps,o=null!==t?t.memoizedProps:i;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(r[ua]=i,"input"===t&&"radio"===i.type&&null!=i.name&&I(r,i),yt(t,o),e=yt(t,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?vt(r,u):"dangerouslySetInnerHTML"===s?go(r,u):"children"===s?bo(r,u):y(r,s,u,e)}switch(t){case"input":S(r,i);break;case"textarea":R(r,i);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?A(r,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?A(r,!!i.multiple,i.defaultValue,!0):A(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(n(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,at(e.containerInfo)));case 12:return;case 13:if(r=e,null===e.memoizedState?i=!1:(i=!0,r=e.child,Vu=As()),null!==r)t:for(t=r;;){if(5===t.tag)a=t.stateNode,i?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=t.stateNode,o=null!=(o=t.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,a.style.display=dt("display",o));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ur(e);case 19:return void ur(e);case 17:return}throw Error(n(163))}function ur(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new du),e.forEach((function(e){var r=Ur.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function cr(t,e,n){(n=Le(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zu||(zu=!0,Wu=r),Yn(t,e)},n}function lr(t,e,n){(n=Le(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return Yn(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this),Yn(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}function hr(){return(Au&(_u|Eu))!==bu?1073741821-(As()/10|0):0!==Ju?Ju:Ju=1073741821-(As()/10|0)}function fr(t,e,r){if(0==(2&(e=e.mode)))return 1073741823;var i=be();if(0==(4&e))return 99===i?1073741823:1073741822;if((Au&_u)!==bu)return Ru;if(null!==r)t=Ce(t,0|r.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Ce(t,150,100);break;case 97:case 96:t=Ce(t,5e3,250);break;case 95:t=2;break;default:throw Error(n(326))}return null!==xu&&t===Ru&&--t,t}function pr(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(xu===i&&(Ir(e),Ou===Nu&&Qr(i,Ru)),$r(i,e)),i}function dr(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Gr(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function vr(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Te(yr.bind(null,t));else{var e=dr(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=hr();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Es&&vs(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Te(yr.bind(null,t)):Ee(r,mr.bind(null,t),{timeout:10*(1073741821-e)-As()}),t.callbackNode=e}}}function mr(t,e){if(Ju=0,e)return Yr(t,e=hr()),vr(t),null;var r=dr(t);if(0!==r){if(e=t.callbackNode,(Au&(_u|Eu))!==bu)throw Error(n(327));if(Or(),t===xu&&r===Ru||wr(t,r),null!==Pu){var i=Au;Au|=_u;for(var o=Er();;)try{Cr();break}catch(e){_r(t,e)}if(ke(),Au=i,yu.current=o,Ou===Iu)throw e=Du,wr(t,r),Qr(t,r),vr(t),e;if(null===Pu)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,i=Ou,xu=null,i){case Tu:case Iu:throw Error(n(345));case Su:Yr(t,2<r?2:r);break;case Cu:if(Qr(t,r),r===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ar(o)),1073741823===Lu&&10<(o=Vu+qu-As())){if(ju){var a=t.lastPingedTime;if(0===a||a>=r){t.lastPingedTime=r,wr(t,r);break}}if(0!==(a=dr(t))&&a!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}t.timeoutHandle=ia(xr.bind(null,t),o);break}xr(t);break;case Nu:if(Qr(t,r),r===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ar(o)),ju&&(0===(o=t.lastPingedTime)||o>=r)){t.lastPingedTime=r,wr(t,r);break}if(0!==(o=dr(t))&&o!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}if(1073741823!==Mu?i=10*(1073741821-Mu)-As():1073741823===Lu?i=0:(i=10*(1073741821-Lu)-5e3,0>(i=(o=As())-i)&&(i=0),(r=10*(1073741821-r)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mu(i/1960))-i)&&(i=r)),10<i){t.timeoutHandle=ia(xr.bind(null,t),i);break}xr(t);break;case ku:if(1073741823!==Lu&&null!==Fu){a=Lu;var s=Fu;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(a=As()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+i-a),10<i){Qr(t,r),t.timeoutHandle=ia(xr.bind(null,t),i);break}}xr(t);break;default:throw Error(n(329))}if(vr(t),t.callbackNode===e)return mr.bind(null,t)}}return null}function yr(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Au&(_u|Eu))!==bu)throw Error(n(327));if(Or(),t===xu&&e===Ru||wr(t,e),null!==Pu){var r=Au;Au|=_u;for(var i=Er();;)try{Sr();break}catch(e){_r(t,e)}if(ke(),Au=r,yu.current=i,Ou===Iu)throw r=Du,wr(t,e),Qr(t,e),vr(t),r;if(null!==Pu)throw Error(n(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,xu=null,xr(t),vr(t)}return null}function gr(t,e){var n=Au;Au|=1;try{return t(e)}finally{(Au=n)===bu&&Ie()}}function br(t,e){var n=Au;Au&=-2,Au|=wu;try{return t(e)}finally{(Au=n)===bu&&Ie()}}function wr(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,oa(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&(he(hs),he(ls));break;case 3:Ye(),he(hs),he(ls);break;case 5:Je(r);break;case 4:Ye();break;case 13:case 19:he(Gs);break;case 10:Ae(r)}n=n.return}xu=t,Pu=qr(t.current,null),Ru=e,Ou=Tu,Du=null,Mu=Lu=1073741823,Fu=null,Uu=0,ju=!1}function _r(t,e){for(;;){try{if(ke(),Qs.current=eu,tu)for(var n=Xs.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ys=0,Zs=Js=Xs=null,tu=!1,null===Pu||null===Pu.return)return Ou=Iu,Du=e,Pu=null;t:{var i=t,o=Pu.return,u=Pu,c=e;if(e=Ru,u.effectTag|=2048,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&u.mode)){var h=u.alternate;h?(u.memoizedState=h.memoizedState,u.expirationTime=h.expirationTime):u.memoizedState=null}var f=0!=(1&Gs.current),p=o;do{var d;if(d=13===p.tag){var v=p.memoizedState;if(null!==v)d=null!==v.dehydrated;else{var m=p.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var y=p.updateQueue;if(null===y){var g=new Set;g.add(l),p.updateQueue=g}else y.add(l);if(0==(2&p.mode)){if(p.effectTag|=64,u.effectTag&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=Le(1073741823,null);b.tag=Ls,Me(u,b)}u.expirationTime=1073741823;break t}c=void 0,u=e;var w=i.pingCache;if(null===w?(w=i.pingCache=new vu,c=new Set,w.set(l,c)):void 0===(c=w.get(l))&&(c=new Set,w.set(l,c)),!c.has(u)){c.add(u);var _=Fr.bind(null,i,l,u);l.then(_,_)}p.effectTag|=4096,p.expirationTime=e;break t}p=p.return}while(null!==p);c=Error((a(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+s(u))}Ou!==ku&&(Ou=Su),c=$n(c,u),p=o;do{switch(p.tag){case 3:l=c,p.effectTag|=4096,p.expirationTime=e,Fe(p,cr(p,l,e));break t;case 1:l=c;var E=p.type,T=p.stateNode;if(0==(64&p.effectTag)&&("function"==typeof E.getDerivedStateFromError||null!==T&&"function"==typeof T.componentDidCatch&&(null===Hu||!Hu.has(T)))){p.effectTag|=4096,p.expirationTime=e,Fe(p,lr(p,l,e));break t}}p=p.return}while(null!==p)}Pu=kr(Pu)}catch(t){e=t;continue}break}}function Er(t){return t=yu.current,yu.current=eu,null===t?eu:t}function Tr(t,e){t<Lu&&2<t&&(Lu=t),null!==e&&t<Mu&&2<t&&(Mu=t,Fu=e)}function Ir(t){t>Uu&&(Uu=t)}function Sr(){for(;null!==Pu;)Pu=Nr(Pu)}function Cr(){for(;null!==Pu&&!Ts();)Pu=Nr(Pu)}function Nr(t){var e=tc(t.alternate,t,Ru);return t.memoizedProps=t.pendingProps,null===e&&(e=kr(t)),gu.current=null,e}function kr(t){Pu=t;do{var e=Pu.alternate;if(t=Pu.return,0==(2048&Pu.effectTag)){if(e=Gn(e,Pu,Ru),1===Ru||1!==Pu.childExpirationTime){for(var n=0,r=Pu.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Pu.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Pu.firstEffect),null!==Pu.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Pu.firstEffect),t.lastEffect=Pu.lastEffect),1<Pu.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Pu:t.firstEffect=Pu,t.lastEffect=Pu))}else{if(null!==(e=Qn(Pu)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Pu.sibling))return e;Pu=t}while(null!==Pu);return Ou===Tu&&(Ou=ku),null}function Ar(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function xr(t){var e=be();return _e(99,Pr.bind(null,t,e)),null}function Pr(t,e){do{Or()}while(null!==Gu);if((Au&(_u|Eu))!==bu)throw Error(n(327));var r=t.finishedWork,i=t.finishedExpirationTime;if(null===r)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,r===t.current)throw Error(n(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var o=Ar(r);if(t.firstPendingTime=o,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===xu&&(Pu=xu=null,Ru=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,o=r.firstEffect):o=r:o=r.firstEffect,null!==o){var a=Au;Au|=Eu,gu.current=null,na=Qo;var s=Tt();if(It(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(t){u=null;break t}var f=0,p=-1,d=-1,v=0,m=0,y=s,g=null;e:for(;;){for(var b;y!==u||0!==l&&3!==y.nodeType||(p=f+l),y!==h||0!==c&&3!==y.nodeType||(d=f+c),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break e;if(g===u&&++v===l&&(p=f),g===h&&++m===c&&(d=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;ra={activeElementDetached:null,focusedElem:s,selectionRange:u},Qo=!1,Bu=o;do{try{Rr()}catch(t){if(null===Bu)throw Error(n(330));Mr(Bu,t),Bu=Bu.nextEffect}}while(null!==Bu);Bu=o;do{try{for(s=t,u=e;null!==Bu;){var w=Bu.effectTag;if(16&w&&bo(Bu.stateNode,""),128&w){var _=Bu.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:or(Bu),Bu.effectTag&=-3;break;case 6:or(Bu),Bu.effectTag&=-3,sr(Bu.alternate,Bu);break;case 1024:Bu.effectTag&=-1025;break;case 1028:Bu.effectTag&=-1025,sr(Bu.alternate,Bu);break;case 4:sr(Bu.alternate,Bu);break;case 8:ar(s,l=Bu,u),rr(l)}Bu=Bu.nextEffect}}catch(t){if(null===Bu)throw Error(n(330));Mr(Bu,t),Bu=Bu.nextEffect}}while(null!==Bu);if(E=ra,_=Tt(),w=E.focusedElem,u=E.selectionRange,_!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&It(w)&&(_=u.start,void 0===(E=u.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=Et(w,s),h=Et(w,u),l&&h&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((_=_.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(_),E.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Qo=!!na,ra=na=null,t.current=r,Bu=o;do{try{for(w=t;null!==Bu;){var T=Bu.effectTag;if(36&T&&er(w,Bu.alternate,Bu),128&T){_=void 0;var I=Bu.ref;if(null!==I){var S=Bu.stateNode;switch(Bu.tag){case 5:_=S;break;default:_=S}"function"==typeof I?I(_):I.current=_}}Bu=Bu.nextEffect}}catch(t){if(null===Bu)throw Error(n(330));Mr(Bu,t),Bu=Bu.nextEffect}}while(null!==Bu);Bu=null,Is(),Au=a}else t.current=r;if(Ku)Ku=!1,Gu=t,Qu=e;else for(Bu=o;null!==Bu;)e=Bu.nextEffect,Bu.nextEffect=null,Bu=e;if(0===(e=t.firstPendingTime)&&(Hu=null),1073741823===e?t===Xu?Yu++:(Yu=0,Xu=t):Yu=0,"function"==typeof ec&&ec(r.stateNode,i),vr(t),zu)throw zu=!1,t=Wu,Wu=null,t;return(Au&wu)!==bu||Ie(),null}function Rr(){for(;null!==Bu;){var t=Bu.effectTag;0!=(256&t)&&Jn(Bu.alternate,Bu),0==(512&t)||Ku||(Ku=!0,Ee(97,(function(){return Or(),null}))),Bu=Bu.nextEffect}}function Or(){if(90!==Qu){var t=97<Qu?97:Qu;return Qu=90,_e(t,Dr)}}function Dr(){if(null===Gu)return!1;var t=Gu;if(Gu=null,(Au&(_u|Eu))!==bu)throw Error(n(331));var e=Au;for(Au|=Eu,t=t.current.firstEffect;null!==t;){try{var r=t;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:Zn(5,r),tr(5,r)}}catch(e){if(null===t)throw Error(n(330));Mr(t,e)}r=t.nextEffect,t.nextEffect=null,t=r}return Au=e,Ie(),!0}function Lr(t,e,n){Me(t,e=cr(t,e=$n(n,e),1073741823)),null!==(t=pr(t,1073741823))&&vr(t)}function Mr(t,e){if(3===t.tag)Lr(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Lr(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){Me(n,t=lr(n,t=$n(e,t),1073741823)),null!==(n=pr(n,1073741823))&&vr(n);break}}n=n.return}}function Fr(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),xu===t&&Ru===n?Ou===Nu||Ou===Cu&&1073741823===Lu&&As()-Vu<qu?wr(t,Ru):ju=!0:Gr(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,vr(t)))}function Ur(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=fr(e=hr(),t,null)),null!==(t=pr(t,e))&&vr(t)}function jr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function qr(t,e){var n=t.alternate;return null===n?((n=rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Br(t,e,r,i,o,a){var s=2;if(i=t,"function"==typeof t)Vr(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case wi:return zr(r.children,o,a,e);case Si:s=8,o|=7;break;case _i:s=8,o|=1;break;case Ei:return(t=rc(12,r,e,8|o)).elementType=Ei,t.type=Ei,t.expirationTime=a,t;case Ni:return(t=rc(13,r,e,o)).type=Ni,t.elementType=Ni,t.expirationTime=a,t;case ki:return(t=rc(19,r,e,o)).elementType=ki,t.expirationTime=a,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case Ti:s=10;break t;case Ii:s=9;break t;case Ci:s=11;break t;case Ai:s=14;break t;case xi:s=16,i=null;break t;case Pi:s=22;break t}throw Error(n(130,null==t?t:typeof t,""))}return(e=rc(s,r,e,o)).elementType=t,e.type=i,e.expirationTime=a,e}function zr(t,e,n,r){return(t=rc(7,t,r,e)).expirationTime=n,t}function Wr(t,e,n){return(t=rc(6,t,null,e)).expirationTime=n,t}function Hr(t,e,n){return(e=rc(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kr(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Gr(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Qr(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function $r(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Yr(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Xr(t,e,r,i){var o=e.current,a=hr(),s=Fs.suspense;a=fr(a,o,s);t:if(r){e:{if(j(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(n(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(de(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(n(171))}if(1===r.tag){var c=r.type;if(de(c)){r=me(r,c,u);break t}}r=u}else r=cs;return null===e.context?e.context=r:e.pendingContext=r,(e=Le(a,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),Me(o,e),Zu(o,a),a}function Jr(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Zr(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function ti(t,e){Zr(t,e),(t=t.alternate)&&Zr(t,e)}function ei(t,e,n){var r=new Kr(t,e,n=null!=n&&!0===n.hydrate),i=rc(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,Oe(i),t[ca]=r.current,n&&0!==e&&function(t,e){var n=U(e);Vo.forEach((function(t){X(t,e,n)})),qo.forEach((function(t){X(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function ni(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ri(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Jr(a);s.call(t)}}Xr(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ei(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=Jr(a);u.call(t)}}br((function(){Xr(e,a,t,i)}))}return Jr(a)}function ii(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:bi,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function oi(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ni(e))throw Error(n(200));return ii(t,e,null,r)}if(!e)throw Error(n(227));var ai=function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}},si=!1,ui=null,ci=!1,li=null,hi={onError:function(t){si=!0,ui=t}},fi=null,pi=null,di=null,vi=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;vi.hasOwnProperty("ReactCurrentDispatcher")||(vi.ReactCurrentDispatcher={current:null}),vi.hasOwnProperty("ReactCurrentBatchConfig")||(vi.ReactCurrentBatchConfig={suspense:null});var mi=/^(.*)[\\\/]/,yi="function"==typeof Symbol&&Symbol.for,gi=yi?Symbol.for("react.element"):60103,bi=yi?Symbol.for("react.portal"):60106,wi=yi?Symbol.for("react.fragment"):60107,_i=yi?Symbol.for("react.strict_mode"):60108,Ei=yi?Symbol.for("react.profiler"):60114,Ti=yi?Symbol.for("react.provider"):60109,Ii=yi?Symbol.for("react.context"):60110,Si=yi?Symbol.for("react.concurrent_mode"):60111,Ci=yi?Symbol.for("react.forward_ref"):60112,Ni=yi?Symbol.for("react.suspense"):60113,ki=yi?Symbol.for("react.suspense_list"):60120,Ai=yi?Symbol.for("react.memo"):60115,xi=yi?Symbol.for("react.lazy"):60116,Pi=yi?Symbol.for("react.block"):60121,Ri="function"==typeof Symbol&&Symbol.iterator,Oi=null,Di={},Li=[],Mi={},Fi={},Ui={},ji=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vi=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,qi=null,Bi=null,zi=null,Wi=function(t,e){return t(e)},Hi=function(t,e,n,r,i){return t(e,n,r,i)},Ki=function(){},Gi=Wi,Qi=!1,$i=!1,Yi=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,Xi=Yi.unstable_cancelCallback,Ji=Yi.unstable_now,Zi=Yi.unstable_scheduleCallback,to=Yi.unstable_shouldYield,eo=Yi.unstable_requestPaint,no=Yi.unstable_runWithPriority,ro=Yi.unstable_getCurrentPriorityLevel,io=Yi.unstable_ImmediatePriority,oo=Yi.unstable_UserBlockingPriority,ao=Yi.unstable_NormalPriority,so=Yi.unstable_LowPriority,uo=Yi.unstable_IdlePriority,co=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lo=Object.prototype.hasOwnProperty,ho={},fo={},po={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){po[t]=new m(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];po[e]=new m(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){po[t]=new m(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){po[t]=new m(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){po[t]=new m(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){po[t]=new m(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){po[t]=new m(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){po[t]=new m(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){po[t]=new m(t,5,!1,t.toLowerCase(),null,!1)}));var vo=/[\-:]([a-z])/g,mo=function(t){return t[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(vo,mo);po[e]=new m(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(vo,mo);po[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(vo,mo);po[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){po[t]=new m(t,1,!1,t.toLowerCase(),null,!1)})),po.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){po[t]=new m(t,1,!1,t.toLowerCase(),null,!0)}));var yo,go=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((yo=yo||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}})),bo=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e},wo={animationend:M("Animation","AnimationEnd"),animationiteration:M("Animation","AnimationIteration"),animationstart:M("Animation","AnimationStart"),transitionend:M("Transition","TransitionEnd")},_o={},Eo={};ji&&(Eo=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);var To=F("animationend"),Io=F("animationiteration"),So=F("animationstart"),Co=F("transitionend"),No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ko=new("function"==typeof WeakMap?WeakMap:Map),Ao=null,xo=function(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)i(t,e[r],n[r]);else e&&i(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}},Po=[],Ro=!1,Oo=[],Do=null,Lo=null,Mo=null,Fo=new Map,Uo=new Map,jo=[],Vo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),qo="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),Bo={},zo=new Map,Wo=new Map,Ho=["abort","abort",To,"animationEnd",Io,"animationIteration",So,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Co,"transitionEnd","waiting","waiting"];st("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),st("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),st(Ho,2),function(t,e){for(var n=0;n<t.length;n++)Wo.set(t[n],0)}("change selectionchange textInput compositionstart compositionend compositionupdate".split(" "));var Ko=oo,Go=no,Qo=!0,$o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yo=["Webkit","ms","Moz","O"];Object.keys($o).forEach((function(t){Yo.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$o[e]=$o[t]}))}));var Xo=Vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Jo="$",Zo="/$",ta="$?",ea="$!",na=null,ra=null,ia="function"==typeof setTimeout?setTimeout:void 0,oa="function"==typeof clearTimeout?clearTimeout:void 0,aa=Math.random().toString(36).slice(2),sa="__reactInternalInstance$"+aa,ua="__reactEventHandlers$"+aa,ca="__reactContainere$"+aa,la=null,ha=null,fa=null;Vi(zt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){this.isPersistent=qt},isPersistent:Bt,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Bt,this._dispatchInstances=this._dispatchListeners=null}}),zt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},zt.extend=function(t){function e(){return n.apply(this,arguments)}var n=this,r=function(){};return r.prototype=n.prototype,r=new r,Vi(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=Vi({},n.Interface,t),e.extend=n.extend,Kt(e),e},Kt(zt);var pa=zt.extend({data:null}),da=zt.extend({data:null}),va=[9,13,27,32],ma=ji&&"CompositionEvent"in window,ya=null;ji&&"documentMode"in document&&(ya=document.documentMode);var ga=ji&&"TextEvent"in window&&!ya,ba=ji&&(!ma||ya&&8<ya&&11>=ya),wa=String.fromCharCode(32),_a={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ea=!1,Ta=!1,Ia={eventTypes:_a,extractEvents:function(t,e,n,r,i){var o;if(ma)t:{switch(t){case"compositionstart":var a=_a.compositionStart;break t;case"compositionend":a=_a.compositionEnd;break t;case"compositionupdate":a=_a.compositionUpdate;break t}a=void 0}else Ta?Gt(t,n)&&(a=_a.compositionEnd):"keydown"===t&&229===n.keyCode&&(a=_a.compositionStart);return a?(ba&&"ko"!==n.locale&&(Ta||a!==_a.compositionStart?a===_a.compositionEnd&&Ta&&(o=Vt()):(ha="value"in(la=r)?la.value:la.textContent,Ta=!0)),i=pa.getPooled(a,e,n,r),o?i.data=o:null!==(o=Qt(n))&&(i.data=o),jt(i),o=i):o=null,(t=ga?function(t,e){switch(t){case"compositionend":return Qt(e);case"keypress":return 32!==e.which?null:(Ea=!0,wa);case"textInput":return(t=e.data)===wa&&Ea?null:t;default:return null}}(t,n):function(t,e){if(Ta)return"compositionend"===t||!ma&&Gt(t,e)?(t=Vt(),fa=ha=la=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ba&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=da.getPooled(_a.beforeInput,e,n,r)).data=t,jt(e)):e=null,null===o?e:null===e?o:[o,e]}},Sa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ca={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Na=null,ka=null,Aa=!1;ji&&(Aa=G("input")&&(!document.documentMode||9<document.documentMode));var xa={eventTypes:Ca,_isInputEventSupported:Aa,extractEvents:function(t,e,n,r,i){var o=(i=e?Pt(e):window).nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Zt;else if($t(i))if(Aa)a=oe;else{a=re;var s=ne}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=ie);if(a&&(a=a(t,e)))return Yt(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&N(i,"number",i.value)}},Pa=zt.extend({view:null,detail:null}),Ra={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Oa=0,Da=0,La=!1,Ma=!1,Fa=Pa.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:se,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Oa;return Oa=t.screenX,La?"mousemove"===t.type?t.screenX-e:0:(La=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Da;return Da=t.screenY,Ma?"mousemove"===t.type?t.screenY-e:0:(Ma=!0,0)}}),Ua=Fa.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ja={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Va={eventTypes:ja,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?At(e):null)&&(e!==j(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Fa,u=ja.mouseLeave,c=ja.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Ua,u=ja.pointerLeave,c=ja.pointerEnter,l="pointer");if(t=null==a?o:Pt(a),o=null==e?o:Pt(e),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(c,e,n,r)).type=l+"enter",n.target=o,n.relatedTarget=t,l=e,(r=a)&&l)t:{for(c=l,a=0,t=s=r;t;t=Ot(t))a++;for(t=0,e=c;e;e=Ot(e))t++;for(;0<a-t;)s=Ot(s),a--;for(;0<t-a;)c=Ot(c),t--;for(;a--;){if(s===c||s===c.alternate)break t;s=Ot(s),c=Ot(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Ot(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Ot(l);for(l=0;l<s.length;l++)Ft(s[l],"bubbled",u);for(l=r.length;0<l--;)Ft(r[l],"captured",n);return 0==(64&i)?[u]:[u,n]}},qa="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Ba=Object.prototype.hasOwnProperty,za=ji&&"documentMode"in document&&11>=document.documentMode,Wa={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ha=null,Ka=null,Ga=null,Qa=!1,$a={eventTypes:Wa,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=U(i),o=Ui.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Pt(e):window,t){case"focus":($t(i)||"true"===i.contentEditable)&&(Ha=i,Ka=e,Ga=null);break;case"blur":Ga=Ka=Ha=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qa=!1,ce(n,r);case"selectionchange":if(za)break;case"keydown":case"keyup":return ce(n,r)}return null}},Ya=zt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xa=zt.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ja=Pa.extend({relatedTarget:null}),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ts={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},es=Pa.extend({key:function(t){if(t.key){var e=Za[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=le(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ts[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:se,charCode:function(t){return"keypress"===t.type?le(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?le(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ns=Fa.extend({dataTransfer:null}),rs=Pa.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:se}),is=zt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),os=Fa.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),as={eventTypes:Bo,extractEvents:function(t,e,n,r,i){if(!(i=zo.get(t)))return null;switch(t){case"keypress":if(0===le(n))return null;case"keydown":case"keyup":t=es;break;case"blur":case"focus":t=Ja;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ns;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=rs;break;case To:case Io:case So:t=Ya;break;case Co:t=is;break;case"scroll":t=Pa;break;case"wheel":t=os;break;case"copy":case"cut":case"paste":t=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ua;break;default:t=zt}return jt(e=t.getPooled(i,e,n,r)),e}};!function(t){if(Oi)throw Error(n(101));Oi=Array.prototype.slice.call(t),u()}("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),function(t,e,n){fi=t,pi=e,di=n}(Rt,xt,Pt),l({SimpleEventPlugin:as,EnterLeaveEventPlugin:Va,ChangeEventPlugin:xa,SelectEventPlugin:$a,BeforeInputEventPlugin:Ia});var ss=[],us=-1,cs={},ls={current:cs},hs={current:!1},fs=cs,ps=no,ds=Zi,vs=Xi,ms=ro,ys=io,gs=oo,bs=ao,ws=so,_s=uo,Es={},Ts=to,Is=void 0!==eo?eo:function(){},Ss=null,Cs=null,Ns=!1,ks=Ji(),As=1e4>ks?Ji:function(){return Ji()-ks},xs={current:null},Ps=null,Rs=null,Os=null,Ds=0,Ls=2,Ms=!1,Fs=vi.ReactCurrentBatchConfig,Us=(new e.Component).refs,js={isMounted:function(t){return!!(t=t._reactInternalFiber)&&j(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=hr(),i=Fs.suspense;(i=Le(r=fr(r,t,i),i)).payload=e,null!=n&&(i.callback=n),Me(t,i),Zu(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=hr(),i=Fs.suspense;(i=Le(r=fr(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),Me(t,i),Zu(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=hr(),r=Fs.suspense;(r=Le(n=fr(n,t,r),r)).tag=Ls,null!=e&&(r.callback=e),Me(t,r),Zu(t,n)}},Vs=Array.isArray,qs=Ge(!0),Bs=Ge(!1),zs={},Ws={current:zs},Hs={current:zs},Ks={current:zs},Gs={current:0},Qs=vi.ReactCurrentDispatcher,$s=vi.ReactCurrentBatchConfig,Ys=0,Xs=null,Js=null,Zs=null,tu=!1,eu={readContext:Re,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useResponder:en,useDeferredValue:en,useTransition:en},nu={readContext:Re,useCallback:_n,useContext:Re,useEffect:vn,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,pn(4,2,gn.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pn(4,2,t,e)},useMemo:function(t,e){var n=on();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=on();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Sn.bind(null,Xs,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},on().memoizedState=t},useState:ln,useDebugValue:wn,useResponder:tn,useDeferredValue:function(t,e){var n=ln(t),r=n[0],i=n[1];return vn((function(){var n=$s.suspense;$s.suspense=void 0===e?null:e;try{i(t)}finally{$s.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ln(!1),n=e[0];return e=e[1],[_n(In.bind(null,e,t),[e,t]),n]}},ru={readContext:Re,useCallback:En,useContext:Re,useEffect:mn,useImperativeHandle:bn,useLayoutEffect:yn,useMemo:Tn,useReducer:un,useRef:fn,useState:function(t){return un(sn)},useDebugValue:wn,useResponder:tn,useDeferredValue:function(t,e){var n=un(sn),r=n[0],i=n[1];return mn((function(){var n=$s.suspense;$s.suspense=void 0===e?null:e;try{i(t)}finally{$s.suspense=n}}),[t,e]),r},useTransition:function(t){var e=un(sn),n=e[0];return e=e[1],[En(In.bind(null,e,t),[e,t]),n]}},iu={readContext:Re,useCallback:En,useContext:Re,useEffect:mn,useImperativeHandle:bn,useLayoutEffect:yn,useMemo:Tn,useReducer:cn,useRef:fn,useState:function(t){return cn(sn)},useDebugValue:wn,useResponder:tn,useDeferredValue:function(t,e){var n=cn(sn),r=n[0],i=n[1];return mn((function(){var n=$s.suspense;$s.suspense=void 0===e?null:e;try{i(t)}finally{$s.suspense=n}}),[t,e]),r},useTransition:function(t){var e=cn(sn),n=e[0];return e=e[1],[En(In.bind(null,e,t),[e,t]),n]}},ou=null,au=null,su=!1,uu=vi.ReactCurrentOwner,cu=!1,lu={dehydrated:null,retryTime:0},hu=function(t,e,n,r){for(n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fu=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a,s,u=e.stateNode;switch(Qe(Ws.current),t=null,n){case"input":o=E(u,o),r=E(u,r),t=[];break;case"option":o=k(u,o),r=k(u,r),t=[];break;case"select":o=Vi({},o,{value:void 0}),r=Vi({},r,{value:void 0}),t=[];break;case"textarea":o=x(u,o),r=x(u,r),t=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(u.onclick=bt)}for(a in mt(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in u=o[a])u.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Fi.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var c=r[a];if(u=null!=o?o[a]:void 0,r.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(a,c)):"children"===a?u===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Fi.hasOwnProperty(a)?(null!=c&&gt(i,a),t||u===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},pu=function(t,e,n,r){n!==r&&(e.effectTag|=4)},du="function"==typeof WeakSet?WeakSet:Set,vu="function"==typeof WeakMap?WeakMap:Map,mu=Math.ceil,yu=vi.ReactCurrentDispatcher,gu=vi.ReactCurrentOwner,bu=0,wu=8,_u=16,Eu=32,Tu=0,Iu=1,Su=2,Cu=3,Nu=4,ku=5,Au=bu,xu=null,Pu=null,Ru=0,Ou=Tu,Du=null,Lu=1073741823,Mu=1073741823,Fu=null,Uu=0,ju=!1,Vu=0,qu=500,Bu=null,zu=!1,Wu=null,Hu=null,Ku=!1,Gu=null,Qu=90,$u=null,Yu=0,Xu=null,Ju=0,Zu=function(t,e){if(50<Yu)throw Yu=0,Xu=null,Error(n(185));if(null!==(t=pr(t,e))){var r=be();1073741823===e?(Au&wu)!==bu&&(Au&(_u|Eu))===bu?yr(t):(vr(t),Au===bu&&Ie()):vr(t),(4&Au)===bu||98!==r&&99!==r||(null===$u?$u=new Map([[t,e]]):(void 0===(r=$u.get(t))||r>e)&&$u.set(t,e))}},tc=function(t,e,r){var i=e.expirationTime;if(null!==t){var o=e.pendingProps;if(t.memoizedProps!==o||hs.current)cu=!0;else{if(i<r){switch(cu=!1,e.tag){case 3:Vn(e),Pn();break;case 5:if(Xe(e),4&e.mode&&1!==r&&o.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:de(e.type)&&ye(e);break;case 4:$e(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,o=e.type._context,fe(xs,o._currentValue),o._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=r?qn(t,e,r):(fe(Gs,1&Gs.current),null!==(e=Hn(t,e,r))?e.sibling:null);fe(Gs,1&Gs.current);break;case 19:if(i=e.childExpirationTime>=r,0!=(64&t.effectTag)){if(i)return Wn(t,e,r);e.effectTag|=64}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null),fe(Gs,Gs.current),!i)return null}return Hn(t,e,r)}cu=!1}}else cu=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,o=pe(e,ls.current),Pe(e,r),o=rn(null,e,i,t,o,r),e.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,de(i)){var a=!0;ye(e)}else a=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Oe(e);var s=i.getDerivedStateFromProps;"function"==typeof s&&Ve(e,i,s,t),o.updater=js,e.stateNode=o,o._reactInternalFiber=e,We(e,i,t,r),e=jn(null,e,i,!0,a,r)}else e.tag=0,Rn(null,e,o,r),e=e.child;return e;case 16:t:{if(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,e.type=o,a=e.tag=function(t){if("function"==typeof t)return Vr(t)?1:0;if(null!=t){if((t=t.$$typeof)===Ci)return 11;if(t===Ai)return 14}return 2}(o),t=Ne(o,t),a){case 0:e=Fn(null,e,o,t,r);break t;case 1:e=Un(null,e,o,t,r);break t;case 11:e=On(null,e,o,t,r);break t;case 14:e=Dn(null,e,o,Ne(o.type,t),i,r);break t}throw Error(n(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,Fn(t,e,i,o=e.elementType===i?o:Ne(i,o),r);case 1:return i=e.type,o=e.pendingProps,Un(t,e,i,o=e.elementType===i?o:Ne(i,o),r);case 3:if(Vn(e),i=e.updateQueue,null===t||null===i)throw Error(n(282));if(i=e.pendingProps,o=null!==(o=e.memoizedState)?o.element:null,De(t,e),Ue(e,i,null,r),(i=e.memoizedState.element)===o)Pn(),e=Hn(t,e,r);else{if((o=e.stateNode.hydrate)&&(au=Nt(e.stateNode.containerInfo.firstChild),ou=e,o=su=!0),o)for(r=Bs(e,null,i,r),e.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Rn(t,e,i,r),Pn();e=e.child}return e;case 5:return Xe(e),null===t&&kn(e),i=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,Ct(i,o)?s=null:null!==a&&Ct(i,a)&&(e.effectTag|=16),Mn(t,e),4&e.mode&&1!==r&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Rn(t,e,s,r),e=e.child),e;case 6:return null===t&&kn(e),null;case 13:return qn(t,e,r);case 4:return $e(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=qs(e,null,i,r):Rn(t,e,i,r),e.child;case 11:return i=e.type,o=e.pendingProps,On(t,e,i,o=e.elementType===i?o:Ne(i,o),r);case 7:return Rn(t,e,e.pendingProps,r),e.child;case 8:case 12:return Rn(t,e,e.pendingProps.children,r),e.child;case 10:t:{i=e.type._context,o=e.pendingProps,s=e.memoizedProps,a=o.value;var u=e.type._context;if(fe(xs,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=qa(u,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!hs.current){e=Hn(t,e,r);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!=(l.observedBits&a)){1===u.tag&&((l=Le(r,null)).tag=Ls,Me(u,l)),u.expirationTime<r&&(u.expirationTime=r),null!==(l=u.alternate)&&l.expirationTime<r&&(l.expirationTime=r),xe(u.return,r),c.expirationTime<r&&(c.expirationTime=r);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Rn(t,e,o.children,r),e=e.child}return e;case 9:return o=e.type,i=(a=e.pendingProps).children,Pe(e,r),i=i(o=Re(o,a.unstable_observedBits)),e.effectTag|=1,Rn(t,e,i,r),e.child;case 14:return a=Ne(o=e.type,e.pendingProps),Dn(t,e,o,a=Ne(o.type,a),i,r);case 15:return Ln(t,e,e.type,e.pendingProps,i,r);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Ne(i,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,de(i)?(t=!0,ye(e)):t=!1,Pe(e,r),Be(e,i,o),We(e,i,o,r),jn(null,e,i,!0,t,r);case 19:return Wn(t,e,r)}throw Error(n(156,e.tag))},ec=null,nc=null,rc=function(t,e,n,r){return new jr(t,e,n,r)};ei.prototype.render=function(t){Xr(t,this._internalRoot,null,null)},ei.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xr(null,t,null,(function(){e[ca]=null}))};var ic=function(t){if(13===t.tag){var e=Ce(hr(),150,100);Zu(t,e),ti(t,e)}},oc=function(t){13===t.tag&&(Zu(t,3),ti(t,3))},ac=function(t){if(13===t.tag){var e=hr();e=fr(e,t,null),Zu(t,e),ti(t,e)}};qi=function(t,e,r){switch(e){case"input":if(S(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var o=Rt(i);if(!o)throw Error(n(90));_(i),S(i,o)}}}break;case"textarea":R(t,r);break;case"select":null!=(e=r.value)&&A(t,!!r.multiple,e,!1)}},Wi=gr,Hi=function(t,e,n,r,i){var o=Au;Au|=4;try{return _e(98,t.bind(null,e,n,r,i))}finally{(Au=o)===bu&&Ie()}},Ki=function(){(Au&(1|_u|Eu))===bu&&(function(){if(null!==$u){var t=$u;$u=null,t.forEach((function(t,e){Yr(e,t),vr(e)})),Ie()}}(),Or())},Gi=function(t,e){var n=Au;Au|=2;try{return t(e)}finally{(Au=n)===bu&&Ie()}};var sc={Events:[xt,Pt,Rt,l,Mi,jt,function(t){W(t,Ut)},f,p,ft,H,Or,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ec=function(t,r){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},nc=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}})(Vi({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=B(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:At,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oi,t.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(n(188));throw Error(n(268,Object.keys(t)))}return t=null===(t=B(e))?null:t.stateNode},t.flushSync=function(t,e){if((Au&(_u|Eu))!==bu)throw Error(n(187));var r=Au;Au|=1;try{return _e(99,t.bind(null,e))}finally{Au=r,Ie()}},t.hydrate=function(t,e,r){if(!ni(e))throw Error(n(200));return ri(null,t,e,!0,r)},t.render=function(t,e,r){if(!ni(e))throw Error(n(200));return ri(null,t,e,!1,r)},t.unmountComponentAtNode=function(t){if(!ni(t))throw Error(n(40));return!!t._reactRootContainer&&(br((function(){ri(null,null,t,!1,(function(){t._reactRootContainer=null,t[ca]=null}))})),!0)},t.unstable_batchedUpdates=gr,t.unstable_createPortal=function(t,e){return oi(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!ni(r))throw Error(n(200));if(null==t||void 0===t._reactInternalFiber)throw Error(n(38));return ri(t,e,r,!1,i)},t.version="16.13.0"}(A,t);var R="function"==typeof Symbol&&Symbol.for,O=R?Symbol.for("react.element"):60103,D=R?Symbol.for("react.portal"):60106,L=R?Symbol.for("react.fragment"):60107,M=R?Symbol.for("react.strict_mode"):60108,F=R?Symbol.for("react.profiler"):60114,U=R?Symbol.for("react.provider"):60109,j=R?Symbol.for("react.context"):60110,V=R?Symbol.for("react.async_mode"):60111,q=R?Symbol.for("react.concurrent_mode"):60111,B=R?Symbol.for("react.forward_ref"):60112,z=R?Symbol.for("react.suspense"):60113,W=R?Symbol.for("react.suspense_list"):60120,H=R?Symbol.for("react.memo"):60115,K=R?Symbol.for("react.lazy"):60116,G=R?Symbol.for("react.block"):60121,Q=R?Symbol.for("react.fundamental"):60117,Y=R?Symbol.for("react.responder"):60118,X=R?Symbol.for("react.scope"):60119;function J(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case O:switch(t=t.type){case V:case q:case L:case F:case M:case z:return t;default:switch(t=t&&t.$$typeof){case j:case B:case K:case H:case U:return t;default:return e}}case D:return e}}}function Z(t){return J(t)===q}var tt={AsyncMode:V,ConcurrentMode:q,ContextConsumer:j,ContextProvider:U,Element:O,ForwardRef:B,Fragment:L,Lazy:K,Memo:H,Portal:D,Profiler:F,StrictMode:M,Suspense:z,isAsyncMode:function(t){return Z(t)||J(t)===V},isConcurrentMode:Z,isContextConsumer:function(t){return J(t)===j},isContextProvider:function(t){return J(t)===U},isElement:function(t){return"object"==typeof t&&null!==t&&t.$$typeof===O},isForwardRef:function(t){return J(t)===B},isFragment:function(t){return J(t)===L},isLazy:function(t){return J(t)===K},isMemo:function(t){return J(t)===H},isPortal:function(t){return J(t)===D},isProfiler:function(t){return J(t)===F},isStrictMode:function(t){return J(t)===M},isSuspense:function(t){return J(t)===z},isValidElementType:function(t){return"string"==typeof t||"function"==typeof t||t===L||t===q||t===F||t===M||t===z||t===W||"object"==typeof t&&null!==t&&(t.$$typeof===K||t.$$typeof===H||t.$$typeof===U||t.$$typeof===j||t.$$typeof===B||t.$$typeof===Q||t.$$typeof===Y||t.$$typeof===X||t.$$typeof===G)},typeOf:J},et=(P((function(t,e){})),P((function(t){t.exports=tt}))),nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;function ot(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}})()&&Object.assign,Function.call.bind(Object.prototype.hasOwnProperty);function at(){}function st(){}st.resetWarningCache=at;var ut=P((function(t){t.exports=function(){function t(t,e,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:st,resetWarningCache:at};return n.PropTypes=n,n}()}));function ct(){return(ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lt(t){return"/"===t.charAt(0)}function ht(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function ft(t,e){if(!t)throw new Error("Invariant failed")}function pt(t,e,n,r){var i;"string"==typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(i=ct({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&lt(t),a=e&&lt(e),s=o||a;if(t&&lt(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?ht(i,l):".."===h?(ht(i,l),c++):c&&(ht(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&lt(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}var dt=!("undefined"==typeof window||!window.document||!window.document.createElement);function vt(t,e){e(window.confirm(t))}function mt(){try{return window.history.state||{}}catch(t){return{}}}function yt(t){void 0===t&&(t={}),dt||ft(!1);var e,n,r=window.history,i=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=t,s=a.forceRefresh,u=void 0!==s&&s,c=a.getUserConfirmation,l=void 0===c?vt:c,h=a.keyLength,f=void 0===h?6:h,p=t.basename?function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}("/"===(n=t.basename).charAt(0)?n:"/"+n):"";function d(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return p&&(o=function(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}(o,p)),pt(o,r,n)}function v(){return Math.random().toString(36).substr(2,f)}var m,y,g=(m=null,y=[],{setPrompt:function(t){return m=t,function(){m===t&&(m=null)}},confirmTransitionTo:function(t,e,n,r){if(null!=m){var i="function"==typeof m?m(t,e):m;"string"==typeof i?"function"==typeof n?n(i,r):r(!0):r(!1!==i)}else r(!0)},appendListener:function(t){var e=!0;function n(){e&&t.apply(void 0,arguments)}return y.push(n),function(){e=!1,y=y.filter((function(t){return t!==n}))}},notifyListeners:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];y.forEach((function(t){return t.apply(void 0,e)}))}});function b(t){ct(P,t),P.length=r.length,g.notifyListeners(P.location,P.action)}function w(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||T(d(t.state))}function _(){T(d(mt()))}var E=!1;function T(t){if(E)E=!1,b();else{g.confirmTransitionTo(t,"POP",l,(function(e){e?b({action:"POP",location:t}):function(t){var e=P.location,n=S.indexOf(e.key);-1===n&&(n=0);var r=S.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(E=!0,N(i))}(t)}))}}var I=d(mt()),S=[I.key];function C(t){return p+function(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}(t)}function N(t){r.go(t)}var k=0;function A(t){1===(k+=t)&&1===t?(window.addEventListener("popstate",w),o&&window.addEventListener("hashchange",_)):0===k&&(window.removeEventListener("popstate",w),o&&window.removeEventListener("hashchange",_))}var x=!1;var P={length:r.length,action:"POP",location:I,createHref:C,push:function(t,e){var n=pt(t,e,v(),P.location);g.confirmTransitionTo(n,"PUSH",l,(function(t){if(t){var e=C(n),o=n.key,a=n.state;if(i)if(r.pushState({key:o,state:a},null,e),u)window.location.href=e;else{var s=S.indexOf(P.location.key),c=S.slice(0,s+1);c.push(n.key),S=c,b({action:"PUSH",location:n})}else window.location.href=e}}))},replace:function(t,e){var n=pt(t,e,v(),P.location);g.confirmTransitionTo(n,"REPLACE",l,(function(t){if(t){var e=C(n),o=n.key,a=n.state;if(i)if(r.replaceState({key:o,state:a},null,e),u)window.location.replace(e);else{var s=S.indexOf(P.location.key);-1!==s&&(S[s]=n.key),b({action:"REPLACE",location:n})}else window.location.replace(e)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=g.setPrompt(t);return x||(A(1),x=!0),function(){return x&&(x=!1,A(-1)),e()}},listen:function(t){var e=g.appendListener(t);return A(1),function(){A(-1),e()}}};return P}var gt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function bt(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var wt=t.createContext||function(t,e){var r,i,o,a="__create-react-context-"+((gt[o="__global_unique_id__"]=(gt[o]||0)+1)+"__"),s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=bt(e.props.value),e}x(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;!function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(r,i)?(n="function"==typeof e?e(r,i):1073741823,0!==(n|=0)&&this.emitter.set(t.value,n)):n=0}},r.render=function(){return this.props.children},n}(n);s.childContextTypes=((r={})[a]=ut.object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}x(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?1073741823:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?1073741823:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(n);return u.contextTypes=((i={})[a]=ut.object,i),{Provider:s,Consumer:u}},_t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},Et=Mt,Tt=kt,It=function(t,e){return xt(kt(t,e),e)},St=xt,Ct=Lt,Nt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function kt(t,e){for(var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=Nt.exec(t));){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=t[o],f=n[2],p=n[3],d=n[4],v=n[5],m=n[6],y=n[7];a&&(r.push(a),a="");var g=null!=f&&null!=h&&h!==f,b="+"===m||"*"===m,w="?"===m||"*"===m,_=n[2]||s,E=d||v;r.push({name:p||i++,prefix:f||"",delimiter:_,optional:w,repeat:b,partial:g,asterisk:!!y,pattern:E?Rt(E):y?".*":"[^"+Pt(_)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function At(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function xt(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",Dt(e)));return function(e,r){for(var i="",o=e||{},a=(r||{}).pretty?At:encodeURIComponent,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u){var c,l=o[u.name];if(null==l){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(_t(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=a(l[h]),!n[s].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(l).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):a(l),!n[s].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function Pt(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Rt(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Ot(t,e){return t.keys=e,t}function Dt(t){return t&&t.sensitive?"":"i"}function Lt(t,e,n){_t(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=Pt(s);else{var u=Pt(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),o+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=Pt(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",Ot(new RegExp("^"+o,Dt(n)),e)}function Mt(t,e,n){return _t(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ot(t,e)}(t,e):_t(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Mt(t[i],e,n).source);return Ot(new RegExp("(?:"+r.join("|")+")",Dt(n)),e)}(t,e,n):function(t,e,n){return Lt(kt(t,n),e,n)}(t,e,n)}function Ft(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}Et.parse=Tt,Et.compile=It,Et.tokensToFunction=St,Et.tokensToRegExp=Ct;var Ut={};Ut[et.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ut[et.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var jt=function(t){var e=wt();return e.displayName=t,e}("Router-History"),Vt=function(t){var e=wt();return e.displayName=t,e}("Router"),qt=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}x(n,e),n.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Vt.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(jt.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component),Bt={},zt=0;function Wt(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=Bt[n]||(Bt[n]={});if(r[t])return r[t];var i=[],o={regexp:Et(t,i,e),keys:i};return zt<1e4&&(r[t]=o,zt++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],h=u.slice(1),f=t===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var Ht=function(e){function n(){return e.apply(this,arguments)||this}return x(n,e),n.prototype.render=function(){var e=this;return t.createElement(Vt.Consumer,null,(function(n){n||ft(!1);var r=e.props.location||n.location,i=ct({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Wt(r.pathname,e.props):n.match}),o=e.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),t.createElement(Vt.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?t.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(t.Component),Kt=function(e){function n(){return e.apply(this,arguments)||this}return x(n,e),n.prototype.render=function(){var e=this;return t.createElement(Vt.Consumer,null,(function(n){n||ft(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?Wt(o.pathname,ct({},e.props,{path:a})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component),Gt=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=yt(t.props),t}return x(n,e),n.prototype.render=function(){return t.createElement(qt,{history:this.history,children:this.props.children})},n}(t.Component),Qt=function(t,e){return"function"==typeof t?t(e):t},$t=function(t,e){return"string"==typeof t?pt(t,null,null,e):t},Yt=function(t){return t},Xt=t.forwardRef;void 0===Xt&&(Xt=Yt);var Jt=Xt((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,a=Ft(e,["innerRef","navigate","onClick"]),s=a.target,u=ct({},a,{onClick:function(t){try{o&&o(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return u.ref=Yt!==Xt&&n||r,t.createElement("a",u)})),Zt=Xt((function(e,n){var r=e.component,i=void 0===r?Jt:r,o=e.replace,a=e.to,s=e.innerRef,u=Ft(e,["component","replace","to","innerRef"]);return t.createElement(Vt.Consumer,null,(function(e){e||ft(!1);var r=e.history,c=$t(Qt(a,e.location),e.location),l=c?r.createHref(c):"",h=ct({},u,{href:l,navigate:function(){var t=Qt(a,e.location);(o?r.replace:r.push)(t)}});return Yt!==Xt?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),te=function(t){return t},ee=t.forwardRef;void 0===ee&&(ee=te);ee((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,h=e.location,f=e.sensitive,p=e.strict,d=e.style,v=e.to,m=e.innerRef,y=Ft(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Vt.Consumer,null,(function(e){e||ft(!1);var r=h||e.location,o=$t(Qt(v,r),r),g=o.pathname,b=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Wt(r.pathname,{path:b,exact:c,sensitive:f,strict:p}):null,_=!!(l?l(w,r):w),E=_?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(u,a):u,T=_?ct({},d,{},s):d,I=ct({"aria-current":_&&i||null,className:E,style:T,to:o},y);return te!==ee?I.ref=n||m:I.innerRef=m,t.createElement(Zt,I)}))}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ne=function(t,e){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function re(t,e){function n(){this.constructor=t}ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ie=function(){return(ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function oe(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function ae(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function se(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ue(arguments[e]));return t}function le(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he=!1,fe="${JSCORE_VERSION}",pe=function(t,e){if(!t)throw de(e)},de=function(t){return new Error("Firebase Database ("+fe+") INTERNAL ASSERT FAILED: "+t)},ve=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ve(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ye=function(t){try{return me.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ge(t){return be(void 0,t)}function be(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=be(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return!0===he}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,Ne.prototype.create),i}return re(e,t),e}(Error),Ne=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?ke(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Ce(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function ke(t,e){return t.replace(Ae,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ae=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=xe(ye(o[0])||""),n=xe(ye(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Le(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Me(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fe=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Ue(t,e){var n=new je(t,e);return n.subscribe.bind(n)}var je=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Ve),void 0===r.error&&(r.error=Ve),void 0===r.complete&&(r.complete=Ve);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Ve(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Be(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function ze(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Be(t,e,r)+"must be a valid function.")}function We(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Be(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Ke=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),Ge=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new we;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=ie({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=se(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=ue(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var Qe,$e=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ge(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ye(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,Je=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Xe||(Xe={}));var Ze,tn={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},en=Xe.INFO,nn=((Qe={})[Xe.DEBUG]="log",Qe[Xe.VERBOSE]="log",Qe[Xe.INFO]="info",Qe[Xe.WARN]="warn",Qe[Xe.ERROR]="error",Qe),rn=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=nn[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Ye(["["+i+"]  "+t.name+":"],n))}},on=function(){function t(t){this.name=t,this._logLevel=en,this._logHandler=rn,this._userLogHandler=null,Je.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Xe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?tn[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.DEBUG],t)),this._logHandler.apply(this,Ye([this,Xe.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.VERBOSE],t)),this._logHandler.apply(this,Ye([this,Xe.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.INFO],t)),this._logHandler.apply(this,Ye([this,Xe.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.WARN],t)),this._logHandler.apply(this,Ye([this,Xe.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.ERROR],t)),this._logHandler.apply(this,Ye([this,Xe.ERROR],t))},t}();function an(t){Je.forEach((function(e){e.setLogLevel(t)}))}var sn,un=((Ze={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ze["bad-app-name"]="Illegal App name: '{$appName}",Ze["duplicate-app"]="Firebase App named '{$appName}' already exists",Ze["app-deleted"]="Firebase App named '{$appName}' already deleted",Ze["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ze["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ze),cn=new Ne("app","Firebase",un),ln=((sn={})["@firebase/app"]="fire-core",sn["@firebase/analytics"]="fire-analytics",sn["@firebase/auth"]="fire-auth",sn["@firebase/database"]="fire-rtdb",sn["@firebase/functions"]="fire-fn",sn["@firebase/installations"]="fire-iid",sn["@firebase/messaging"]="fire-fcm",sn["@firebase/performance"]="fire-perf",sn["@firebase/remote-config"]="fire-rc",sn["@firebase/storage"]="fire-gcs",sn["@firebase/firestore"]="fire-fst",sn["fire-js"]="fire-js",sn["firebase-wrapper"]="fire-js-all",sn),hn=new on("@firebase/app"),fn=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=ge(t),this.container=new $e(e.name),this._addComponent(new Ke("app",(function(){return o}),"PUBLIC"));try{for(var a=se(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){hn.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw cn.create("app-deleted",{appName:this.name_})},t}();fn.prototype.name&&fn.prototype.options||fn.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pn(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw cn.create("bad-app-name",{appName:String(a)});if(Oe(e,a))throw cn.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ln[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void hn.warn(u.join(" "))}o(new Ke(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:an,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw cn.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=tn[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Xe[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=Je;r<i.length;r++){n(i[r])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"7.16.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Oe(e,t=t||"[DEFAULT]"))throw cn.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u=o.name;if(n.has(u))return hn.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw cn.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&be(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var l=se(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function t(){var e=pn(fn);return e.INTERNAL=ie(ie({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){be(e,t)},createSubscribe:Ue,ErrorFactory:Ne,deepExtend:be}),e}(),vn=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){hn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var mn=self.firebase.SDK_VERSION;mn&&mn.indexOf("LITE")>=0&&hn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yn=dn.initializeApp;dn.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Te()&&hn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),yn.apply(void 0,t)};var gn=dn;!function(t,e){t.INTERNAL.registerComponent(new Ke("platform-logger",(function(t){return new vn(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.8",e),t.registerVersion("fire-js","")}(gn);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function bn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gn.registerVersion("firebase","7.16.1","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Oa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=S+t,this.message=e||C[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(S.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var I,S="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function k(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function A(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function O(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}I=k("__EID__")?"__EID__":void 0,_(x,Error),x.prototype.name="CustomError",_(P,x),P.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new O((function(){return new U}),(function(t){t.reset()}));function F(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=j(t,e)}function H(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function G(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,J=/</g,Z=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:t>e?1:0}t:{var at=a.navigator;if(at){var st=at.userAgent;if(st){$=st;break t}}$=""}function ut(t){return it($,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===gt&&e||"",this.b=yt}function mt(t){return t instanceof vt&&t.constructor===vt&&t.b===yt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ra=!0,vt.prototype.qa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},gt={},bt=new vt(gt,"");function wt(t,e){this.a=t===Ct&&e||"",this.b=St}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===St?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=mt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?mt(t):encodeURIComponent(String(t))})),new wt(Ct,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},Ct={};function Nt(t,e){this.a=t===Rt&&e||"",this.b=Pt}function kt(t){return t instanceof Nt&&t.constructor===Nt&&t.b===Pt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Nt.prototype.ra=!0,Nt.prototype.qa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),At.test(t)||(t="about:invalid#zClosurez"),new Nt(Rt,t))}var Pt={},Rt={};function Ot(){this.a="",this.b=Lt}function Dt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Lt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Mt(t){var e=new Ot;return e.a=t,e}Mt("<!DOCTYPE html>");var Ft=Mt("");function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Z,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function Vt(t){return Vt[" "](t),t}Mt("<br>"),Vt[" "]=c;var qt,Bt,zt=ut("Opera"),Wt=ut("Trident")||ut("MSIE"),Ht=ut("Edge"),Kt=Ht||Wt,Gt=ut("Gecko")&&!(it($.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Qt=it($.toLowerCase(),"webkit")&&!ut("Edge");function $t(){var t=a.document;return t?t.documentMode:void 0}t:{var Yt="",Xt=(Bt=$,Gt?/rv:([^\);]+)(\)|;)/.exec(Bt):Ht?/Edge\/([\d\.]+)/.exec(Bt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Qt?/WebKit\/(\S+)/.exec(Bt):zt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Xt&&(Yt=Xt?Xt[1]:""),Wt){var Jt=$t();if(null!=Jt&&Jt>parseFloat(Yt)){qt=String(Jt);break t}}qt=Yt}var Zt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(qt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ot(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ot(0==a[2].length,0==s[2].length)||ot(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}Zt=a.document&&Wt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var ne=!Wt||9<=Number(Zt);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:se.hasOwnProperty(n)?t.setAttribute(se[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var oe,ae,se={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):V(le(o)?Q(o):o,r)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function le(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function he(t){a.setTimeout((function(){throw t}),0)}function fe(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new wt(Ct,mt(bt));dt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Dt(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}function pe(t,e){ae||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ae=function(){t.then(me)}}else ae=function(){var t=me;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!ut("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(oe||(oe=fe()),oe(t)):a.setImmediate(t)}}(),de||(ae(),de=!0),ve.add(t,e)}var de=!1,ve=new L;function me(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){he(t)}D(M,t)}de=!1}function ye(t,e){if(this.a=ge,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){xe(n,be,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}xe(n,we,t)}))}catch(t){xe(this,we,t)}}var ge=0,be=2,we=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new O((function(){return new _e}),(function(t){t.reset()}));function Te(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof ye)return t;var e=new ye(c);return xe(e,be,t),e}function Se(t){return new ye((function(e,n){n(t)}))}function Ce(t,e,n){Pe(t,e,n,null)||pe(b(e,t))}function Ne(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function ke(t,e){t.b||t.a!=be&&t.a!=we||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,r){var i=Te(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,ke(t,i),i.a}function xe(t,e,n){t.a==ge&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=we||n instanceof Fe||function(t,e){t.g=!0,pe((function(){t.g&&Me.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return ke(t,Te(e||c,n||null,r)),!0;if(A(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.ec,t))}function Oe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function De(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,r);else try{e.c?e.g.call(e.f):Le(e,n,r)}catch(t){Me.call(null,t)}D(Ee,e)}function Le(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ae(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Te(t,t,e)).c=!0,ke(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==ge){var e=new Fe(t);pe((function(){!function t(e,n){if(e.a==ge)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==ge&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Oe(r),De(r,o,we,n)))}e.c=null}else xe(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ge,xe(this,be,t)},t.Zc=function(t){this.a=ge,xe(this,we,t)},t.ec=function(){for(var t;t=Oe(this);)De(this,t,this.a,this.i);this.h=!1};var Me=he;function Fe(t){x.call(this,t)}function Ue(){this.wa=this.wa,this.na=this.na}_(Fe,x),Fe.prototype.name="cancel";function je(t){if(!t.wa&&(t.wa=!0,t.Ba(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)})(t)}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Ve=Object.freeze||function(t){return t},qe=!Wt||9<=Number(Zt),Be=Wt&&!ee("9"),ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function He(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Vt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},_(He,We);var Ke=Ve({2:"touch",3:"pen",4:"mouse"});He.prototype.preventDefault=function(){He.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Be)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},He.prototype.f=function(){return this.a};var Ge="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function $e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Qe,this.ua=this.Na=!1}function Ye(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Xe(t){this.src=t,this.a={},this.b=0}function Je(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(Ye(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ze(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Xe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ze(t,e,r,i);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new $e(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),en={};function nn(t,e,n,r,i){if(r&&r.once)on(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else n=dn(n),t&&t[Ge]?mn(t,e,n,p(r)?!!r.capture:!!r,i):rn(t,e,n,!1,r,i)}function rn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=fn(t);if(s||(t[tn]=s=new Xe(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=hn,e=qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(un(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function on(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=dn(n),t&&t[Ge]?yn(t,e,n,p(r)?!!r.capture:!!r,i):rn(t,e,n,!0,r,i)}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=dn(n),t&&t[Ge]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=Ze(o=t.a[e],n,r,i))&&(Ye(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ze(e,n,r,i)),(n=-1<t?e[t]:null)&&sn(n))}function sn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ge])Je(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(un(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fn(e))?(Je(n,t),0==n.b&&(n.src=null,e[tn]=null)):Ye(t)}}}function un(t){return t in en?en[t]:en[t]="on"+t}function cn(t,e,n,r){var i=!0;if((t=fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=ln(o,r),i=i&&!1!==o)}return i}function ln(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&sn(t),n.call(r,e)}function hn(t,e){if(t.ua)return!0;if(!qe){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new He(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=cn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=cn(r[i],t,!1,e),n=n&&o}return n}return ln(t,new He(e,this))}function fn(t){return(t=t[tn])instanceof Xe?t:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(t){return f(t)?t:(t[pn]||(t[pn]=function(e){return t.handleEvent(e)}),t[pn])}function vn(){Ue.call(this),this.u=new Xe(this),this.Yb=this,this.eb=null}function mn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function yn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&Je(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function wn(t,e,n){if(f(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function _n(t){var e=null;return new ye((function(n,r){-1==(e=wn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(vn,Ue),vn.prototype[Ge]=!0,vn.prototype.addEventListener=function(t,e,n,r){nn(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){an(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;pt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=bn(a,r,!0,t)&&i}if(i=bn(a=t.b=n,r,!0,t)&&i,i=bn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(a=t.b=e[o],r,!1,t)&&i;return i},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ye(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=In.prototype).V=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof kn?(this.h=void 0!==e?e:t.h,An(this,t.f),this.i=t.i,this.b=t.b,xn(this,t.l),this.c=t.c,Pn(this,Yn(t.a)),this.g=t.g):t&&(n=String(t).match(Nn))?(this.h=!!e,An(this,n[1]||"",!0),this.i=Mn(n[2]||""),this.b=Mn(n[3]||"",!0),xn(this,n[4]),this.c=Mn(n[5]||"",!0),Pn(this,n[6]||"",!0),this.g=Mn(n[7]||"")):(this.h=!!e,this.a=new Wn(null,this.h))}function An(t,e,n){t.f=n?Mn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Pn(t,e,n){e instanceof Wn?(t.a=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Gn(this,e),$n(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Fn(e,Bn)),t.a=new Wn(e,t.h))}function Rn(t,e,n){t.a.set(e,n)}function On(t,e){return t.a.get(e)}function Dn(t){return t instanceof kn?new kn(t):new kn(t,void 0)}function Ln(t,e){var n=new kn(null,void 0);return An(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fn(e,jn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Fn(e,jn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?qn:Vn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Fn(n,zn)),t.join("")},kn.prototype.resolve=function(t){var e=new kn(this),n=!!t.f;n?An(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)xn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(it(i,"./")||it(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Pn(e,Yn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var jn=/[#\/\?@]/g,Vn=/[#\?:]/g,qn=/[#\?]/g,Bn=/[#\?@]/g,zn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?$n(n,i,o):n.add(i,o)}return n}function Gn(t,e){Hn(t),e=Xn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Qn(t,e){return Hn(t),e=Xn(t,e),Cn(t.a.b,e)}function $n(t,e,n){Gn(t,e),0<n.length&&(t.c=null,t.a.set(Xn(t,e),Q(n)),t.b+=n.length)}function Yn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function Xn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Jn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),nr(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":nr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Zn,t,e),e.join("")}function Zn(){}(t=Wn.prototype).add=function(t,e){Hn(this),this.c=null,t=Xn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){V(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Hn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Hn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=G(e,this.a.get(Xn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Qn(this,t=Xn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var tr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},er=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nr(t,e){e.push('"',t.replace(er,(function(t){var e=tr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),tr[t]=e),e})),'"')}function rr(){var t=Er();return Wt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function ir(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function or(t,e){e=e||a.window;var n="about:blank";t&&(n=kt(xt(t))),e.location.href=n}function ar(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function sr(t){t=t||a.window;try{t.close()}catch(t){}}function ur(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),br(Er())==yr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:xt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(a=ce(document,"A"),"HTMLAnchorElement"),e instanceof Nt||e instanceof Nt||(e="object"==typeof e&&e.ra?e.qa():String(e),At.test(e)||(e="about:invalid#zClosurez"),e=new Nt(Rt,e)),a.href=kt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=kt(e),a&&(Kt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Mt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),r=a.document)&&(r.write(Dt(t)),r.close())):(a=r.open(kt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lr=/^[^@]+@[^@]+$/;function hr(){var t=null;return new ye((function(e){"complete"==a.document.readyState?e():(t=function(){e()},on(window,"load",t))})).o((function(e){throw an(window,"load",t),e}))}function fr(t){return t=t||Er(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function pr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function dr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function vr(){return gn.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":gn.INTERNAL.hasOwnProperty("node")?"Node":dr()?"Worker":"Browser"}function mr(){var t=vr();return"ReactNative"===t||"Node"===t}var yr="Firefox",gr="Chrome";function br(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?yr:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":gr:"Safari"}var wr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function _r(t,e){e=e||[];var n,r=[],i={};for(n in wr)i[wr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=vr())?r=br(i=Er()):"Worker"===r&&(r=br(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return a.navigator&&a.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=a.localStorage,e=Rr();if(t)return t.setItem(e,"1"),t.removeItem(e),!rr()||!!a.indexedDB}catch(t){return dr()&&!!a.indexedDB}return!1}function Sr(){return(Cr()||"chrome-extension:"===Nr()||fr())&&!mr()&&Ir()&&!dr()}function Cr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return a.location&&a.location.protocol||null}function kr(t){return!ar(t=t||Er())&&br(t)!=yr}function Ar(t){return void 0===t?null:Jn(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Pr(t){if(null!==t)return JSON.parse(t)}function Rr(t){return t||Math.floor(1e9*Math.random()).toString()}function Or(t){return"Safari"!=br(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Lr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=vr(),this.b=ar(t)||"ReactNative"===e}function Mr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Ur(){return!(!Tr("fireauth.oauthhelper",a)&&!Tr("fireauth.iframe",a))}Lr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Vr={};function qr(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Br.abcd}catch(Bt){jr=!1}function zr(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Hr(t){var e={};return Wr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Kr(t[n]));return e}function Gr(t){var e=t&&(t[Jr]?"phone":null);if(!(e&&t&&t[Xr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[Xr]),zr(this,"displayName",t[$r]||null);var n=null;t[Yr]&&(n=new Date(t[Yr]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Qr(t){try{var e=new Zr(t)}catch(t){e=null}return e}Gr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var $r="displayName",Yr="enrolledAt",Xr="mfaEnrollmentId",Jr="phoneInfo";function Zr(t){Gr.call(this,t),zr(this,"phoneNumber",t[Jr])}function ti(t){var e={},n=t[ii],r=t[ai],i=t[si];if(t=Qr(t[oi]),!i||i!=ni&&i!=ri&&!n||i==ri&&!r||i==ei&&!t)throw Error("Invalid checkActionCode response!");i==ri?(e[ci]=n||null,e[hi]=n||null,e[ui]=r):(e[ci]=r||null,e[hi]=r||null,e[ui]=n||null),e[li]=t||null,zr(this,pi,i),zr(this,fi,Kr(e))}_(Zr,Gr),Zr.prototype.v=function(){var t=Zr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ei="REVERT_SECOND_FACTOR_ADDITION",ni="EMAIL_SIGNIN",ri="VERIFY_AND_CHANGE_EMAIL",ii="email",oi="mfaInfo",ai="newEmail",si="requestType",ui="email",ci="fromEmail",li="multiFactorInfo",hi="previousEmail",fi="data",pi="operation";function di(t){var e=On(t=Dn(t),vi)||null,n=On(t,mi)||null,r=On(t,bi)||null;if(r=r&&_i[r]||null,!e||!n||!r)throw new E("argument-error",vi+", "+mi+"and "+bi+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:On(t,yi)||null,languageCode:On(t,gi)||null,tenantId:On(t,wi)||null})}var vi="apiKey",mi="oobCode",yi="continueUrl",gi="languageCode",bi="mode",wi="tenantId",_i={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ni,verifyAndChangeEmail:ri,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new di(t)}catch(t){return null}}function Ti(t){var e=t[ki];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ii];if(n&&"object"==typeof n){e=n[Pi];var r=n[Ai];if(n=n[xi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Ai+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ii+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Ri])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new E("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Si])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Si+" property must be a non empty string when specified.");this.i=t||null}var Ii="android",Si="dynamicLinkDomain",Ci="handleCodeInApp",Ni="iOS",ki="url",Ai="installApp",xi="minimumVersion",Pi="packageName",Ri="bundleId";function Oi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function Li(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Di[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Mi(t){var e=Ui(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Fi(t){try{return new Mi(t)}catch(t){return null}}function Ui(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Li(t))}catch(t){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],qi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:ji},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Bi(t){for(var e in qi)if(qi[e].ea==t)return qi[e];return null}function zi(t){var e={};e["facebook.com"]=Qi,e["google.com"]=Yi,e["github.com"]=$i,e["twitter.com"]=Xi;var n=t&&t[Hi];try{if(n)return e[n]?new e[n](t):new Gi(t);if(void 0!==t[Wi])return new Ki(t)}catch(t){}return null}var Wi="idToken",Hi="providerId";function Ki(t){var e=t[Hi];if(!e&&t[Wi]){var n=Fi(t[Wi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Gi(t){Ki.call(this,t),zr(this,"profile",Kr((t=Pr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Gi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(t){if(Gi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function Yi(t){if(Gi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Gi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function Ji(t){var e=Dn(t),n=On(e,"link"),r=On(Dn(n),"link");return e=On(e,"deep_link_id"),On(Dn(e),"link")||e||r||n||t}function Zi(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?to:eo}_(Gi,Ki),_(Qi,Gi),_($i,Gi),_(Yi,Gi),_(Xi,Gi);var to="enroll",eo="signin";function no(){}function ro(t,e){return t.then((function(t){if(t[Ha]){var n=Fi(t[Ha]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new E("user-mismatch"):t}))}function io(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ao(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(t){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function uo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function co(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(t){}}return null}function lo(t,e){this.Oc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Bi(t)||{}).Ha||null,this.kb=null}function ho(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');lo.call(this,t,[])}function fo(t){lo.call(this,t,Vi),this.a=[]}function po(){fo.call(this,"facebook.com")}function vo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function mo(){fo.call(this,"github.com")}function yo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function go(){fo.call(this,"google.com"),this.Aa("profile")}function bo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new go).credential({idToken:n,accessToken:e})}function wo(){lo.call(this,"twitter.com",ji)}function _o(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Io(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function So(t,e){if(!(e=Co(e)))throw new E("argument-error","Invalid email link!");return new Eo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ei(t=Ji(t)))&&t.operation===ni?t:null}function No(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,zr(this,"providerId","phone"),this.ea="phone",zr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new No(e)}return null}function Ao(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function xo(t){try{this.a=t||gn.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Po(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new No({bb:t,ab:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new No({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return bo(o,n);case"facebook.com":return vo(n);case"github.com":return yo(n);case"twitter.com":return _o(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new io(e,a):new so(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Oo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Do(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Lo(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}Zi.prototype.Fa=function(){return this.a?Ie(this.a):Ie(this.b)},Zi.prototype.v=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},no.prototype.ia=function(){},no.prototype.b=function(){},no.prototype.c=function(){},no.prototype.v=function(){},io.prototype.ia=function(t){return hs(t,oo(this))},io.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,fs(t,n)},io.prototype.c=function(t,e){return ro(ps(t,oo(this)),e)},io.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return hs(t,uo(this))},so.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,fs(t,n)},so.prototype.c=function(t,e){return ro(ps(t,uo(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},lo.prototype.Ia=function(t){return this.Fb=ht(t),this},_(ho,lo),_(fo,lo),fo.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},fo.prototype.Nb=function(){return Q(this.a)},fo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},_(po,fo),zr(po,"PROVIDER_ID","facebook.com"),zr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(mo,fo),zr(mo,"PROVIDER_ID","github.com"),zr(mo,"GITHUB_SIGN_IN_METHOD","github.com"),_(go,fo),zr(go,"PROVIDER_ID","google.com"),zr(go,"GOOGLE_SIGN_IN_METHOD","google.com"),_(wo,lo),zr(wo,"PROVIDER_ID","twitter.com"),zr(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ia=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,_s,{email:this.a,oobCode:this.f}):Qs(t,zs,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,Ls,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return ro(this.ia(t),e)},Eo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(Io,{PROVIDER_ID:"password"}),Wr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ia=function(t){return t.cb(Ao(this))},No.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Qs(t,Hs,n)},No.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",ro(t=Qs(t,Ks,n),e)},No.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},xo.prototype.cb=function(t,e){var n=this.a.b;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==to?i.Fa().then((function(t){return function(t,e){return Qs(t,Fs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==eo?i.Fa().then((function(e){return function(t,e){return Qs(t,Us,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Qs(t,Os,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(xo,{PROVIDER_ID:"phone"}),Wr(xo,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Fo,Uo=null;function jo(t){var e="unauthorized-domain",n=void 0,r=Dn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Vo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&zr(this,"email",t.Gb),t.da&&zr(this,"phoneNumber",t.da),t.credential&&zr(this,"credential",t.credential),t.Wb&&zr(this,"tenantId",t.Wb)}function qo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Ro(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Bo(){}function zo(t){return t.c||(t.c=t.b())}function Wo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=g(this.oc,this),this.a.onerror=g(this.Pb,this),this.a.onprogress=g(this.pc,this),this.a.ontimeout=g(this.tc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}_(jo,E),_(Vo,E),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Bo.prototype.c=null,_(Wo,Bo),Wo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Wo,_(Ko,Bo),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Qo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){delete this.a},Xo.prototype.toString=function(){return this.name};var Jo=new Xo("SEVERE",1e3),Zo=new Xo("WARNING",900),ta=new Xo("CONFIG",700),ea=new Xo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var na={},ra=null;function ia(t){var e;if(ra||(ra=new Yo(""),na[""]=ra,ra.c=ta),!(e=na[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ia(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,na[t]=e}return e}function oa(t,e){t&&t.log(ea,e,void 0)}function aa(t){this.f=t}function sa(t){vn.call(this),this.s=t,this.readyState=ua,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ia("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(aa,Bo),aa.prototype.a=function(){return new sa(this.f)},aa.prototype.b=function(t){return function(){return t}}({}),_(sa,vn);var ua=0;function ca(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function la(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ha(t)}function ha(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function fa(t){vn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=pa,this.w=this.R=!1}(t=sa.prototype).open=function(t,e){if(this.readyState!=ua)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ha(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,la(this,!1)),this.readyState=ua},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ha(this)),this.a&&(this.readyState=3,ha(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ca(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?la(this,!0):ha(this),3==this.readyState&&ca(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,la(this,!0))},t.qc=function(t){this.a&&(this.response=t,la(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Zo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&la(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(fa,vn);var pa="";fa.prototype.b=ia("goog.net.XhrIo");var da=/^https?$/i,va=["POST","PUT"];function ma(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Fo.a(),t.B=t.D?zo(t.D):zo(Fo),t.a.onreadystatechange=g(t.Sb,t);try{oa(t.b,Sa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return oa(t.b,Sa(t,"Error opening Xhr: "+e.message)),void ga(t,e)}e=r||"";var o=new In(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)V(t,e,void 0);else for(var n=Tn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ya,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!W(va,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ea(t),0<t.g&&(t.w=function(t){return Wt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),oa(t.b,Sa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ka,t)):t.s=wn(t.Ka,t.g,t)),oa(t.b,Sa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){oa(t.b,Sa(t,"Send error: "+e.message)),ga(t,e)}}function ya(t){return"content-type"==t.toLowerCase()}function ga(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ba(t),_a(t)}function ba(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wa(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Ta(t)&&2==Ia(t))oa(t.b,Sa(t,"Local request error detected and ignored"));else if(t.i&&4==Ta(t))wn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ta(t)){oa(t.b,Sa(t,"Request complete")),t.c=!1;try{var e,n=Ia(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Nn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!da.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ta(t)?t.a.statusText:""}catch(e){oa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ia(t)+"]",ba(t)}}finally{_a(t)}}}function _a(t,e){if(t.a){Ea(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ea(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ta(t){return t.a?t.a.readyState:0}function Ia(t){try{return 2<Ta(t)?t.a.status:-1}catch(t){return-1}}function Sa(t,e){return e+" ["+t.P+" "+t.l+" "+Ia(t)+"]"}function Ca(t){var e=Fa;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Na(t,e,n){t.a=!0,t.c=n,t.f=!e,Pa(t)}function ka(t){if(t.a){if(!t.u)throw new Ra(t);t.u=!1}}function Aa(t,e,n,r){t.g.push([e,n,r]),t.a&&Pa(t)}function xa(t){return z(t.g,(function(t){return f(t[1])}))}function Pa(t){if(t.h&&t.a&&xa(t)){var e=t.h,n=La[e];n&&(a.clearTimeout(n.a),delete La[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(A(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,xa(t)||(n=!0)}}t.c=e,r&&(u=g(t.m,t,!0),r=g(t.m,t,!1),e instanceof Ca?(Aa(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Da(e),La[e.a]=e,t.h=e.a)}function Ra(){x.call(this)}function Oa(){x.call(this)}function Da(t){this.a=a.setTimeout(g(this.c,this),0),this.b=t}(t=fa.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",oa(this.b,Sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(oa(this.b,Sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_a(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_a(this,!0)),fa.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?wa(this):this.Hc())},t.Hc=function(){wa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return oa(this.b,"Can not get response: "+t.message),null}},Ca.prototype.cancel=function(t){if(this.a)this.c instanceof Ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Oa(this),ka(this),Na(this,!1,t))}},Ca.prototype.m=function(t,e){this.i=!1,Na(this,t,e)},Ca.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Aa(this,r,(function(t){t instanceof Oa?o.cancel():i(t)})),o.then(t,e,n)},Ca.prototype.$goog_Thenable=!0,_(Ra,x),Ra.prototype.message="Deferred has already fired",Ra.prototype.name="AlreadyCalledError",_(Oa,x),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",Da.prototype.c=function(){throw delete La[this.a],this.b};var La={};function Ma(t){var e,n=document,r=_t(t).toString(),i=ce(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Ca(o);return e=window.setTimeout((function(){Ua(i,!0);var t=new qa(Va,"Timeout reached for loading script "+r);ka(c),Na(c,!1,t)}),5e3),o.Ka=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ua(i,!1,e),ka(c),Na(c,!0,null))},i.onerror=function(){Ua(i,!0,e);var t=new qa(ja,"Error while loading script "+r);ka(c),Na(c,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ie(i,o),function(t,e){dt(t,"HTMLScriptElement"),t.src=_t(e),null===u&&(u=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Fa(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ua(t,!0,this.Ka)}}function Ua(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var ja=0,Va=1;function qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Ba(t){this.f=t}function za(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ka,this.g=ht(t.secureTokenHeaders||Ga),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Qa,this.a=ht(t.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==vr(),!(n=a.XMLHttpRequest||n&&gn.INTERNAL.node&&gn.INTERNAL.node.XMLHttpRequest)&&!dr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dr()?this.f=new aa(self):mr()?this.f=new Ba(n):this.f=new Ko,this.b=null}_(qa,x),_(Ba,Bo),Ba.prototype.a=function(){return new this.f},Ba.prototype.b=function(){return{}};var Wa,Ha="idToken",Ka=new Lr(3e4,6e4),Ga={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Lr(3e4,6e4),$a={"Content-Type":"application/json"};function Ya(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Xa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ja(t,e,n,r,i,o,s){(function(){var t=Er();return!((t=br(t)!=gr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Wt||!Zt||9<Zt)})()||dr()?t=g(t.w,t):(Wa||(Wa=new ye((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[ts]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Aa(t,null,e,void 0)}(Ma(Et(Za,{onload:ts})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=g(t.s,t)),t(e,n,r,i,o,s)}za.prototype.S=function(){return this.b},za.prototype.w=function(t,e,n,r,i,o){if(dr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new fa(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}mn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return oa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),yn(s,"ready",(function(){u&&clearTimeout(u),je(this)})),yn(s,"timeout",(function(){u&&clearTimeout(u),je(this),e&&e(null)})),ma(s,t,n,r,i)};var Za=new vt(gt,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function es(t,e,n,r,i,o,a){var s=Dn(e+n);Rn(s,"key",t.c),a&&Rn(s,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(s,c,i[c]);return new ye((function(e,n){Ja(t,s.toString(),(function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Jn(xr(i)),t.a,t.i.get())}))}function ns(t){if("string"!=typeof(t=t.email)||!lr.test(t))throw new E("invalid-email")}function rs(t){"email"in t&&ns(t)}function is(t){if(!t[Ha]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ht(t));throw new E("internal-error")}}function os(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}za.prototype.s=function(t,e,n,r,i){var o=this;Wa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},za.prototype.vb=function(){return Qs(this,Ms,{})},za.prototype.xb=function(t,e){return Qs(this,Ds,{idToken:t,email:e})},za.prototype.yb=function(t,e){return Qs(this,Ls,{idToken:t,password:e})};var as={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ss(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function us(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function cs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ls(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=qo(t)):t.errorMessage&&(e=$s(t.errorMessage)),e)throw e;is(t)}function hs(t,e){return e.returnIdpCredential=!0,Qs(t,js,e)}function fs(t,e){return e.returnIdpCredential=!0,Qs(t,qs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,Vs,e)}function ds(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=za.prototype).zb=function(t,e){var n={idToken:t},r=[];return ct(as,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Ds,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,As,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,Cs,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,Ns,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,ks,t)},t.cb=function(t){return Qs(this,Ws,t)},t.jb=function(t,e){return Qs(this,Rs,{oobCode:t,newPassword:e})},t.Pa=function(t){return Qs(this,ms,{oobCode:t})},t.fb=function(t){return Qs(this,vs,{oobCode:t})};var vs={endpoint:"setAccountInfo",A:ds,Y:"email",C:!0},ms={endpoint:"resetPassword",A:ds,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},ys={endpoint:"signupNewUser",A:function(t){if(ns(t),!t.password)throw new E("weak-password")},G:is,U:!0,C:!0},gs={endpoint:"createAuthUri",C:!0},bs={endpoint:"deleteAccount",M:["idToken"]},ws={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},_s={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ns,G:is,U:!0,C:!0},Es={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ns,G:is,U:!0},Ts={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ss,G:is,C:!0,La:!0},Is={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ss,G:is,C:!0,La:!0},Ss={endpoint:"getAccountInfo"},Cs={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ns(t)},Y:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},ks={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ns(t)},Y:"email",C:!0},xs={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ps={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Rs={endpoint:"resetPassword",A:ds,Y:"email",C:!0},Os={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ds={endpoint:"setAccountInfo",M:["idToken"],A:rs,U:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(rs(t),!t.password)throw new E("weak-password")},G:is,U:!0},Ms={endpoint:"signupNewUser",G:is,U:!0,C:!0},Fs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Us={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},js={endpoint:"verifyAssertion",A:us,Wa:cs,G:ls,U:!0,C:!0},Vs={endpoint:"verifyAssertion",A:us,Wa:cs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw $s(t.errorMessage);is(t)},U:!0,C:!0},qs={endpoint:"verifyAssertion",A:function(t){if(us(t),!t.idToken)throw new E("internal-error")},Wa:cs,G:ls,U:!0},Bs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:is,U:!0,C:!0},zs={endpoint:"verifyPassword",A:function(t){if(ns(t),!t.password)throw new E("wrong-password")},G:is,U:!0,C:!0},Ws={endpoint:"verifyPhoneNumber",A:os,G:is,C:!0},Hs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");os(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",qo(t);is(t)}},Ks={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:os,G:is,C:!0},Gs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ha]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Se(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ie(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),es(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function $s(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Ar(t)),new E("internal-error",e)}function Xs(t){this.b=t,this.a=null,this.nb=function(t){return(eu||(eu=new ye((function(t,e){function n(){Dr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Zs.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Ie(Ma(r=Et(Js,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw eu=null,t})))).then((function(){return new ye((function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Js=new vt(gt,"https://apis.google.com/js/api.js?onload=%{onload}"),Zs=new Lr(3e4,6e4),tu=new Lr(5e3,15e3),eu=null;function nu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ln(this.i,"/__/auth/iframe"),Rn(this.a,"apiKey",this.g),Rn(this.a,"appName",this.h),this.b=null,this.c=[]}function ru(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function iu(t){try{return gn.app(t).auth().Ea()}catch(t){return[]}}function ou(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function au(t){var e=ir();return function(t){return Qs(t,xs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Dn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Dn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:cr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new jo(ir())}))}function su(t){return t.l||(t.l=hr().then((function(){if(!t.s){var e=t.c,n=t.h,r=iu(t.b),i=new nu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Q(r||[]),t.s=i.toString()}t.i=new Xs(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Lo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.l}function uu(t){return t.m||(t.w=t.c?_r(t.c,iu(t.b)):null,t.m=new za(t.f,k(t.h),t.w)),t.m}function cu(t,e,n,r,i,o,a,s,u,c,l){return(t=new ru(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=ht(u||null),t.f=c,t.ub(l).toString()}function lu(t){if(this.a=t||gn.INTERNAL.reactNative&&gn.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hu(t){this.b=t,this.a={},this.f=g(this.c,this)}nu.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Gn(this.a.a,"v"),this.b?Rn(this.a,"eid",this.b):Gn(this.a.a,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Gn(this.a.a,"fw"),this.a.toString()},ru.prototype.ub=function(t){return this.h=t,this},ru.prototype.toString=function(){var t=Ln(this.s,"/__/auth/handler");if(Rn(t,"apiKey",this.m),Rn(t,"appName",this.c),Rn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=gn.app(this.c).auth().ja()}catch(t){n=null}for(var r in e.kb=n,Rn(t,"providerId",this.a.providerId),n=xr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ht(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),lt(n)||Rn(t,"customParameters",Ar(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&Rn(t,"scopes",e.join(","))),this.l?Rn(t,"redirectUrl",this.l):Gn(t.a,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Gn(t.a,"eventId"),this.i?Rn(t,"v",this.i):Gn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!On(t,a)&&Rn(t,a,this.b[a]);return this.h?Rn(t,"tid",this.h):Gn(t.a,"tid"),this.f?Rn(t,"eid",this.f):Gn(t.a,"eid"),(a=iu(this.c)).length&&Rn(t,"fw",a.join(",")),t.toString()},(t=ou.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return su(t).then((function(){return function(t,e){return t.nb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&sr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new ye((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return _n(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Er();return!kr(t)&&!Or(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,a,s){if(!t)return Se(new E("popup-blocked"));if(a&&!kr())return this.ka().o((function(e){sr(t),i(e)})),r(),Ie();this.a||(this.a=au(uu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw sr(t),i(e),e}));return r(),e})).then((function(){(Oo(n),a)||or(cu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=au(uu(this)));var i=this;return this.a.then((function(){Oo(e),or(cu(i.u,i.f,i.b,t,e,ir(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return su(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=lu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Pr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,Ar(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var fu,pu=[];function du(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function mu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Se(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return gu(t,c),e})).o((function(e){throw gu(t,c),e}))}function gu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function bu(){if(!Eu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;dr()&&self?(this.l=function(){var t=dr()?self:null;if(V(pu,(function(n){n.b==t&&(e=n)})),!e){var e=new hu(t);pu.push(e)}return e}(),du(this.l,"keyChanged",(function(e,n){return Nu(t).then((function(e){return 0<e.length&&V(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),du(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new mu(new vu(e)),yu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function wu(t){return new ye((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return wu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function _u(t){return t.m||(t.m=wu(t)),t.m}function Eu(){try{return!!a.indexedDB}catch(t){return!1}}function Tu(t){return t.objectStore("firebaseLocalStorage")}function Iu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Cu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function Nu(t){return _u(t).then((function(t){var e=Tu(Iu(t,!1));return e.getAll?Su(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ku(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Au(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(Eu()){var t=Rr(),r="__sak"+t;return fu||(fu=new bu),(n=fu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){V(e.a,(function(e){e(t)}))})),t}))}function xu(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==vr();if(!(t=Ru()||t&&gn.INTERNAL.node&&gn.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==vr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Ru()||gn.INTERNAL.node.localStorage,this.type="localStorage"}function Ru(){try{var t=a.localStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ou(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==vr();if(!(t=Lu()||t&&gn.INTERNAL.node&&gn.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==vr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Lu()||gn.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=a.sessionStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=ju,t.Node=Vu,t.ReactNative=qu,t.Worker=Bu,this.a=t[vr()]}hu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];V(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Ne(i).then((function(r){var i=[];V(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),V(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mu.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(t,e){var n,r=!1,i=this;return _u(this).then((function(e){return Su((e=Tu(Iu(n=e,!0))).get(t))})).then((function(o){var a=Tu(Iu(n,!0));return o?(o.value=e,Su(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Su(a.add(o)))})).then((function(){return i.c[t]=e,Cu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return _u(this).then((function(e){return Su(Tu(Iu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return _u(this).then((function(r){return e=!0,n.b++,Su(Tu(Iu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Cu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){ku(t),function e(){t.f=setTimeout((function(){t.i=Nu(t).then((function(e){0<e.length&&V(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&ku(this)},(t=Au.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=xu.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ba=function(){},t.ha=function(){},(t=Pu.prototype).get=function(t){var e=this;return Ie().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&nn(a.window,"storage",t)},t.ha=function(t){a.window&&an(a.window,"storage",t)},(t=Ou.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ba=function(){},t.ha=function(){},(t=Du.prototype).get=function(t){var e=this;return Ie().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Fu,Uu,ju={F:Pu,$a:Du},Vu={F:Pu,$a:Du},qu={F:lu,$a:Ou},Bu={F:Pu,$a:Ou},zu={od:"local",NONE:"none",qd:"session"};function Wu(){var t=!(Or(Er())||!pr()),e=kr(),n=Ir();this.m=t,this.h=e,this.l=n,this.a={},Fu||(Fu=new Mu),t=Fu;try{this.g=!rr()&&Ur()||!a.indexedDB?new t.a.F:new Au(dr()?new xu:new t.a.F)}catch(t){this.g=new xu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new xu}this.u=new xu,this.f=g(this.Vb,this),this.b={}}function Hu(){return Uu||(Uu=new Wu),Uu}function Ku(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Gu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qu(t,e,n){return n=Gu(e,n),"local"==e.F&&(t.b[n]=null),Ku(t,e.F).T(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=Hu()}(t=Wu.prototype).get=function(t,e){return Ku(this,t.F).get(Gu(t,e))},t.set=function(t,e,n){var r=Gu(t,n),i=this,o=Ku(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Gu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(Ku(this,"local").ba(this.f),this.h||(rr()||!Ur())&&a.indexedDB||!this.l||function(t){$u(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new He({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Gu(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Ku(this,"local").ha(this.f),$u(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ku(this,"local").ha(this.f):$u(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Wt&&Zt&&10==Zt&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,g(this.ib,this))},t.ib=function(t){this.a[t]&&V(this.a[t],(function(t){t()}))};var Xu,Ju={name:"authEvent",F:"local"};function Zu(){this.a=Hu()}function tc(t,e){this.b=ec,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Xu&&(Xu=a.Int32Array?new Int32Array(uc):uc),this.reset()}_(tc,(function(){this.b=-1}));for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=G(128,rc);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Xu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,lc)}_(cc,tc);var lc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Zu,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new E("invalid-cordova-configuration",t)}function pc(t){var e=new cc;sc(e,t),t=[];var n=8*e.g;56>e.c?sc(e,oc,56-e.c):sc(e,oc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(t){return t.f||(t.f=t.ka().then((function(){return new ye((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),mc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Ji(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pr(On(o=Dn(i),"firebaseError")||null))?T(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}dc(t,i)}))}var n=new Do("unknown",null,null,null,new E("no-auth-event")),r=!1,i=_n(500).then((function(){return mc(t).then((function(){r||dc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Uo||(Uo=new Mo),function(t){var e=Uo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function mc(t){var e=null;return function(t){return t.b.get(Ju,t.a).then((function(t){return Lo(t)}))}(t.g).then((function(n){return e=n,Qu((n=t.g).b,Ju,n.a)})).then((function(){return e}))}function yc(t){this.a=t,this.b=Hu()}(t=hc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(fr(void 0)?hr().then((function(){return new ye((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Tr("universalLinks.subscribe",a))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",a))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",a))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",a))throw fc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ie()},t.Jb=function(){return Se(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Se(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ie().then((function(){return Oo(e),vc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Do(e,r,null,o,new E("no-auth-event"),null,i),u=Tr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",a),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Se(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=pc(o),l.sessionId=o;var h=cu(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Ju,s.v(),e)})).then((function(){var e=Tr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Tr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),c=function(){s||(s=_n(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},l=function(){Mr()&&c()},o.addEventListener("resume",c,!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return mc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),vc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var gc={name:"pendingRedirect",F:"session"};function bc(t){return Qu(t.b,gc,t.a)}function wc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=g(this.s,this),this.b=new Dc,this.B=new jc,this.g=new yc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=_c(this.D,this.u,this.m,I)}function _c(t,e,n,r){var i=gn.SDK_VERSION||null;return fr()?new hc(t,e,n,i,r):new ou(t,e,n,i,r)}function Ec(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Tc(t){t.a.Ub()&&Ec(t).o((function(e){var n=new Do("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)})),t.a.Qb()||Lc(t.b)}function Ic(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(gc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?bc(t.g).then((function(){Ec(t).o((function(e){var n=new Do("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)}))})):Tc(t)})).o((function(){Tc(t)}))}function Sc(t,e){K(t.h,(function(t){return t==e}))}wc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=_c(this.D,this.u,this.m),this.i={}},wc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Lc(this.b),e};var Cc=new Lr(2e3,1e4),Nc=new Lr(3e4,6e4);function kc(t,e,n,r,i,o,a){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,a)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function xc(t,e,n,r,i){var o;return function(t){return t.b.set(gc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Ac(e))throw new E("operation-not-supported-in-this-environment");return o=e,bc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ye((function(){})):bc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Pc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Cc.get())}wc.prototype.pa=function(){return this.b.pa()};var Rc={};function Oc(t,e,n){var r=e+":"+n;return Rc[r]||(Rc[r]=new wc(t,e,n)),Rc[r]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Mc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function jc(){}function Vc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function qc(t,e){this.a=e,zr(this,"verificationId",t)}function Bc(t,e,n,r){return new xo(t).cb(e,n).then((function(t){return new qc(t,r)}))}function zc(t){var e=Ui(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Wc(t,e,n){var r=e&&e[Kc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Zi(null,r),this.b=[];var i=this;V(e[Hc]||[],(function(t){(t=Qr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),Ie()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Uc(t,s,e,null)})).o((function(e){Uc(t,s,null,e)}))}(this,t,e):Se(new E("invalid-auth-event")):(Uc(this,!1,null,null),Ie())}else Se(new E("invalid-auth-event"))},Dc.prototype.pa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=_n(Nc.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},jc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ie()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Se(new E("invalid-auth-event"))}else Se(new E("invalid-auth-event"))},qc.prototype.confirm=function(t){return t=Po(this.verificationId,t),this.a(t)};var Hc="mfaInfo",Kc="mfaPendingCredential";function Gc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Wc(t,e,n),zr(this,"resolver",this.b)}function Qc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Gc(e,t.serverResponse,n,t.message)}catch(t){}return null}function $c(){}function Yc(t){zr(this,"factorId",t.ea),this.a=t}function Xc(t){if(Yc.call(this,t),this.a.ea!=xo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jc(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function Zc(t,e){this.a=t,this.b=[],this.c=g(this.wc,this),nn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Xr]=t.uid),t.displayName&&(r[$r]=t.displayName),t.enrollmentTime&&(r[Yr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Jr]=t.phoneNumber);try{e=new Zr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),tl(this,n)}function tl(t,e){t.b=e,zr(t,"enrolledFactors",e)}function el(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nl(t){this.c=t,this.b=this.a=null}function rl(t){return t.b&&1e3*t.b.c||0}function il(t,e){var n=e.refreshToken;t.b=Fi(e[Ha]||""),t.a=n}function ol(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ja(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ys(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function al(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function sl(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ul(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=gn.SDK_VERSION?_r(gn.SDK_VERSION):null,this.a=new za(this.l,k(I),t),this.b=new nl(this.a),vl(this,e[Ha]),il(this.b,e),zr(this,"refreshToken",this.b.a),gl(this,n||{}),vn.call(this),this.P=!1,this.s&&Sr()&&(this.i=Oc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new el((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=rl(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=g(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ll(r,t.c)},this.$=null,this.O=new Zc(this,n),zr(this,"multiFactor",this.O)}function cl(t,e){t.aa&&an(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&nn(e,"languageCodeChanged",t.za)}function ll(t,e){t.W=e,Xa(t.a,gn.SDK_VERSION?_r(gn.SDK_VERSION,t.W):null)}function hl(t,e){t.$&&an(t.$,"frameworkChanged",t.ya),(t.$=e)&&nn(e,"frameworkChanged",t.ya)}function fl(t){try{return gn.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function pl(t){t.D||t.B.b||(t.B.start(),an(t,"tokenChanged",t.Z),nn(t,"tokenChanged",t.Z))}function dl(t){an(t,"tokenChanged",t.Z),t.B.stop()}function vl(t,e){t.xa=e,zr(t,"_lat",e)}function ml(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ne(e).then((function(){return t}))}function yl(t){t.i&&!t.P&&(t.P=!0,Ic(t.i,t))}function gl(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new al(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function bl(){}function wl(t){return Ie().then((function(){if(t.D)throw new E("app-deleted")}))}function _l(t){return B(t.providerData,(function(t){return t.providerId}))}function El(t,e){e&&(Tl(t,e.providerId),t.providerData.push(e))}function Tl(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function Il(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Sl(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new al(t.a,t.b)}(e.metadata)):zr(t,"metadata",new al),V(e.providerData,(function(e){El(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),zr(t,"refreshToken",t.b.a),tl(t.O,e.O.b))}function Cl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qs(t.a,Ss,{idToken:e}).then(g(t.Ic,t))}(t,e).then((function(){return n||Il(t,"isAnonymous",!1),e}))}))}function Nl(t,e){e[Ha]&&t.xa!=e[Ha]&&(il(t.b,e),t.dispatchEvent(new Jc("tokenChanged")),vl(t,e[Ha]),Il(t,"refreshToken",t.b.a))}function kl(t,e){return Cl(t).then((function(){if(W(_l(t),e))return ml(t).then((function(){throw new E("provider-already-linked")}))}))}function Al(t,e,n){return Hr({user:t,credential:Ro(e),additionalUserInfo:e=zi(e),operationType:n})}function xl(t,e){return Nl(t,e),t.reload().then((function(){return t}))}function Pl(t,e,n,r,i){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=Bi(n.providerId),a=Rr(t.uid+":::"),s=null;(!kr()||pr())&&t.s&&n.isOAuthProvider&&(s=cu(t.s,t.l,t.m,e,n,null,a,gn.SDK_VERSION||null,null,null,t.tenantId));var u=ur(s,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Ol(t),!i)return t.I().then((function(){}))})).then((function(){return kc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new ye((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Pc(t.i,t,e,u,a)}))})).then((function(t){return u&&sr(u),t?Hr(t):null})).o((function(t){throw u&&sr(u),t})),Dl(t,r,i)}function Rl(t,e,n,r,i){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=null,a=Rr(t.uid+":::");return r=r().then((function(){if(Ol(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=a,ml(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Fl,t.v(),e.a)),e})).then((function(){return xc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ga)return Ul(t.ga);throw o})).then((function(){if(o)throw o})),Dl(t,r,i)}function Ol(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Dl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Jc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){H(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.v(),fl(t),g(t.hc,t))),n||e}))}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ul(e,n,t);return t.providerData&&V(t.providerData,(function(t){t&&El(r,Hr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Ml(t){this.a=t,this.b=Hu()}Wc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ht(e.f);return delete n[Hc],delete n[Kc],pt(n,t),e.g(n)}))},_(Gc,E),$c.prototype.ob=function(t,e,n){return e.type==to?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Ao(t.a)}),Qs(e,Ts,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ao(t.a)}),Qs(e,Is,n)}))}(this,t,e)},_(Yc,$c),_(Xc,Yc),_(Jc,We),(t=Zc.prototype).wc=function(t){tl(this,function(t){var e=[];return V(t.mfaInfo||[],(function(t){(t=Qr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Nl(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,Gs,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return tl(e,r),Nl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.v()}))}}},el.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Mr()||!t?Ie():new ye((function(n){e=function(){Mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},el.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nl.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rl(this)}},nl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new E("user-token-expired")):t||!this.b||w()>rl(this)-3e4?this.a?ol(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(ul,vn),ul.prototype.va=function(t){this.oa=t,Ya(this.a,t)},ul.prototype.ja=function(){return this.oa},ul.prototype.Ea=function(){return Q(this.W)},ul.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},zr(ul.prototype,"providerId","firebase"),(t=ul.prototype).reload=function(){var t=this;return Dl(this,wl(this).then((function(){return Cl(t).then((function(){return ml(t)})).then(bl)})))},t.mc=function(t){return this.I(t).then((function(t){return new zc(t)}))},t.I=function(t){var e=this;return Dl(this,wl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(vl(e,t.accessToken),e.dispatchEvent(new Jc("tokenChanged"))),Il(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");gl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new sl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)El(this,e[n]);Il(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jc("userReloaded",{ed:t}))},t.Jc=function(t){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Dl(this,t.c(this.a,this.uid).then((function(t){return Nl(e,t),n=Al(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Dl(this,kl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Al(e,t,"link"),xl(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Dl(this,kl(this,"phone").then((function(){return Bc(fl(n),t,e,g(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Dl(this,Ie().then((function(){return Bc(fl(n),t,e,g(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Nl(e,t),e.reload()})))},t.cd=function(t){var e=this;return Dl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Nl(e,t),e.reload()})))},t.yb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Nl(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return wl(this);var e=this;return Dl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Nl(e,t),Il(e,"displayName",t.displayName||null),Il(e,"photoURL",t.photoUrl||null),V(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),ml(e)})).then(bl))},t.ad=function(t){var e=this;return Dl(this,Cl(this).then((function(n){return W(_l(e),t)?function(t,e,n){return Qs(t,ws,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return V(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),V(_l(e),(function(t){n[t]||Tl(e,t)})),n[xo.PROVIDER_ID]||zr(e,"phoneNumber",null),ml(e)})):ml(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Dl(this,this.I().then((function(e){return Qs(t.a,bs,{idToken:e})})).then((function(){t.dispatchEvent(new Jc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");cl(t,null),hl(t,null),t.N=[],t.D=!0,dl(t),zr(t,"refreshToken",null),t.i&&Sc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?g(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?g(this.Ib,this):null},t.Cc=function(t){var e=this;return Pl(this,"linkViaPopup",t,(function(){return kl(e,t.providerId).then((function(){return ml(e)}))}),!1)},t.Lc=function(t){return Pl(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Dc=function(t){var e=this;return Rl(this,"linkViaRedirect",t,(function(){return kl(e,t.providerId)}),!1)},t.Mc=function(t){return Rl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,this.I().then((function(n){return fs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Al(i,t,"link"),xl(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,Ie().then((function(){return ro(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Al(i,t,"reauthenticate"),Nl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Dl(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Oi(new Ti(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Dl(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Oi(new Ti(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Dl(this,t=ro(Ie(t),n.uid).then((function(t){return e=Al(n,t,"reauthenticate"),Nl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),V(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var Fl={name:"redirectUser",F:"session"};function Ul(t){return Qu(t.b,Fl,t.a)}function jl(t){this.a=t,this.b=Hu(),this.c=null,this.f=function(t){var e=Bl("local"),n=Bl("session"),r=Bl("none");return function(t,e,n){var r=Gu(e,n),i=Ku(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Pr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ql,t.a).then((function(t){return t?Bl(t):e}))}))}))})).then((function(e){return t.c=e,Vl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Bl("local"),this.a,g(this.g,this))}function Vl(t,e){var n,r=[];for(n in zu)zu[n]!==e&&r.push(Qu(t.b,Bl(zu[n]),t.a));return r.push(Qu(t.b,ql,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ce(t[s],b(o,s),a);else e(i)}))}(r)}jl.prototype.g=function(){var t=this,e=Bl("local");Kl(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Vl(t,"local").then((function(){t.c=e}))}))}))};var ql={name:"persistence",F:"session"};function Bl(t){return{name:"authUser",F:t}}function zl(t,e){return Kl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Wl(t){return Kl(t,(function(){return Qu(t.b,t.c,t.a)}))}function Hl(t,e){return Kl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}))}function Kl(t,e){return t.f=t.f.then(e,e),t.f}function Gl(t){if(this.l=!1,zr(this,"settings",new Vc),zr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new E("invalid-api-key");t=gn.SDK_VERSION?_r(gn.SDK_VERSION):null,this.b=new za(eh(this).options&&eh(this).options.apiKey,k(I),t),this.P=[],this.m=[],this.O=[],this.$b=gn.INTERNAL.createSubscribe(g(this.xc,this)),this.W=void 0,this.ac=gn.INTERNAL.createSubscribe(g(this.yc,this)),Zl(this,null),this.i=new jl(eh(this).options.apiKey+":"+eh(this).name),this.B=new Ml(eh(this).options.apiKey+":"+eh(this).name),this.Z=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}(t.B,eh(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ul(t.B)}));return oh(t,e)}(t).then((function(){return Hl(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return zl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Wl(t.i)}))):null})).then((function(e){Zl(t,e||null)}));return oh(t,n)}(this)),this.h=oh(this,function(t){return t.Z.then((function(){return Xl(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Bl("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=g(this.Xc,this),this.Ma=g(this.ca,this),this.xa=g(this.jc,this),this.ya=g(this.uc,this),this.za=g(this.vc,this),this.a=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Sr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Oc(e,n,eh(t).name),Ic(t.a,t),nh(t)&&yl(nh(t)),t.D){yl(t.D);var r=t.D;r.va(t.ja()),cl(r,t),ll(r=t.D,t.N),hl(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Ql(t){We.call(this,"languageCodeChanged"),this.g=t}function $l(t){We.call(this,"frameworkChanged"),this.c=t}function Yl(t){return t.Zb||Se(new E("auth-domain-config-required"))}function Xl(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=Yl(t).then((function(){return t.a.pa()})).then((function(t){return t?Hr(t):null}));return oh(t,e)}function Jl(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ga=n),r&&ll(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return nh(t)&&e.uid==nh(t).uid?(Sl(nh(t),e),t.ca(e)):(Zl(t,e),yl(e),t.ca(e))})).then((function(){ih(t)}))}function Zl(t,e){nh(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(nh(t),t.Ma),an(nh(t),"tokenChanged",t.xa),an(nh(t),"userDeleted",t.ya),an(nh(t),"userInvalidated",t.za),dl(nh(t))),e&&(e.R.push(t.Ma),nn(e,"tokenChanged",t.xa),nn(e,"userDeleted",t.ya),nn(e,"userInvalidated",t.za),0<t.s&&pl(e)),zr(t,"currentUser",e),e&&(e.va(t.ja()),cl(e,t),ll(e,t.N),hl(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then((function(e){return n=Ro(e),r=zi(e),Jl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.v(),t,g(t.ic,t))),n||e})).then((function(){return Hr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](rh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rh(t))}}function oh(t,e){return t.P.push(e),e.ma((function(){H(t.P,e)})),e}function ah(){}function sh(){this.a={},this.b=1e12}jl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in zu)if(zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(vr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),Kl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Vl(n,t)})).then((function(){if(n.c=Bl(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},_(Gl,vn),_(Ql,We),_($l,We),(t=Gl.prototype).tb=function(t){return oh(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ya(this.b,this.$),this.dispatchEvent(new Ql(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Xa(this.b,gn.SDK_VERSION?_r(gn.SDK_VERSION,this.N):null),this.dispatchEvent(new $l(this.N))},t.Ea=function(){return Q(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return th(i,hs(i.b,o))}))},t.Vc=function(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=Rr(),i=null;(!kr()||pr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(i=cu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,r,gn.SDK_VERSION||null,null,null,this.S()));var o=ur(i,n&&n.ta,n&&n.sa);return oh(this,n=Yl(this).then((function(n){return kc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ye((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Pc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&sr(o),t?Hr(t):null})).o((function(t){throw o&&sr(o),t})))},t.Wc=function(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=this;return oh(this,Yl(this).then((function(){return function(t){return Kl(t,(function(){return t.b.set(ql,t.c.F,t.a)}))}(e.i)})).then((function(){return xc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Xl(this).then((function(e){return t.a&&Mc(t.a.b),e})).o((function(e){throw t.a&&Mc(t.a.b),e}))},t.bd=function(t){if(!t)return Se(new E("null-user"));if(this.R!=t.tenantId)return Se(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ha]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&ll(e,r),Sl(e,t),e}(t,n,e.B,e.Ea());return oh(this,this.h.then((function(){if(eh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nh(e)&&t.uid==nh(e).uid?(Sl(nh(e),t),e.ca(t)):(Zl(e,r),yl(r),e.ca(r))})).then((function(){ih(e)})))},t.wb=function(){var t=this;return oh(this,this.h.then((function(){return t.a&&Mc(t.a.b),nh(t)?(Zl(t,null),Wl(t.i).then((function(){ih(t)}))):Ie()})))},t.Xc=function(){var t=this;return Hl(this.i,eh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Sl(nh(t),e),nh(t).I();(nh(t)||e)&&(Zl(t,e),e&&(yl(e),e.ga=t.B),t.a&&Ic(t.a,t),ih(t))}}))},t.ca=function(t){return zl(this.i,t)},t.jc=function(){ih(this),this.ca(nh(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return th(e,Ie(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nh(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),oh(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(rh(t)))})))}(this,(function(){t.next(nh(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return oh(this,this.h.then((function(){return nh(e)?nh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return th(e,Qs(e.b,Bs,{token:t}))})).then((function(t){var n=t.user;return Il(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return th(n,Qs(n.b,zs,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return th(n,Qs(n.b,ys,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return th(e,t.ia(e.b))}))},t.Qc=function(t){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=nh(t);if(e&&e.isAnonymous){var n=Hr({providerId:null,isNewUser:!1});return Hr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.b.vb()).then((function(e){var n=e.user;return Il(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&nh(this)&&pl(nh(this))},t.Nc=function(t){var e=this;V(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&nh(this)&&dl(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),oh(this,this.h.then((function(){e.l||W(e.m,t)&&t(rh(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Bl("local"),t.a,this.oa),this.a&&(Sc(this.a,this),Mc(this.a.b)),Promise.resolve()},t.fc=function(t){return oh(this,function(t,e){return Qs(t,gs,{identifier:e,continueUri:Cr()?ir():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!Co(t)},t.sb=function(t,e){var n=this;return oh(this,Ie().then((function(){var t=new Ti(e);if(!t.c)throw new E("argument-error",Ci+" must be true when sending sign in link to email");return Oi(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return oh(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return oh(this,this.b.Pa(t).then((function(t){return new ti(t)})))},t.fb=function(t){return oh(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return oh(this,Ie().then((function(){return void 0===e||lt(e)?{}:Oi(new Ti(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return oh(this,Bc(this,t,e,g(this.Ya,this)))},t.Tc=function(t,e){var n=this;return oh(this,Ie().then((function(){var r=e||ir(),i=So(t,r);if(!(r=Co(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},ah.prototype.render=function(){},ah.prototype.reset=function(){},ah.prototype.getResponse=function(){},ah.prototype.execute=function(){};var uh=null;function ch(t,e){return(e=lh(e))&&t.a[e]||null}function lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():nn(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ph(){}function dh(){}sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},sh.prototype.reset=function(t){var e=ch(this,t);t=lh(t),e&&t&&(e.delete(),delete this.a[t])},sh.prototype.getResponse=function(t){return(t=ch(this,t))?t.getResponse():null},sh.prototype.execute=function(t){(t=ch(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)},zr(ph,"FACTOR_ID","phone"),dh.prototype.g=function(){return uh||(uh=new sh),Ie(uh)},dh.prototype.c=function(){};var vh=null;function mh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new vt(gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),gh=new Lr(3e4,6e4);mh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),gh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},Ie(Ma(Et(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},mh.prototype.c=function(){this.b--};var bh=null;function wh(t,e,n,r,i,o,s){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(vh||(vh=new dh),s=vh):(bh||(bh=new mh),s=bh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Th])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new za(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[_h];this.a[_h]=function(t){if(Sh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Eh];this.a[Eh]=function(){if(Sh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Tr(l,a);"function"==typeof t&&t()}}}var _h="callback",Eh="expired-callback",Th="sitekey",Ih="size";function Sh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ch(t,e){return t.h.push(e),e.ma((function(){H(t.h,e)})),e}function Nh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function kh(t,e,n){var r=!1;try{this.b=n||gn.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=gn.SDK_VERSION?_r(gn.SDK_VERSION,o):null,wh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,k(I),r)}function Ah(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=xh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=xh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=wh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Ch(this,Ie().then((function(){if(Cr()&&!dr())return hr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Qs(t.s,Ps,{})})).then((function(e){t.a[Th]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Nh(this);var t=this;return Ch(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=re(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ne&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',jt(a.name),'"'),a.type){o.push(' type="',jt(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ce(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ie(o,a)),2<r.length&&ue(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Nh(this);var t=this;return Ch(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Nh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Nh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(kh,wh);var xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ph(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Rh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Oh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Dh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Mh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Fh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function Uh(t){return p(t)&&"string"==typeof t.uid}function jh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Vh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Ah(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Bh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ah(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Vh(Gl.prototype,{fb:{name:"applyActionCode",j:[Ph("code")]},Pa:{name:"checkActionCode",j:[Ph("code")]},jb:{name:"confirmPasswordReset",j:[Ph("code"),Ph("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ph("email"),Ph("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ph("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ph("emailLink")]},Fc:{name:"onAuthStateChanged",j:[jh(Oh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[jh(Oh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ph("email"),jh(Oh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ph("email"),Oh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ph("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Mh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Mh()]},Rc:{name:"signInWithCustomToken",j:[Ph("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ph("email"),Ph("password")]},Tc:{name:"signInWithEmailLink",j:[Ph("email"),Ph("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[jh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ul)}},Lh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ph("code")]}}),qh(Gl.prototype,{lc:{name:"languageCode",gb:jh(Ph(),Lh(),"languageCode")},ti:{name:"tenantId",gb:jh(Ph(),Lh(),"tenantId")}}),Gl.Persistence=zu,Gl.Persistence.LOCAL="local",Gl.Persistence.SESSION="session",Gl.Persistence.NONE="none",Vh(ul.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Mh()]},mb:{name:"linkWithCredential",j:[Mh()]},Bc:{name:"linkWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Mh()]},pb:{name:"reauthenticateWithCredential",j:[Mh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[jh(Oh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},ad:{name:"unlink",j:[Ph("provider")]},xb:{name:"updateEmail",j:[Ph("email")]},yb:{name:"updatePassword",j:[Ph("password")]},cd:{name:"updatePhoneNumber",j:[Mh("phone")]},zb:{name:"updateProfile",j:[Oh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ph("email"),jh(Oh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),Vh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qh(Vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Rh("appVerificationDisabledForTesting")}}),Vh(qc.prototype,{confirm:{name:"confirm",j:[Ph("verificationCode")]}}),Bh(no,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[co,To,ko,ao],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[jh(Ph(),Oh(),"json")]),Bh(Io,"credential",(function(t,e){return new Eo(t,e)}),[Ph("email"),Ph("password")]),Vh(Eo.prototype,{v:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(po.prototype,{Aa:{name:"addScope",j:[Ph("scope")]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),Bh(po,"credential",vo,[jh(Ph(),Oh(),"token")]),Bh(Io,"credentialWithLink",So,[Ph("email"),Ph("emailLink")]),Vh(mo.prototype,{Aa:{name:"addScope",j:[Ph("scope")]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),Bh(mo,"credential",yo,[jh(Ph(),Oh(),"token")]),Vh(go.prototype,{Aa:{name:"addScope",j:[Ph("scope")]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),Bh(go,"credential",bo,[jh(Ph(),jh(Oh(),Lh()),"idToken"),jh(Ph(),Lh(),"accessToken",!0)]),Vh(wo.prototype,{Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),Bh(wo,"credential",_o,[jh(Ph(),Oh(),"token"),Ph("secret",!0)]),Vh(fo.prototype,{Aa:{name:"addScope",j:[Ph("scope")]},credential:{name:"credential",j:[jh(Ph(),jh(Oh(),Lh()),"optionsOrIdToken"),jh(Ph(),Lh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),Vh(so.prototype,{v:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(io.prototype,{v:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(xo,"credential",Po,[Ph("verificationId"),Ph("verificationCode")]),Vh(xo.prototype,{cb:{name:"verifyPhoneNumber",j:[jh(Ph(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,eo)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Vh(No.prototype,{v:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(E.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(Vo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(jo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(Gc.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Vh(Wc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Vh(Zc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ph("displayName",!0)]},$c:{name:"unenroll",j:[jh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Uh},Ph(),"multiFactorInfoIdentifier")]}}),Vh(kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(di,"parseLink",Ei,[Ph("link")]),Bh(ph,"assertion",(function(t){return new Xc(t)}),[Mh("phone")]),function(){if(void 0===gn||!gn.INTERNAL||!gn.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Gl,AuthCredential:no,Error:E};Bh(t,"EmailAuthProvider",Io,[]),Bh(t,"FacebookAuthProvider",po,[]),Bh(t,"GithubAuthProvider",mo,[]),Bh(t,"GoogleAuthProvider",go,[]),Bh(t,"TwitterAuthProvider",wo,[]),Bh(t,"OAuthProvider",fo,[Ph("providerId")]),Bh(t,"SAMLAuthProvider",ho,[Ph("providerId")]),Bh(t,"PhoneAuthProvider",xo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Gl)}}]),Bh(t,"RecaptchaVerifier",kh,[jh(Ph(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Oh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof gn.app.App)}}]),Bh(t,"ActionCodeURL",di,[]),Bh(t,"PhoneMultiFactorGenerator",ph,[]),gn.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Gl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),gn.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:g((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:g(t.kc,t),addAuthTokenListener:g(t.bc,t),removeAuthTokenListener:g(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),gn.registerVersion("@firebase/auth","0.14.9"),gn.INTERNAL.extendNamespace({User:ul})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wn,_n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},En=En||{},Tn=_n||self;function In(){}function Sn(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function Cn(t){var e=Sn(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Nn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kn="closure_uid_"+(1e9*Math.random()>>>0),An=0;function xn(t,e,n){return t.call.apply(t.bind,arguments)}function Pn(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Rn(t,e,n){return(Rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xn:Pn).apply(null,arguments)}function On(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var Dn=Date.now||function(){return+new Date};function Ln(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Mn(){this.j=this.j,this.i=this.i}Mn.prototype.j=!1,Mn.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))(function(t){Object.prototype.hasOwnProperty.call(t,kn)&&t[kn]||(t[kn]=++An)})(this)},Mn.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Fn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Un=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function jn(t){return Array.prototype.concat.apply([],arguments)}function Vn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qn(t){return/^[\s\xa0]*$/.test(t)}var Bn,zn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wn(t,e){return-1!=t.indexOf(e)}function Hn(t,e){return t<e?-1:t>e?1:0}t:{var Kn=Tn.navigator;if(Kn){var Gn=Kn.userAgent;if(Gn){Bn=Gn;break t}}Bn=""}function Qn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $n(t){var e={};for(var n in t)e[n]=t[n];return e}var Yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Yn.length;o++)n=Yn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jn(t){return Jn[" "](t),t}Jn[" "]=In;var Zn,tr,er=Wn(Bn,"Opera"),nr=Wn(Bn,"Trident")||Wn(Bn,"MSIE"),rr=Wn(Bn,"Edge"),ir=rr||nr,or=Wn(Bn,"Gecko")&&!(Wn(Bn.toLowerCase(),"webkit")&&!Wn(Bn,"Edge"))&&!(Wn(Bn,"Trident")||Wn(Bn,"MSIE"))&&!Wn(Bn,"Edge"),ar=Wn(Bn.toLowerCase(),"webkit")&&!Wn(Bn,"Edge");function sr(){var t=Tn.document;return t?t.documentMode:void 0}t:{var ur="",cr=(tr=Bn,or?/rv:([^\);]+)(\)|;)/.exec(tr):rr?/Edge\/([\d\.]+)/.exec(tr):nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tr):ar?/WebKit\/(\S+)/.exec(tr):er?/(?:Version)[ \/]?(\S+)/.exec(tr):void 0);if(cr&&(ur=cr?cr[1]:""),nr){var lr=sr();if(null!=lr&&lr>parseFloat(ur)){Zn=String(lr);break t}}Zn=ur}var hr,fr={};function pr(t){return function(t,e){var n=fr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=zn(String(Zn)).split("."),r=zn(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Hn(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Hn(0==a[2].length,0==s[2].length)||Hn(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(Tn.document&&nr){var dr=sr();hr=dr||(parseInt(Zn,10)||void 0)}else hr=void 0;var vr=hr,mr=!nr||9<=Number(vr),yr=nr&&!pr("9"),gr=function(){if(!Tn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Tn.addEventListener("test",In,e),Tn.removeEventListener("test",In,e)}catch(t){}return t}();function br(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wr(t,e){if(br.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(or){t:{try{Jn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_r[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}br.prototype.b=function(){this.defaultPrevented=!0},Ln(wr,br);var _r={2:"touch",3:"pen",4:"mouse"};wr.prototype.b=function(){wr.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,yr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Er="closure_listenable_"+(1e6*Math.random()|0),Tr=0;function Ir(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++Tr,this.V=this.X=!1}function Sr(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function Cr(t){this.src=t,this.a={},this.b=0}function Nr(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Fn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Sr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function kr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}Cr.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=kr(t,e,r,i);return-1<a?(e=t[a],n||(e.X=!1)):((e=new Ir(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var Ar="closure_lm_"+(1e6*Math.random()|0),xr={};function Pr(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=jr(r),e&&e[Er]?e.sa(n,r,Nn(i)?!!i.capture:!!i,o):Rr(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pr(t,e[o],n,r,i);return null}return n=jr(n),t&&t[Er]?t.ra(e,n,Nn(r)?!!r.capture:!!r,i):Rr(t,e,n,!1,r,i)}function Rr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Nn(i)?!!i.capture:!!i;if(a&&!mr)return null;var s=Fr(t);if(s||(t[Ar]=s=new Cr(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Mr,e=mr?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gr||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Dr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Or(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[Er])Nr(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Dr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fr(e))?(Nr(n,t),0==n.b&&(n.src=null,e[Ar]=null)):Sr(t)}}}function Dr(t){return t in xr?xr[t]:xr[t]="on"+t}function Lr(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&Or(t),n.call(r,e)}function Mr(t,e){if(t.V)return!0;if(!mr){if(!e)t:{e=["window","event"];for(var n=Tn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Lr(t,e=new wr(e,this))}return Lr(t,new wr(e,this))}function Fr(t){return(t=t[Ar])instanceof Cr?t:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function jr(t){return"function"==Sn(t)?t:(t[Ur]||(t[Ur]=function(e){return t.handleEvent(e)}),t[Ur])}function Vr(){Mn.call(this),this.c=new Cr(this),this.J=this,this.A=null}function qr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.V&&a.capture==n){var s=a.listener,u=a.aa||a.src;a.X&&Nr(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ln(Vr,Mn),Vr.prototype[Er]=!0,(wn=Vr.prototype).addEventListener=function(t,e,n,r){Pr(this,t,e,n,r)},wn.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Nn(i)?!!i.capture:!!i,r=jr(r),e&&e[Er]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=kr(a=e.a[n],r,i,o))&&(Sr(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--)))):e&&(e=Fr(e))&&(n=e.a[n.toString()],e=-1,n&&(e=kr(n,r,i,o)),(r=-1<e?n[e]:null)&&Or(r))}(this,t,e,n,r)},wn.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new br(t,n);else if(t instanceof br)t.target=t.target||n;else{var i=t;Xn(t=new br(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=qr(a,r,!0,t)&&i}if(i=qr(a=t.a=n,r,!0,t)&&i,i=qr(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=qr(a=t.a=e[o],r,!1,t)&&i;return i},wn.C=function(){if(Vr.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Sr(n[r]);delete e.a[t],e.b--}}this.A=null},wn.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},wn.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Br=Tn.JSON.stringify;function zr(){this.b=this.a=null}var Wr,Hr=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Gr}),(function(t){t.reset()}),100);function Kr(){var t=Xr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Gr(){this.next=this.b=this.a=null}function Qr(t){Tn.setTimeout((function(){throw t}),0)}function $r(t,e){Wr||function(){var t=Tn.Promise.resolve(void 0);Wr=function(){t.then(Jr)}}(),Yr||(Wr(),Yr=!0),Xr.add(t,e)}zr.prototype.add=function(t,e){var n=Hr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Gr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Gr.prototype.reset=function(){this.next=this.b=this.a=null};var Yr=!1,Xr=new zr;function Jr(){for(var t;t=Kr();){try{t.a.call(t.b)}catch(t){Qr(t)}var e=Hr;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Yr=!1}function Zr(t,e){Vr.call(this),this.b=t||1,this.a=e||Tn,this.f=Rn(this.Ua,this),this.g=Dn()}function ti(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function ei(t,e,n){if("function"==Sn(t))n&&(t=Rn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Rn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Tn.setTimeout(t,e||0)}function ni(t,e,n){Mn.call(this),this.f=null!=n?Rn(t,n):t,this.c=e,this.b=Rn(this.Pa,this),this.a=[]}function ri(t){t.T=ei(t.b,t.c),t.f.apply(null,t.a)}function ii(t){Mn.call(this),this.b=t,this.a={}}Ln(Zr,Vr),(wn=Zr.prototype).Z=!1,wn.L=null,wn.Ua=function(){if(this.Z){var t=Dn()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(ti(this),this.start()))}},wn.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=Dn())},wn.C=function(){Zr.M.C.call(this),ti(this),delete this.a},Ln(ni,Mn),(wn=ni.prototype).ba=!1,wn.T=null,wn.Ia=function(t){this.a=arguments,this.T?this.ba=!0:ri(this)},wn.C=function(){ni.M.C.call(this),this.T&&(Tn.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},wn.Pa=function(){this.T=null,this.ba&&(this.ba=!1,ri(this))},Ln(ii,Mn);var oi=[];function ai(t,e,n,r){Array.isArray(n)||(n&&(oi[0]=n.toString()),n=oi);for(var i=0;i<n.length;i++){var o=Pr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function si(t){Qn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Or(t)}),t),t.a={}}function ui(){}ii.prototype.C=function(){ii.M.C.call(this),si(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=null;function li(){return ci=ci||new Vr}function hi(t){br.call(this,"serverreachability",t)}function fi(t){var e=li();e.dispatchEvent(new hi(e,t))}function pi(t){br.call(this,"statevent",t)}function di(t){var e=li();e.dispatchEvent(new pi(e,t))}function vi(t){br.call(this,"timingevent",t)}function mi(t,e){if("function"!=Sn(t))throw Error("Fn must not be null and must be a function");return Tn.setTimeout((function(){t()}),e)}Ln(hi,br),Ln(pi,br),Ln(vi,br);var yi={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},gi={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function bi(){}function wi(t){var e;return(e=t.a)||(e=t.a={}),e}function _i(){}bi.prototype.a=null;var Ei,Ti={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function Ii(){br.call(this,"d")}function Si(){br.call(this,"c")}function Ci(){}function Ni(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new ii(this),this.N=ki,t=ir?125:void 0,this.O=new Zr(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}Ln(Ii,br),Ln(Si,br),Ln(Ci,bi),Ei=new Ci;var ki=45e3,Ai={},xi={};function Pi(t,e,n){t.B=1,t.f=Zi(Gi(e)),t.j=n,t.F=!0,Ri(t,null)}function Ri(t,e){t.s=Dn(),Li(t),t.A=Gi(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),fo(n.b,"t",r),t.w=0,t.a=ia(t.g,t.g.w?e:null),0<t.J&&(t.D=new ni(Rn(t.ya,t,t.a),t.J)),ai(t.G,t.a,"readystatechange",t.Sa),e=t.m?$n(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),fi(1)}function Oi(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=Di(t,n);if(i==xi){4==e&&(t.c=4,di(14),r=!1);break}if(i==Ai){t.c=4,di(15),r=!1;break}Vi(t,i)}4==e&&0==n.length&&(t.c=1,di(16),r=!1),t.b=t.b&&r,r||(ji(t),Ui(t))}function Di(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?xi:(n=Number(e.substring(n,r)),isNaN(n)?Ai:(r+=1)+n>e.length?xi:(e=e.substr(r,n),t.w=r+n,e))}function Li(t){t.P=Dn()+t.N,Mi(t,t.N)}function Mi(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=mi(Rn(t.Qa,t),e)}function Fi(t){t.h&&(Tn.clearTimeout(t.h),t.h=null)}function Ui(t){0==t.g.u||t.l||Zo(t.g,t)}function ji(t){Fi(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,ti(t.O),si(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function Vi(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||wo(n.b,t)))if(n.A=t.H,!t.o&&wo(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Jo(n),n.a.cancel(),n.a=null}Xo(n),di(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=mi(Rn(n.Na,n),6e3));if(1>=bo(n.b)&&n.O){try{n.O()}catch(t){}n.O=void 0}}else ea(n,11)}else if((t.o||n.a==t)&&Jo(n),!qn(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var a=i[5];null!=a&&"number"==typeof a&&0<a&&(n.D=1.5*a);var s=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=s.b;!l.a&&(Wn(c,"spdy")||Wn(c,"quic")||Wn(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(_o(l,l.b),l.b=null))}if(s.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.ha=h,Ji(s.v,s.s,h))}}n.u=3,n.c&&n.c.na();var f=t;if((s=n).ea=ra(s,s.w?s.R:null,s.P),f.o){Eo(s.b,f);var p=f,d=s.D;d&&p.setTimeout(d),p.h&&(Fi(p),Li(p)),s.a=f}else Yo(s);0<n.f.length&&Ko(n)}else"stop"!=i[0]&&"close"!=i[0]||ea(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ea(n,7):zo(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);fi(4)}catch(t){}}function qi(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cn(t)||"string"==typeof t)Un(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(Cn(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(Cn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Bi(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bi)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wi(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Wi(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Wi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(wn=Ni.prototype).setTimeout=function(t){this.N=t},wn.Sa=function(t){t=t.target;var e=this.D;e&&3==jo(t)?e.Ia():this.ya(t)},wn.ya=function(t){try{if(t==this.a)t:{var e=jo(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!ir&&!this.a.Y())){this.l||4!=e||7==n||fi(8==n||0>=r?3:2),Fi(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qn(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.c=3,di(12),ji(this),Ui(this);break t}this.o=!0,Vi(this,u)}this.F?(Oi(this,e,o),ir&&this.b&&3==e&&(ai(this.G,this.O,"tick",this.Ra),this.O.start())):Vi(this,o),4==e&&ji(this),this.b&&!this.l&&(4==e?Zo(this.g,this):(this.b=!1,Li(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,di(12)):(this.c=0,di(13)),ji(this),Ui(this)}}}catch(t){}},wn.Ra=function(){if(this.a){var t=jo(this.a),e=this.a.Y();this.w<e.length&&(Fi(this),Oi(this,t,e),this.b&&4!=t&&Li(this))}},wn.cancel=function(){this.l=!0,ji(this)},wn.Qa=function(){this.h=null;var t=Dn();0<=t-this.P?(2!=this.B&&(fi(3),di(17)),ji(this),this.c=2,Ui(this)):Mi(this,this.P-t)},(wn=Bi.prototype).I=function(){zi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},wn.K=function(){return zi(this),this.a.concat()},wn.get=function(t,e){return Wi(this.b,t)?this.b[t]:e},wn.set=function(t,e){Wi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},wn.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Hi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ki(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ki){this.a=void 0!==e?e:t.a,Qi(this,t.f),this.j=t.j,$i(this,t.c),Yi(this,t.h),this.g=t.g,e=t.b;var n=new uo;n.c=e.c,e.a&&(n.a=new Bi(e.a),n.b=e.b),Xi(this,n),this.i=t.i}else t&&(n=String(t).match(Hi))?(this.a=!!e,Qi(this,n[1]||"",!0),this.j=to(n[2]||""),$i(this,n[3]||"",!0),Yi(this,n[4]),this.g=to(n[5]||"",!0),Xi(this,n[6]||"",!0),this.i=to(n[7]||"")):(this.a=!!e,this.b=new uo(null,this.a))}function Gi(t){return new Ki(t)}function Qi(t,e,n){t.f=n?to(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $i(t,e,n){t.c=n?to(e,!0):e}function Yi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xi(t,e,n){e instanceof uo?(t.b=e,function(t,e){e&&!t.f&&(co(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(lo(this,e),fo(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=eo(e,ao)),t.b=new uo(e,t.a))}function Ji(t,e,n){t.b.set(e,n)}function Zi(t){return Ji(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Dn()).toString(36)),t}function to(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eo(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,no),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function no(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ki.prototype.toString=function(){var t=[],e=this.f;e&&t.push(eo(e,ro,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(eo(e,ro,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(eo(n,"/"==n.charAt(0)?oo:io,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",eo(n,so)),t.join("")};var ro=/[#\/\?@]/g,io=/[#\?:]/g,oo=/[#\?]/g,ao=/[#\?@]/g,so=/#/g;function uo(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function co(t){t.a||(t.a=new Bi,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lo(t,e){co(t),e=po(t,e),Wi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Wi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zi(t)))}function ho(t,e){return co(t),e=po(t,e),Wi(t.a.b,e)}function fo(t,e,n){lo(t,e),0<n.length&&(t.c=null,t.a.set(po(t,e),Vn(n)),t.b+=n.length)}function po(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function vo(t,e){this.b=t,this.a=e}function mo(t){this.g=t||yo,Tn.PerformanceNavigationTiming?t=0<(t=Tn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Tn.ca&&Tn.ca.ua&&Tn.ca.ua()&&Tn.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(wn=uo.prototype).add=function(t,e){co(this),this.c=null,t=po(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},wn.forEach=function(t,e){co(this),this.a.forEach((function(n,r){Un(n,(function(n){t.call(e,n,r,this)}),this)}),this)},wn.K=function(){co(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},wn.I=function(t){co(this);var e=[];if("string"==typeof t)ho(this,t)&&(e=jn(e,this.a.get(po(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=jn(e,t[n])}return e},wn.set=function(t,e){return co(this),this.c=null,ho(this,t=po(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},wn.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},wn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var yo=10;function go(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bo(t){return t.b?1:t.a?t.a.size:0}function wo(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _o(t,e){t.a?t.a.add(e):t.b=e}function Eo(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function To(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=bn(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Vn(t.c)}function Io(){}function So(){this.a=new Io}function Co(t,e,n){var r=n||"";try{qi(t,(function(t,n){var i=t;Nn(t)&&(i=Br(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function No(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}mo.prototype.cancel=function(){var t,e;if(this.c=To(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bn(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Io.prototype.stringify=function(t){return Tn.JSON.stringify(t,void 0)},Io.prototype.parse=function(t){return Tn.JSON.parse(t,void 0)};var ko=Tn.JSON.parse;function Ao(t){Vr.call(this),this.headers=new Bi,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=xo,this.B=this.F=!1}Ln(Ao,Vr);var xo="",Po=/^https?$/i,Ro=["POST","PUT"];function Oo(t){return"content-type"==t.toLowerCase()}function Do(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Lo(t),Fo(t)}function Lo(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Mo(t){if(t.b&&void 0!==En&&(!t.s[1]||4!=jo(t)||2!=t.S()))if(t.l&&4==jo(t))ei(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==jo(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Hi)[1]||null;if(!o&&Tn.self&&Tn.self.location){var a=Tn.self.location.protocol;o=a.substr(0,a.length-1)}i=!Po.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<jo(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.S()+"]",Lo(t)}}finally{Fo(t)}}}function Fo(t,e){if(t.a){Uo(t);var n=t.a,r=t.s[0]?In:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Uo(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(Tn.clearTimeout(t.m),t.m=null)}function jo(t){return t.a?t.a.readyState:0}function Vo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ji(t,e,n))}function qo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bo(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=qo("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=qo("baseRetryDelayMs",5e3,t),this.Ga=qo("retryDelaySeedMs",1e4,t),this.Da=qo("forwardChannelMaxRetries",2,t),this.ga=qo("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new mo(t&&t.concurrentRequestLimit),this.ja=new So,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function zo(t){if(Wo(t),3==t.u){var e=t.H++,n=Gi(t.v);Ji(n,"SID",t.B),Ji(n,"RID",e),Ji(n,"TYPE","terminate"),Qo(t,n),(e=new Ni(t,e,void 0)).B=2,e.f=Zi(Gi(n)),n=!1,Tn.navigator&&Tn.navigator.sendBeacon&&(n=Tn.navigator.sendBeacon(e.f.toString(),"")),!n&&Tn.Image&&((new Image).src=e.f,n=!0),n||(e.a=ia(e.g,null),e.a.$(e.f)),e.s=Dn(),Li(e)}na(t)}function Wo(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(Tn.clearTimeout(t.i),t.i=null),Jo(t),t.b.cancel(),t.g&&("number"==typeof t.g&&Tn.clearTimeout(t.g),t.g=null)}function Ho(t,e){t.f.push(new vo(t.Fa++,e)),3==t.u&&Ko(t)}function Ko(t){go(t.b)||t.g||(t.g=!0,$r(t.xa,t),t.o=0)}function Go(t,e){var n;n=e?e.W:t.H++;var r=Gi(t.v);Ji(r,"SID",t.B),Ji(r,"RID",n),Ji(r,"AID",t.G),Qo(t,r),t.h&&t.j&&Vo(r,t.h,t.j),n=new Ni(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=$o(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),_o(t.b,n),Pi(n,r,e)}function Qo(t,e){t.c&&qi({},(function(t,n){Ji(e,n,t)}))}function $o(t,e,n){n=Math.min(t.f.length,n);var r=t.c?Rn(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Co(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Yo(t){t.a||t.i||(t.J=1,$r(t.wa,t),t.m=0)}function Xo(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=mi(Rn(t.wa,t),ta(t,t.m)),t.m++,!0)}function Jo(t){null!=t.l&&(Tn.clearTimeout(t.l),t.l=null)}function Zo(t,e){var n=null;if(t.a==e){Jo(t),t.a=null;var r=2}else{if(!wo(t.b,e))return;n=e.i,Eo(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Dn()-e.s;var i=t.o;(r=li()).dispatchEvent(new vi(r,n,e,i)),Ko(t)}else Yo(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(bo(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=e.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=mi(Rn(t.xa,t,e),ta(t,t.o)),t.o++,!0))}(t,e)||2==r&&Xo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ea(t,5);break;case 4:ea(t,10);break;case 3:ea(t,6);break;default:ea(t,2)}}function ta(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function ea(t,e){if(2==e){var n=null;t.c&&(n=null);var r=Rn(t.Ta,t);n||(n=new Ki("//www.google.com/images/cleardot.gif"),Tn.location&&"http"==Tn.location.protocol||Qi(n,"https"),Zi(n)),function(t,e){var n=new ui;if(Tn.Image){var r=new Image;r.onload=On(No,n,r,"TestLoadImage: loaded",!0,e),r.onerror=On(No,n,r,"TestLoadImage: error",!1,e),r.onabort=On(No,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=On(No,n,r,"TestLoadImage: timeout",!1,e),Tn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else di(2);t.u=0,t.c&&t.c.la(e),na(t),Wo(t)}function na(t){t.u=0,t.A=-1,t.c&&(0==To(t.b).length&&0==t.f.length||(t.b.c.length=0,Vn(t.f),t.f.length=0),t.c.ka())}function ra(t,e,n){var r=function(t){return t instanceof Ki?Gi(t):new Ki(t,void 0)}(n);if(""!=r.c)e&&$i(r,e+"."+r.c),Yi(r,r.h);else{var i=Tn.location;r=function(t,e,n,r){var i=new Ki(null,void 0);return t&&Qi(i,t),e&&$i(i,e),n&&Yi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&Qn(t.N,(function(t,e){Ji(r,e,t)})),e=t.s,n=t.ha,e&&n&&Ji(r,e,n),Ji(r,"VER",t.oa),Qo(t,r),r}function ia(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ao(t.Ea)).F=t.w,e}function oa(){}function aa(){if(nr&&!(10<=Number(vr)))throw Error("Environmental error: no available transport.")}function sa(t,e){Vr.call(this),this.a=new Bo(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!qn(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qn(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new la(this)}function ua(t){Ii.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ca(){Si.call(this),this.status=1}function la(t){this.a=t}(wn=Ao.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?wi(this.G):wi(Ei),this.a.onreadystatechange=Rn(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Do(this,t)}t=n||"";var i=new Bi(this.headers);r&&qi(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Oo,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=Tn.FormData&&t instanceof Tn.FormData,!(0<=Fn(Ro,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Uo(this),0<this.o&&((this.B=function(t){return nr&&pr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Rn(this.ta,this)):this.m=ei(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Do(this,t)}},wn.ta=function(){void 0!==En&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},wn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fo(this))},wn.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fo(this,!0)),Ao.M.C.call(this)},wn.va=function(){this.j||(this.w||this.l||this.g?Mo(this):this.Oa())},wn.Oa=function(){Mo(this)},wn.S=function(){try{return 2<jo(this)?this.a.status:-1}catch(t){return-1}},wn.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},wn.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ko(e)}},wn.qa=function(){return this.h},wn.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(wn=Bo.prototype).oa=8,wn.u=1,wn.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new Ni(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?Xn(r=$n(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$o(this,n,e),Ji(i=Gi(this.v),"RID",t),Ji(i,"CVER",22),this.s&&Ji(i,"X-HTTP-Session-Id",this.s),Qo(this,i),this.h&&r&&Vo(i,this.h,r),_o(this.b,n),this.fa?(Ji(i,"$req",e),Ji(i,"SID","null"),n.R=!0,Pi(n,i,null)):Pi(n,i,e),this.u=2}}else 3==this.u&&(t?Go(this,t):0==this.f.length||go(this.b)||Go(this))},wn.wa=function(){this.i=null,this.a=new Ni(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Gi(this.ea);Ji(t,"RID","rpc"),Ji(t,"SID",this.B),Ji(t,"CI",this.U?"0":"1"),Ji(t,"AID",this.G),Qo(this,t),Ji(t,"TYPE","xmlhttp"),this.h&&this.j&&Vo(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Zi(Gi(t)),e.j=null,e.F=!0,Ri(e,n)},wn.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Xo(this),di(19))},wn.Ta=function(t){di(t?2:1)},(wn=oa.prototype).na=function(){},wn.ma=function(){},wn.la=function(){},wn.ka=function(){},wn.Ha=function(){},aa.prototype.a=function(t,e){return new sa(t,e)},Ln(sa,Vr),(wn=sa.prototype).addEventListener=function(t,e,n,r){sa.M.addEventListener.call(this,t,e,n,r)},wn.removeEventListener=function(t,e,n,r){sa.M.removeEventListener.call(this,t,e,n,r)},wn.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;di(0),t.P=e,t.N=n||{},t.U=t.W,t.v=ra(t,null,t.P),Ko(t)},wn.close=function(){zo(this.a)},wn.La=function(t){if("string"==typeof t){var e={};e.__data__=t,Ho(this.a,e)}else this.g?((e={}).__data__=Br(t),Ho(this.a,e)):Ho(this.a,t)},wn.C=function(){this.a.c=null,delete this.f,zo(this.a),delete this.a,sa.M.C.call(this)},Ln(ua,Ii),Ln(ca,Si),Ln(la,oa),la.prototype.na=function(){this.a.dispatchEvent("a")},la.prototype.ma=function(t){this.a.dispatchEvent(new ua(t))},la.prototype.la=function(t){this.a.dispatchEvent(new ca(t))},la.prototype.ka=function(){this.a.dispatchEvent("b")},aa.prototype.createWebChannel=aa.prototype.a,sa.prototype.send=sa.prototype.La,sa.prototype.open=sa.prototype.Ka,sa.prototype.close=sa.prototype.close,yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,gi.COMPLETE="complete",_i.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Vr.prototype.listen=Vr.prototype.ra,Ao.prototype.listenOnce=Ao.prototype.sa,Ao.prototype.getLastError=Ao.prototype.Ma,Ao.prototype.getLastErrorCode=Ao.prototype.qa,Ao.prototype.getStatus=Ao.prototype.S,Ao.prototype.getResponseJson=Ao.prototype.Ja,Ao.prototype.getResponseText=Ao.prototype.Y,Ao.prototype.send=Ao.prototype.$;var ha={createWebChannelTransport:function(){return new aa},ErrorCode:yi,EventType:gi,WebChannel:_i,XhrIo:Ao},fa=ha.createWebChannelTransport,pa=ha.ErrorCode,da=ha.EventType,va=ha.WebChannel,ma=ha.XhrIo,ya=gn.SDK_VERSION,ga=new on("@firebase/firestore");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ba(){return ga.logLevel}function wa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ga.logLevel<=Xe.DEBUG){var r=e.map(Ea);ga.debug.apply(ga,le(["Firestore ("+ya+"): "+t],r))}}function _a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ga.logLevel<=Xe.ERROR){var r=e.map(Ea);ga.error.apply(ga,le(["Firestore ("+ya+"): "+t],r))}}function Ea(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+ya+") INTERNAL ASSERTION FAILED: "+t;throw _a(e),new Error(e)}function Ia(t,e){t||Ta()}function Sa(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ca(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ka(t,e){return t<e?-1:t>e?1:0}function Aa(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function xa(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ra=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return ka(this.projectId,t.projectId)||ka(this.database,t.database)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function La(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ma=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.u(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Da(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype._=function(){return La(this.l)},t}(),Fa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ua=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return re(e,t),e}(Error),ja=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ua(Fa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ua(Fa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ua(Fa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ua(Fa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?ka(this.nanoseconds,t.nanoseconds):ka(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Va=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new ja(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),qa=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ta(),void 0===n?n=t.length-e:n>t.length-e&&Ta(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.N=function(){return this.F().join("/")},e.prototype.toString=function(){return this.N()},e.$=function(t){if(t.indexOf("//")>=0)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.k=function(){return new e([])},e}(qa),za=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return za.test(t)},e.prototype.N=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.N()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.B=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ua(Fa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ua(Fa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ua(Fa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.k=function(){return new e([])},e}(qa),Ha=function(){function t(t){this.path=t}return t.q=function(e){return new t(Ba.$(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ba.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return Ba.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new Ba(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){return null==t}function Ga(t){return-0===t&&1/t==-1/0}function Qa(t){return"number"==typeof t&&Number.isInteger(t)&&!Ga(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $a=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.K=null};function Ya(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new $a(t,e,n,r,i,o,a)}function Xa(t){var e=Sa(t);if(null===e.K){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.N()+t.op.toString()+Bs(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.N()+e.dir;var e})).join(","),Ka(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Cc(e.startAt)),e.endAt&&(n+="|ub:",n+=Cc(e.endAt)),e.K=n}return e.K}function Ja(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Pc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],!(i instanceof bc&&o instanceof bc&&i.op===o.op&&i.field.isEqual(o.field)&&Us(i.value,o.value)))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kc(t.startAt,e.startAt)&&kc(t.endAt,e.endAt)}function Za(t){return Ha.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.G,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return ka(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();ts.Y=new ts("");var es,ns,rs=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Va.min()),void 0===o&&(o=Va.min()),void 0===a&&(a=ts.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),is=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t){switch(t){case Fa.OK:return Ta();case Fa.CANCELLED:case Fa.UNKNOWN:case Fa.DEADLINE_EXCEEDED:case Fa.RESOURCE_EXHAUSTED:case Fa.INTERNAL:case Fa.UNAVAILABLE:case Fa.UNAUTHENTICATED:return!1;case Fa.INVALID_ARGUMENT:case Fa.NOT_FOUND:case Fa.ALREADY_EXISTS:case Fa.PERMISSION_DENIED:case Fa.FAILED_PRECONDITION:case Fa.ABORTED:case Fa.OUT_OF_RANGE:case Fa.UNIMPLEMENTED:case Fa.DATA_LOSS:return!0;default:return Ta()}}function as(t){if(void 0===t)return _a("GRPC error has no .code"),Fa.UNKNOWN;switch(t){case es.OK:return Fa.OK;case es.CANCELLED:return Fa.CANCELLED;case es.UNKNOWN:return Fa.UNKNOWN;case es.DEADLINE_EXCEEDED:return Fa.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return Fa.RESOURCE_EXHAUSTED;case es.INTERNAL:return Fa.INTERNAL;case es.UNAVAILABLE:return Fa.UNAVAILABLE;case es.UNAUTHENTICATED:return Fa.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return Fa.INVALID_ARGUMENT;case es.NOT_FOUND:return Fa.NOT_FOUND;case es.ALREADY_EXISTS:return Fa.ALREADY_EXISTS;case es.PERMISSION_DENIED:return Fa.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return Fa.FAILED_PRECONDITION;case es.ABORTED:return Fa.ABORTED;case es.OUT_OF_RANGE:return Fa.OUT_OF_RANGE;case es.UNIMPLEMENTED:return Fa.UNIMPLEMENTED;case es.DATA_LOSS:return Fa.DATA_LOSS;default:return Ta()}}(ns=es||(es={}))[ns.OK=0]="OK",ns[ns.CANCELLED=1]="CANCELLED",ns[ns.UNKNOWN=2]="UNKNOWN",ns[ns.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ns[ns.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ns[ns.NOT_FOUND=5]="NOT_FOUND",ns[ns.ALREADY_EXISTS=6]="ALREADY_EXISTS",ns[ns.PERMISSION_DENIED=7]="PERMISSION_DENIED",ns[ns.UNAUTHENTICATED=16]="UNAUTHENTICATED",ns[ns.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ns[ns.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ns[ns.ABORTED=10]="ABORTED",ns[ns.OUT_OF_RANGE=11]="OUT_OF_RANGE",ns[ns.UNIMPLEMENTED=12]="UNIMPLEMENTED",ns[ns.INTERNAL=13]="INTERNAL",ns[ns.UNAVAILABLE=14]="UNAVAILABLE",ns[ns.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ss=function(){function t(t,e){this.P=t,this.root=e||cs.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,cs.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,cs.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new us(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new us(this.root,t,this.P,!1)},t.prototype.ct=function(){return new us(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new us(this.root,t,this.P,!0)},t}(),us=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),cs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},t.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw Ta();if(this.right.At())throw Ta();var t=this.left.bt();if(t!==this.right.bt())throw Ta();return t+(this.At()?0:1)},t}();cs.EMPTY=null,cs.RED=!0,cs.st=!1,cs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ta()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ta()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ta()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ta()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ta()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new cs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ls=function(){function t(t){this.P=t,this.data=new ss(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new hs(this.data.at())},t.prototype.ut=function(t){return new hs(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),hs=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),fs=new ss(Ha.P);function ps(){return fs}function ds(){return ps()}var vs=new ss(Ha.P);function ms(){return vs}var ys=new ss(Ha.P),gs=new ls(Ha.P);function bs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gs,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ws=new ls(ka);function _s(){return ws}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es=function(){function t(t){this.P=t?function(e,n){return t(e,n)||Ha.P(e.key,n.key)}:function(t,e){return Ha.P(t.key,e.key)},this.Nt=ms(),this.$t=new ss(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Nt.get(t)},t.prototype.get=function(t){return this.Nt.get(t)},t.prototype.first=function(){return this.$t.it()},t.prototype.last=function(){return this.$t.rt()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Nt.nt(t.key,t),e.$t.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Nt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.at(),r=e.$t.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.Nt=e,r.$t=n,r},t}(),Ts=function(){function t(){this.xt=new ss(Ha.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.nt(e,t):3===t.type&&1!==n.type?this.xt=this.xt.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):Ta():this.xt=this.xt.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},t}(),Is=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.Bt=a,this.qt=s}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Es.kt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Lt.isEqual(t.Lt)&&dc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ss=function(){function t(t,e,n,r,i){this.X=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,Cs.zt(e,n)),new t(Va.min(),r,_s(),ps(),bs())},t}(),Cs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(ts.Y,n,bs(),bs(),bs())},t}(),Ns=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},ks=function(t,e){this.targetId=t,this.ee=e},As=function(t,e,n,r){void 0===n&&(n=ts.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},xs=function(){function t(){this.ne=0,this.se=Os(),this.ie=ts.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=bs(),e=bs(),n=bs();return this.se.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ta()}})),new Cs(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=Os()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Ps=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=ps(),this.Ae=Rs(),this.Re=new ls(ka)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof lc?this.Ve(r,t.te):t.te instanceof hc&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.ge(a,t.key,t.te)}},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:Ta()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(Za(i))if(0===n){var o=new Ha(i.path);this.ge(e,o,new hc(o,Va.min()))}else Ia(1===n);else this.Fe(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.Ne=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&Za(o.target)){var a=new Ha(o.target.path);null!==e.me.get(a)||e.$e(i,a)||e.ge(i,a,new hc(a,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=bs();this.Ae.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ss(t,n,this.Re,this.me,r);return this.me=ps(),this.Ae=Rs(),this.Re=new ls(ka),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new xs,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new ls(ka),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||wa("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new xs),this.Ee.xe(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(){return new ss(Ha.P)}function Os(){return new ss(Ha.P)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ls(t){var e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new ja(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ds(t)?4:10:Ta()}function Us(t,e){var n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ls(t).isEqual(Ls(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zs(t.timestampValue),r=zs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Hs(t.bytesValue).isEqual(Hs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ws(t.geoPointValue.latitude)===Ws(e.geoPointValue.latitude)&&Ws(t.geoPointValue.longitude)===Ws(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ws(t.integerValue)===Ws(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ws(t.doubleValue),r=Ws(e.doubleValue);return n===r?Ga(n)===Ga(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Aa(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Oa(n)!==Oa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Us(n[i],r[i])))return!1;return!0}(t,e);default:return Ta()}}function js(t,e){return void 0!==(t.values||[]).find((function(t){return Us(t,e)}))}function Vs(t,e){var n=Fs(t),r=Fs(e);if(n!==r)return ka(n,r);switch(n){case 0:return 0;case 1:return ka(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ws(t.integerValue||t.doubleValue),r=Ws(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return qs(t.timestampValue,e.timestampValue);case 4:return qs(Ls(t),Ls(e));case 5:return ka(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Hs(t),r=Hs(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ka(n[i],r[i]);if(0!==o)return o}return ka(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ka(Ws(t.latitude),Ws(e.latitude));return 0!==n?n:ka(Ws(t.longitude),Ws(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Vs(n[i],r[i]);if(o)return o}return ka(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ka(r[a],o[a]);if(0!==s)return s;var u=Vs(n[r[a]],i[o[a]]);if(0!==u)return u}return ka(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ta()}}function qs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ka(t,e);var n=zs(t),r=zs(e),i=ka(n.seconds,r.seconds);return 0!==i?i:ka(n.nanos,r.nanos)}function Bs(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=zs(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hs(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,Ha.q(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=t(a)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Ta();var n,r}(t)}function zs(t){if(Ia(!!t),"string"==typeof t){var e=0,n=Ms.exec(t);if(Ia(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ws(t.seconds),nanos:Ws(t.nanos)}}function Ws(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Hs(t){return"string"==typeof t?ts.fromBase64String(t):ts.fromUint8Array(t)}function Ks(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function Gs(t){return!!t&&"integerValue"in t}function Qs(t){return!!t&&"arrayValue"in t}function $s(t){return!!t&&"nullValue"in t}function Ys(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xs(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js={asc:"ASCENDING",desc:"DESCENDING"},Zs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tu=function(t,e){this.s=t,this.Oe=e};function eu(t){return{integerValue:""+t}}function nu(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(e)?"-0":e}}function ru(t,e){return Qa(e)?eu(e):nu(t,e)}function iu(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ou(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function au(t,e){return iu(t,e.A())}function su(t){return Ia(!!t),Va.I(function(t){var e=zs(t);return new ja(e.seconds,e.nanos)}(t))}function uu(t,e){return function(t){return new Ba(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).N()}function cu(t){var e=Ba.$(t);return Ia(ku(e)),e}function lu(t,e){return uu(t.s,e.path)}function hu(t,e){var n=cu(e);return Ia(n.get(1)===t.s.projectId),Ia(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new Ha(vu(n))}function fu(t,e){return uu(t.s,e)}function pu(t){var e=cu(t);return 4===e.length?Ba.k():vu(e)}function du(t){return new Ba(["projects",t.s.projectId,"databases",t.s.database]).N()}function vu(t){return Ia(t.length>4&&"documents"===t.get(4)),t.g(5)}function mu(t,e,n){return{name:lu(t,e),fields:n.proto.mapValue.fields}}function yu(t,e){var n;if(e instanceof Ju)n={update:mu(t,e.key,e.value)};else if(e instanceof ic)n={delete:lu(t,e.key)};else if(e instanceof Zu)n={update:mu(t,e.key,e.data),updateMask:Nu(e.Le)};else if(e instanceof ec)n={transform:{document:lu(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ou)return{fieldPath:e.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof Du)return{fieldPath:e.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof Mu)return{fieldPath:e.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof Uu)return{fieldPath:e.field.N(),increment:n.Be};throw Ta()}(0,t)}))}};else{if(!(e instanceof oc))return Ta();n={verify:lu(t,e.key)}}return e.Ue.qe||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:au(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ta()}(t,e.Ue)),n}function gu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Wu.updateTime(su(t.updateTime)):void 0!==t.exists?Wu.exists(t.exists):Wu.Qe()}(e.currentDocument):Wu.Qe();if(e.update){e.update.name;var r=hu(t,e.update.name),i=new ac({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new qu(e.map((function(t){return Wa.B(t)})))}(e.updateMask);return new Zu(r,i,o,n)}return new Ju(r,i,n)}if(e.delete){var a=hu(t,e.delete);return new ic(a,n)}if(e.transform){var s=hu(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Ia("REQUEST_TIME"===e.setToServerValue),n=new Ou;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Du(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Mu(i)}else"increment"in e?n=new Uu(t,e.increment):Ta();var o=Wa.B(e.fieldPath);return new Bu(o,n)}(t,e)}));return Ia(!0===n.exists),new ec(s,u)}if(e.verify){var c=hu(t,e.verify);return new oc(c,n)}return Ta()}function bu(t,e){return{documents:[fu(t,e.path)]}}function wu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fu(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof bc?function(t){if("=="===t.op){if(Ys(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NAN"}};if($s(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:Tu(t.field),op:(e=t.op,Zs[e]),value:t.value}};var e}(t):Ta()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Tu((e=t).field),direction:(n=e.dir,Js[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Oe||Ka(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=_u(e.startAt)),e.endAt&&(n.structuredQuery.endAt=_u(e.endAt)),n}function _u(t){return{before:t.before,values:t.position}}function Eu(t){var e=!!t.before,n=t.values||[];return new Sc(n,e)}function Tu(t){return{fieldPath:t.N()}}function Iu(t){return Wa.B(t.fieldPath)}function Su(t){return bc.create(Iu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ta()}}(t.fieldFilter.op),t.fieldFilter.value)}function Cu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Iu(t.unaryFilter.field);return bc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Iu(t.unaryFilter.field);return bc.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ta()}}function Nu(t){var e=[];return t.fields.forEach((function(t){return e.push(t.N())})),{fieldPaths:e}}function ku(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Au=function(){this.je=void 0};function xu(t,e,n){return t instanceof Ou?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Du?Lu(t,e):t instanceof Mu?Fu(t,e):function(t,e){var n=Ru(t,e),r=ju(n)+ju(t.Be);return Gs(n)&&Gs(t.Be)?eu(r):nu(t.serializer,r)}(t,e)}function Pu(t,e,n){return t instanceof Du?Lu(t,e):t instanceof Mu?Fu(t,e):n}function Ru(t,e){return t instanceof Uu?Gs(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e}(Au),Du=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return re(e,t),e}(Au);function Lu(t,e){for(var n=Vu(e),r=function(t){n.some((function(e){return Us(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Mu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return re(e,t),e}(Au);function Fu(t,e){for(var n=Vu(e),r=function(t){n=n.filter((function(e){return!Us(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Uu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Be=n,r}return re(e,t),e}(Au);function ju(t){return Ws(t.integerValue||t.doubleValue)}function Vu(t){return Qs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qu=function(){function t(t){this.fields=t,t.sort(Wa.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return Aa(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Bu=function(t,e){this.field=t,this.transform=e},zu=function(t,e){this.version=t,this.transformResults=e},Wu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Hu(t,e){return void 0!==t.updateTime?e instanceof lc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof lc}var Ku=function(){};function Gu(t,e,n){return t instanceof Ju?function(t,e,n){return new lc(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Zu?function(t,e,n){if(!Hu(t.Ue,e))return new fc(t.key,n.version);var r=tc(t,e);return new lc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ec?function(t,e,n){if(Ia(null!=n.transformResults),!Hu(t.Ue,e))return new fc(t.key,n.version);var r=nc(t,e),i=function(t,e,n){var r=[];Ia(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof lc&&(s=e.field(o.field)),r.push(Pu(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=rc(t,r.data(),i);return new lc(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new hc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Qu(t,e,n,r){return t instanceof Ju?function(t,e){if(!Hu(t.Ue,e))return e;var n=Xu(e);return new lc(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof Zu?function(t,e){if(!Hu(t.Ue,e))return e;var n=Xu(e),r=tc(t,e);return new lc(t.key,n,r,{Ge:!0})}(t,e):t instanceof ec?function(t,e,n,r){if(!Hu(t.Ue,e))return e;var i=nc(t,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof lc&&(c=n.field(s.field)),null===c&&r instanceof lc&&(c=r.field(s.field)),i.push(xu(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=rc(t,i.data(),o);return new lc(t.key,i.version,a,{Ge:!0})}(t,e,r,n):function(t,e){return Hu(t.Ue,e)?new hc(t.key,Va.min()):e}(t,e)}function $u(t,e){return t instanceof ec?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof lc?e.field(o.field):void 0,s=Ru(o.transform,a||null);null!=s&&(n=null==n?(new sc).set(o.field,s):n.set(o.field,s))}return n?n.ze():null}(t,e):null}function Yu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||Aa(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Du&&e instanceof Du||t instanceof Mu&&e instanceof Mu?Aa(t.elements,e.elements,Us):t instanceof Uu&&e instanceof Uu?Us(t.Be,e.Be):t instanceof Ou&&e instanceof Ou}(t.transform,e.transform)}(t,e)})))}function Xu(t){return t instanceof lc?t.version:Va.min()}var Ju=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return re(e,t),e}(Ku),Zu=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return re(e,t),e}(Ku);function tc(t,e){return function(t,e){var n=new sc(e);return t.Le.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ze()}(t,e instanceof lc?e.data():ac.empty())}var ec=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=Wu.exists(!0),r}return re(e,t),e}(Ku);function nc(t,e){return e}function rc(t,e,n){for(var r=new sc(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.ze()}var ic=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return re(e,t),e}(Ku),oc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return re(e,t),e}(Ku),ac=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Xs(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Us(this.proto,t.proto)},t}(),sc=function(){function t(t){void 0===t&&(t=ac.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Fs(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(Wa.k(),this.Ye);return null!=t?new ac(t):this.He},t.prototype.Xe=function(t,e){var n=this,r=!1,i=this.He.field(t),o=Xs(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.Xe(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function uc(t){var e=[];return Da(t.fields||{},(function(t,n){var r=new Wa([t]);if(Xs(n)){var i=uc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new qu(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var cc=function(t,e){this.key=t,this.version=e},lc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ze=r,o.Ge=!!i.Ge,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return re(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(cc),hc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return re(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(cc),fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(cc),pc=function(){function t(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=o,this.startAt=a,this.endAt=s,this.sn=null,this.rn=null,this.startAt&&this.on(this.startAt),this.endAt&&this.on(this.endAt)}return t.hn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.sn){this.sn=[];var t=this.an(),e=this.un();if(null!==t&&null===e)t.O()||this.sn.push(new Ac(t)),this.sn.push(new Ac(Wa.L(),"asc"));else{for(var n=!1,r=0,i=this.en;r<i.length;r++){var o=i[r];this.sn.push(o),o.field.O()&&(n=!0)}if(!n){var a=this.en.length>0?this.en[this.en.length-1].dir:"asc";this.sn.push(new Ac(Wa.L(),a))}}}return this.sn},enumerable:!1,configurable:!0}),t.prototype.cn=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.en.slice(),n,this.limit,this.nn,this.startAt,this.endAt)},t.prototype.ln=function(e){var n=this.en.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype._n=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.fn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.dn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,e,this.endAt)},t.prototype.wn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,e)},t.prototype.Tn=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.En=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.O())},t.prototype.In=function(){return!Ka(this.limit)&&"F"===this.nn},t.prototype.mn=function(){return!Ka(this.limit)&&"L"===this.nn},t.prototype.un=function(){return this.en.length>0?this.en[0].field:null},t.prototype.an=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof bc&&n.An())return n.field}return null},t.prototype.Rn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof bc&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Pn=function(){return Za(this.We())},t.prototype.Vn=function(){return null!==this.collectionGroup},t.prototype.We=function(){if(!this.rn)if("F"===this.nn)this.rn=Ya(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new Ac(r.field,i))}var o=this.endAt?new Sc(this.endAt.position,!this.endAt.before):null,a=this.startAt?new Sc(this.startAt.position,!this.startAt.before):null;this.rn=Ya(this.path,this.collectionGroup,t,this.filters,this.limit,o,a)}return this.rn},t.prototype.on=function(t){},t}();function dc(t,e){return Ja(t.We(),e.We())&&t.nn===e.nn}function vc(t){return Xa(t.We())+"|lt:"+t.nn}function mc(t){return"Query(target="+function(t){var e=t.path.N();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.N()+" "+e.op+" "+Bs(e.value);var e})).join(", ")+"]"),Ka(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.N()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Cc(t.startAt)),t.endAt&&(e+=", endAt: "+Cc(t.endAt)),"Target("+e+")"}(t.We())+"; limitType="+t.nn+")"}function yc(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):Ha.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.en;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Nc(t.startAt,t.orderBy,e)||t.endAt&&Nc(t.endAt,t.orderBy,e))}(t,e)}function gc(t){return function(e,n){for(var r=!1,i=0,o=t.orderBy;i<o.length;i++){var a=o[i],s=xc(a,e,n);if(0!==s)return s;r=r||a.field.O()}return 0}}var bc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return re(e,t),e.create=function(t,n,r){if(t.O())return"in"===n?new _c(t,r):new wc(t,n,r);if($s(r)){if("=="!==n)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Ys(r)){if("=="!==n)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Ec(t,r):"in"===n?new Tc(t,r):"array-contains-any"===n?new Ic(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Fs(this.value)===Fs(e)&&this.gn(Vs(e,this.value))},e.prototype.gn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return Ta()}},e.prototype.An=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e}((function(){})),wc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ha.q(r.referenceValue),i}return re(e,t),e.prototype.matches=function(t){var e=Ha.P(t.key,this.key);return this.gn(e)},e}(bc),_c=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return Ha.q(t.referenceValue)})),r}return re(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bc),Ec=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return re(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Qs(e)&&js(e.arrayValue,this.value)},e}(bc),Tc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return re(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&js(this.value.arrayValue,e)},e}(bc),Ic=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return re(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Qs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return js(e.value.arrayValue,t)}))},e}(bc),Sc=function(t,e){this.position=t,this.before=e};function Cc(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Bs(t)})).join(",")}function Nc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.O()?Ha.P(Ha.q(a.referenceValue),n.key):Vs(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function kc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}var Ac=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function xc(t,e,n){var r=t.field.O()?Ha.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Vs(r,i):Ta()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ta()}}function Pc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc=function(){function t(t,e,n,r){this.batchId=t,this.yn=e,this.baseMutations=n,this.mutations=r}return t.prototype.pn=function(t,e,n){for(var r=n.bn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Gu(o,e,r[i]))}return e},t.prototype.vn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Qu(i,e,e,this.yn))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Qu(u,e,o,this.yn))}return e},t.prototype.Sn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.vn(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),bs())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Aa(this.mutations,t.mutations,(function(t,e){return Yu(t,e)}))&&Aa(this.baseMutations,t.baseMutations,(function(t,e){return Yu(t,e)}))},t}(),Oc=function(){function t(t,e,n,r){this.batch=t,this.Dn=e,this.bn=n,this.Cn=r}return t.from=function(e,n,r){Ia(e.mutations.length===r.length);for(var i=ys,o=e.mutations,a=0;a<o.length;a++)i=i.nt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Dc=function(){function t(t){var e=this;this.Fn=null,this.Nn=null,this.result=void 0,this.error=void 0,this.$n=!1,this.kn=!1,t((function(t){e.$n=!0,e.result=t,e.Fn&&e.Fn(t)}),(function(t){e.$n=!0,e.error=t,e.Nn&&e.Nn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.kn&&Ta(),this.kn=!0,this.$n?this.error?this.xn(n,this.error):this.Mn(e,this.result):new t((function(t,i){r.Fn=function(n){r.Mn(e,n).next(t,i)},r.Nn=function(e){r.xn(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Mn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.xn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Bn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.qn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Bn(r)},t}(),Lc=function(){function t(){this.Un=new Ma((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Qn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Wn},set:function(t){this.Wn=t},enumerable:!1,configurable:!0}),t.prototype.jn=function(t,e){this.Kn(),this.readTime=e,this.Un.set(t.key,t)},t.prototype.Gn=function(t,e){this.Kn(),e&&(this.readTime=e),this.Un.set(t,null)},t.prototype.zn=function(t,e){this.Kn();var n=this.Un.get(e);return void 0!==n?Dc.resolve(n):this.Hn(t,e)},t.prototype.getEntries=function(t,e){return this.Yn(t,e)},t.prototype.apply=function(t){return this.Kn(),this.Qn=!0,this.Jn(t)},t.prototype.Kn=function(){},t}(),Mc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fc=function(){function t(){this.Xn=[]}return t.prototype.Zn=function(t){this.Xn.push(t)},t.prototype.ts=function(){this.Xn.forEach((function(t){return t()}))},t}(),Uc=function(){function t(t,e,n){this.es=t,this.ns=e,this.ss=n}return t.prototype.rs=function(t,e){var n=this;return this.ns.os(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.es.zn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].vn(e,t);return t}))},t.prototype.as=function(t,e,n){var r=ds();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].vn(t,e);r=r.nt(t,e)})),r},t.prototype.us=function(t,e){var n=this;return this.es.getEntries(t,e).next((function(e){return n.cs(t,e)}))},t.prototype.cs=function(t,e){var n=this;return this.ns.ls(t,e).next((function(r){var i=n.as(t,e,r),o=ps();return i.forEach((function(t,e){e||(e=new hc(t,Va.min())),o=o.nt(t,e)})),o}))},t.prototype._s=function(t,e,n){return e.Pn()?this.fs(t,e.path):e.Vn()?this.ds(t,e,n):this.ws(t,e,n)},t.prototype.fs=function(t,e){return this.rs(t,new Ha(e)).next((function(t){var e=ms();return t instanceof lc&&(e=e.nt(t.key,t)),e}))},t.prototype.ds=function(t,e,n){var r=this,i=e.collectionGroup,o=ms();return this.ss.Ts(t,i).next((function(a){return Dc.forEach(a,(function(a){var s=e.Tn(a.child(i));return r.ws(t,s,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.ws=function(t,e,n){var r,i,o=this;return this.es._s(t,e,n).next((function(n){return r=n,o.ns.Es(t,e)})).next((function(e){return i=e,o.Is(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=Qu(u,l,l,o.yn);r=h instanceof lc?r.nt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){yc(e,n)||(r=r.remove(t))})),r}))},t.prototype.Is=function(t,e,n){for(var r=bs(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Zu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.es.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof lc&&(c=c.nt(t,e))})),c}))},t}(),jc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ms=n,this.As=r}return t.Rs=function(e,n){for(var r=bs(),i=bs(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Vc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Ps=function(t){return n.Vs(t)},this.gs=function(t){return e.ys(t)})}return t.prototype.Vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.gs&&this.gs(t),t},t}();Vc.ps=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Bc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.bs=t,this.vs=e,this.Ss=n,this.Ds=r,this.Cs=i,this.Fs=0,this.Ns=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fs=0},t.prototype.ks=function(){this.Fs=this.Cs},t.prototype.xs=function(t){var e=this;this.cancel();var n=Math.floor(this.Fs+this.Ms()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&wa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ns=this.bs.Os(this.vs,i,(function(){return e.$s=Date.now(),t()})),this.Fs*=this.Ds,this.Fs<this.Ss&&(this.Fs=this.Ss),this.Fs>this.Cs&&(this.Fs=this.Cs)},t.prototype.Ls=function(){null!==this.Ns&&(this.Ns.Bs(),this.Ns=null)},t.prototype.cancel=function(){null!==this.Ns&&(this.Ns.cancel(),this.Ns=null)},t.prototype.Ms=function(){return(Math.random()-.5)*this.Fs},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hc(e)),e=Wc(t.get(n),e);return Hc(e)}function Wc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Hc(t){return t+""}function Kc(t){var e=t.length;if(Ia(e>=2),2===e)return Ia(""===t.charAt(0)&&""===t.charAt(1)),Ba.k();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Ta(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Ta()}o=a+2}return new Ba(r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc=function(){function t(){this.qs=new Qc}return t.prototype.Us=function(t,e){return this.qs.add(e),Dc.resolve()},t.prototype.Ts=function(t,e){return Dc.resolve(this.qs.getEntries(e))},t}(),Qc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new ls(Ba.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ls(Ba.P)).F()},t}(),$c=function(){function t(){this.Qs=new Qc}return t.prototype.Us=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.S(),i=e.p();t.Zn((function(){n.Qs.add(e)}));var o={collectionId:r,parent:zc(i)};return Yc(t).put(o)}return Dc.resolve()},t.prototype.Ts=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[xa(e),""],!1,!0);return Yc(t).Ws(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Kc(o.parent))}return n}))},t}();function Yc(t){return bl.js(t,Hl.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xc=function(t){this.Ks=t};function Jc(t,e){if(e.document)return function(t,e,n){var r=hu(t,e.name),i=su(e.updateTime),o=new ac({mapValue:{fields:e.fields}});return new lc(r,i,o,{hasCommittedMutations:!!n})}(t.Ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ha.j(e.noDocument.path),r=rl(e.noDocument.readTime);return new hc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ha.j(e.unknownDocument.path),o=rl(e.unknownDocument.version);return new fc(i,o)}return Ta()}function Zc(t,e,n){var r=tl(n),i=e.key.path.p().F();if(e instanceof lc){var o=function(t,e){return{name:lu(t,e.key),fields:e.tn().mapValue.fields,updateTime:iu(t,e.version.A())}}(t.Ks,e),a=e.hasCommittedMutations;return new Vl(null,null,o,a,r,i)}if(e instanceof hc){var s=e.key.path.F(),u=nl(e.version),c=e.hasCommittedMutations;return new Vl(null,new Ul(s,u),null,c,r,i)}if(e instanceof fc){var l=e.key.path.F(),h=nl(e.version);return new Vl(new jl(l,h),null,null,!0,r,i)}return Ta()}function tl(t){var e=t.A();return[e.seconds,e.nanoseconds]}function el(t){var e=new ja(t[0],t[1]);return Va.I(e)}function nl(t){var e=t.A();return new Ol(e.seconds,e.nanoseconds)}function rl(t){var e=new ja(t.seconds,t.nanoseconds);return Va.I(e)}function il(t,e){var n=(e.baseMutations||[]).map((function(e){return gu(t.Ks,e)})),r=e.mutations.map((function(e){return gu(t.Ks,e)})),i=ja.fromMillis(e.localWriteTimeMs);return new Rc(e.batchId,i,n,r)}function ol(t){var e,n=rl(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?rl(t.lastLimboFreeSnapshotVersion):Va.min();return e=void 0!==t.query.documents?function(t){Ia(1===t.documents.length);var e=t.documents[0];return pc.hn(pu(e)).We()}(t.query):function(t){var e=pu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ia(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Cu(e)]:void 0!==e.fieldFilter?[Su(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ta():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return new Ac(Iu((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return Ka(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Eu(n.startAt));var l=null;return n.endAt&&(l=Eu(n.endAt)),new pc(e,i,s,a,u,"F",c,l).We()}(t.query),new rs(e,t.targetId,0,t.lastListenSequenceNumber,n,r,ts.fromBase64String(t.resumeToken))}function al(t,e){var n,r=nl(e.X),i=nl(e.lastLimboFreeSnapshotVersion);n=Za(e.target)?bu(t.Ks,e.target):wu(t.Ks,e.target);var o=e.resumeToken.toBase64();return new Bl(e.targetId,Xa(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sl=function(){function t(t,e){this.serializer=t,this.ss=e}return t.prototype.jn=function(t,e,n){return cl(t).put(ll(e),n)},t.prototype.Gn=function(t,e){var n=cl(t),r=ll(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Gs(t,r)}))},t.prototype.zn=function(t,e){var n=this;return cl(t).get(ll(e)).next((function(t){return n.zs(t)}))},t.prototype.Hs=function(t,e){var n=this;return cl(t).get(ll(e)).next((function(t){var e=n.zs(t);return e?{Ys:e,size:hl(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ds();return this.Js(t,e,(function(t,e){var i=n.zs(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Xs=function(t,e){var n=this,r=ds(),i=new ss(Ha.P);return this.Js(t,e,(function(t,e){var o=n.zs(e);o?(r=r.nt(t,o),i=i.nt(t,hl(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{Zs:r,ti:i}}))},t.prototype.Js=function(t,e,n){if(e._())return Dc.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),o=i.dt();return cl(t).ei({range:r},(function(t,e,r){for(var a=Ha.j(t);o&&Ha.P(o,a)<0;)n(o,null),o=i.dt();o&&o.isEqual(a)&&(n(o,e),o=i.wt()?i.dt():null),o?r.ni(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype._s=function(t,e,n){var r=this,i=ms(),o=e.path.length+1,a={};if(n.isEqual(Va.min())){var s=e.path.F();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.F(),c=tl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Vl.collectionReadTimeIndex}return cl(t).ei(a,(function(t,n,a){if(t.length===o){var s=Jc(r.serializer,n);e.path.D(s.key.path)?s instanceof lc&&yc(e,s)&&(i=i.nt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.si=function(t,e){var n=this,r=ps(),i=tl(e),o=cl(t),a=IDBKeyRange.lowerBound(i,!0);return o.ei({index:Vl.readTimeIndex,range:a},(function(t,e){var o=Jc(n.serializer,e);r=r.nt(o.key,o),i=e.readTime})).next((function(){return{ii:r,readTime:el(i)}}))},t.prototype.ri=function(t){var e=cl(t),n=Va.min();return e.ei({index:Vl.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=el(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.oi=function(e){return new t.hi(this,!!e&&e.ai)},t.prototype.ui=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ul(t).get(ql.key).next((function(t){return Ia(!!t),t}))},t.prototype.Gs=function(t,e){return ul(t).put(ql.key,e)},t.prototype.zs=function(t){if(t){var e=Jc(this.serializer,t);return e instanceof hc&&e.version.isEqual(Va.min())?null:e}return null},t}();function ul(t){return bl.js(t,ql.store)}function cl(t){return bl.js(t,Vl.store)}function ll(t){return t.path.F()}function hl(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ta();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl.hi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ci=e,r.ai=n,r.li=new Ma((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return re(e,t),e.prototype.Jn=function(t){var e=this,n=[],r=0,i=new ls((function(t,e){return ka(t.N(),e.N())}));return this.Un.forEach((function(o,a){var s=e.li.get(o);if(a){var u=Zc(e.ci.serializer,a,e.readTime);i=i.add(o.path.p());var c=hl(u);r+=c-s,n.push(e.ci.jn(t,o,u))}else if(r-=s,e.ai){var l=Zc(e.ci.serializer,new hc(o,Va.min()),e.readTime);n.push(e.ci.jn(t,o,l))}else n.push(e.ci.Gn(t,o))})),i.forEach((function(r){n.push(e.ci.ss.Us(t,r))})),n.push(this.ci.updateMetadata(t,r)),Dc.Bn(n)},e.prototype.Hn=function(t,e){var n=this;return this.ci.Hs(t,e).next((function(t){return null===t?(n.li.set(e,0),null):(n.li.set(e,t.size),t.Ys)}))},e.prototype.Yn=function(t,e){var n=this;return this.ci.Xs(t,e).next((function(t){var e=t.Zs;return t.ti.forEach((function(t,e){n.li.set(t,e)})),e}))},e}(Lc);var fl=function(){function t(t){this._i=t}return t.prototype.next=function(){return this._i+=2,this._i},t.fi=function(){return new t(0)},t.di=function(){return new t(-1)},t}(),pl=function(){function t(t,e){this.wi=t,this.serializer=e}return t.prototype.Ti=function(t){var e=this;return this.Ei(t).next((function(n){var r=new fl(n.highestTargetId);return n.highestTargetId=r.next(),e.Ii(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.mi=function(t){return this.Ei(t).next((function(t){return Va.I(new ja(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ai=function(t){return this.Ei(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Ri=function(t,e,n){var r=this;return this.Ei(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ii(t,i)}))},t.prototype.Pi=function(t,e){var n=this;return this.Vi(t,e).next((function(){return n.Ei(t).next((function(r){return r.targetCount+=1,n.gi(e,r),n.Ii(t,r)}))}))},t.prototype.yi=function(t,e){return this.Vi(t,e)},t.prototype.pi=function(t,e){var n=this;return this.bi(t,e.targetId).next((function(){return dl(t).delete(e.targetId)})).next((function(){return n.Ei(t)})).next((function(e){return Ia(e.targetCount>0),e.targetCount-=1,n.Ii(t,e)}))},t.prototype.vi=function(t,e,n){var r=this,i=0,o=[];return dl(t).ei((function(a,s){var u=ol(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.pi(t,u)))})).next((function(){return Dc.Bn(o)})).next((function(){return i}))},t.prototype.pe=function(t,e){return dl(t).ei((function(t,n){var r=ol(n);e(r)}))},t.prototype.Ei=function(t){return vl(t).get(Wl.key).next((function(t){return Ia(null!==t),t}))},t.prototype.Ii=function(t,e){return vl(t).put(Wl.key,e)},t.prototype.Vi=function(t,e){return dl(t).put(al(this.serializer,e))},t.prototype.gi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Si=function(t){return this.Ei(t).next((function(t){return t.targetCount}))},t.prototype.Di=function(t,e){var n=Xa(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dl(t).ei({range:r,index:Bl.queryTargetsIndexName},(function(t,n,r){var o=ol(n);Ja(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Ci=function(t,e,n){var r=this,i=[],o=ml(t);return e.forEach((function(e){var a=zc(e.path);i.push(o.put(new zl(n,a))),i.push(r.wi.Fi(t,n,e))})),Dc.Bn(i)},t.prototype.Ni=function(t,e,n){var r=this,i=ml(t);return Dc.forEach(e,(function(e){var o=zc(e.path);return Dc.Bn([i.delete([n,o]),r.wi.$i(t,n,e)])}))},t.prototype.bi=function(t,e){var n=ml(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ki=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ml(t),i=bs();return r.ei({range:n,xi:!0},(function(t,e,n){var r=Kc(t[1]),o=new Ha(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=zc(e.path),r=IDBKeyRange.bound([n],[xa(n)],!1,!0),i=0;return ml(t).ei({index:zl.documentTargetsIndex,xi:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return dl(t).get(e).next((function(t){return t?ol(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){return bl.js(t,Bl.store)}function vl(t){return bl.js(t,Wl.store)}function ml(t){return bl.js(t,zl.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yl="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Oi=e,r.Li=n,r}return re(e,t),e}(Fc),bl=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.bs=o,this.window=a,this.document=s,this.Bi=c,this.qi=l,this.Ui=null,this.Qi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Wi=null,this.inForeground=!1,this.ji=null,this.Ki=null,this.Gi=Number.NEGATIVE_INFINITY,this.zi=function(t){return Promise.resolve()},!t.Hi())throw new Ua(Fa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.wi=new El(this,i),this.Yi=n+"main",this.serializer=new Xc(u),this.Ji=new pl(this.wi,this.serializer),this.ss=new $c,this.es=new sl(this.serializer,this.ss),this.window&&this.window.localStorage?this.Xi=this.window.localStorage:(this.Xi=null,!1===l&&_a("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.js=function(t,e){if(t instanceof gl)return $l.js(t.Oi,e);throw Ta()},t.prototype.start=function(){var t=this;return $l.Zi(this.Yi,Pl,new Rl(this.serializer)).then((function(e){return t.tr=e,t.er()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ua(Fa.FAILED_PRECONDITION,yl);return t.nr(),t.sr(),t.ir(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ji.Ai(e)}))})).then((function(e){t.Ui=new Vc(e,t.Bi)})).then((function(){t.Qi=!0})).catch((function(e){return t.tr&&t.tr.close(),Promise.reject(e)}))},t.prototype.rr=function(t){var e=this;return this.zi=function(n){return oe(e,void 0,void 0,(function(){return ae(this,(function(e){return this.or?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.hr=function(t){var e=this;this.tr.ar((function(n){return oe(e,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ur=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.bs.cr((function(){return oe(e,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.or?[4,this.er()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.er=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return _l(e).put(new Gl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.lr(e).next((function(e){e||(t.isPrimary=!1,t.bs._r((function(){return t.zi(!1)})))}))})).next((function(){return t.dr(e)})).next((function(n){return t.isPrimary&&!n?t.wr(e).next((function(){return!1})):!!n&&t.Tr(e).next((function(){return!0}))}))})).catch((function(e){if(Jl(e))return wa("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return wa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.bs._r((function(){return t.zi(e)})),t.isPrimary=e}))},t.prototype.lr=function(t){var e=this;return wl(t).get(Dl.key).next((function(t){return Dc.resolve(e.Er(t))}))},t.prototype.Ir=function(t){return _l(t).delete(this.clientId)},t.prototype.mr=function(){return oe(this,void 0,void 0,(function(){var e,n,r,i,o=this;return ae(this,(function(a){switch(a.label){case 0:return!this.isPrimary||this.Ar(this.Gi,18e5)?[3,2]:(this.Gi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.js(e,Gl.store);return n.Ws().next((function(t){var e=o.Rr(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Dc.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=a.sent(),this.Xi)for(n=0,r=e;n<r.length;n++)i=r[n],this.Xi.removeItem(this.Pr(i.clientId));a.label=2;case 2:return[2]}}))}))},t.prototype.ir=function(){var t=this;this.Ki=this.bs.Os("client_metadata_refresh",4e3,(function(){return t.er().then((function(){return t.mr()})).then((function(){return t.ir()}))}))},t.prototype.Er=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.dr=function(t){var e=this;return this.qi?Dc.resolve(!0):wl(t).get(Dl.key).next((function(n){if(null!==n&&e.Ar(n.leaseTimestampMs,5e3)&&!e.Vr(n.ownerId)){if(e.Er(n)&&e.networkEnabled)return!0;if(!e.Er(n)){if(!n.allowTabSynchronization)throw new Ua(Fa.FAILED_PRECONDITION,yl);return!1}}return!(!e.networkEnabled||!e.inForeground)||_l(t).Ws().next((function(t){return void 0===e.Rr(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&wa("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.gr=function(){return oe(this,void 0,void 0,(function(){var t=this;return ae(this,(function(e){switch(e.label){case 0:return this.Qi=!1,this.yr(),this.Ki&&(this.Ki.cancel(),this.Ki=null),this.pr(),this.br(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.wr(e).next((function(){return t.Ir(e)}))})).catch((function(t){wa("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.tr.close(),this.vr(),[2]}}))}))},t.prototype.Rr=function(t,e){var n=this;return t.filter((function(t){return n.Ar(t.updateTimeMs,e)&&!n.Vr(t.clientId)}))},t.prototype.Sr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return _l(e).Ws().next((function(e){return t.Rr(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"or",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),t.prototype.Dr=function(t){return Sl.Cr(t,this.serializer,this.ss,this.wi)},t.prototype.Fr=function(){return this.Ji},t.prototype.Nr=function(){return this.es},t.prototype.$r=function(){return this.ss},t.prototype.runTransaction=function(t,e,n){var r=this;wa("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.tr.runTransaction(o,Ql,(function(o){return i=new gl(o,r.Ui?r.Ui.next():Vc.ps),"readwrite-primary"===e?r.lr(i).next((function(t){return!!t||r.dr(i)})).next((function(e){if(!e)throw _a("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.bs._r((function(){return r.zi(!1)})),new Ua(Fa.FAILED_PRECONDITION,Mc);return n(i)})).next((function(t){return r.Tr(i).next((function(){return t}))})):r.kr(i).next((function(){return n(i)}))})).then((function(t){return i.ts(),t}))},t.prototype.kr=function(t){var e=this;return wl(t).get(Dl.key).next((function(t){if(null!==t&&e.Ar(t.leaseTimestampMs,5e3)&&!e.Vr(t.ownerId)&&!e.Er(t)&&!(e.qi||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ua(Fa.FAILED_PRECONDITION,yl)}))},t.prototype.Tr=function(t){var e=new Dl(this.clientId,this.allowTabSynchronization,Date.now());return wl(t).put(Dl.key,e)},t.Hi=function(){return $l.Hi()},t.prototype.wr=function(t){var e=this,n=wl(t);return n.get(Dl.key).next((function(t){return e.Er(t)?(wa("IndexedDbPersistence","Releasing primary lease."),n.delete(Dl.key)):Dc.resolve()}))},t.prototype.Ar=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(_a("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.nr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ji=function(){t.bs.cr((function(){return t.inForeground="visible"===t.document.visibilityState,t.er()}))},this.document.addEventListener("visibilitychange",this.ji),this.inForeground="visible"===this.document.visibilityState)},t.prototype.pr=function(){this.ji&&(this.document.removeEventListener("visibilitychange",this.ji),this.ji=null)},t.prototype.sr=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Wi=function(){e.yr(),e.bs.cr((function(){return e.gr()}))},this.window.addEventListener("unload",this.Wi))},t.prototype.br=function(){this.Wi&&(this.window.removeEventListener("unload",this.Wi),this.Wi=null)},t.prototype.Vr=function(t){var e;try{var n=null!==(null===(e=this.Xi)||void 0===e?void 0:e.getItem(this.Pr(t)));return wa("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return _a("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.yr=function(){if(this.Xi)try{this.Xi.setItem(this.Pr(this.clientId),String(Date.now()))}catch(t){_a("Failed to set zombie client id.",t)}},t.prototype.vr=function(){if(this.Xi)try{this.Xi.removeItem(this.Pr(this.clientId))}catch(t){}},t.prototype.Pr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function wl(t){return bl.js(t,Dl.store)}function _l(t){return bl.js(t,Gl.store)}var El=function(){function t(t,e){this.db=t,this.xr=new ph(this,e)}return t.prototype.Mr=function(t){var e=this.Or(t);return this.db.Fr().Si(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Or=function(t){var e=0;return this.Lr(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.Fr().pe(t,e)},t.prototype.Lr=function(t,e){return this.Br(t,(function(t,n){return e(n)}))},t.prototype.Fi=function(t,e,n){return Tl(t,n)},t.prototype.$i=function(t,e,n){return Tl(t,n)},t.prototype.vi=function(t,e,n){return this.db.Fr().vi(t,e,n)},t.prototype.qr=function(t,e){return Tl(t,e)},t.prototype.Ur=function(t,e){return function(t,e){var n=!1;return xl(t).Qr((function(r){return Cl(t,r,e).next((function(t){return t&&(n=!0),Dc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Wr=function(t,e){var n=this,r=this.db.Nr().oi(),i=[],o=0;return this.Br(t,(function(a,s){if(s<=e){var u=n.Ur(t,a).next((function(e){if(!e)return o++,r.zn(t,a).next((function(){return r.Gn(a),ml(t).delete([0,zc(a.path)])}))}));i.push(u)}})).next((function(){return Dc.Bn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.Li);return this.db.Fr().yi(t,n)},t.prototype.jr=function(t,e){return Tl(t,e)},t.prototype.Br=function(t,e){var n,r=ml(t),i=Vc.ps;return r.ei({index:zl.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Vc.ps&&e(new Ha(Kc(n)),i),i=s,n=a):i=Vc.ps})).next((function(){i!==Vc.ps&&e(new Ha(Kc(n)),i)}))},t.prototype.Kr=function(t){return this.db.Nr().ui(t)},t}();function Tl(t,e){return ml(t).put(function(t,e){return new zl(0,zc(t.path),e)}(e,t.Li))}function Il(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Sl=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ss=n,this.wi=r,this.Gr={}}return t.Cr=function(e,n,r,i){return Ia(""!==e.uid),new t(e.zr()?e.uid:"",n,r,i)},t.prototype.Hr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kl(t).ei({index:Ml.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Yr=function(t,e,n,r){var i=this,o=Al(t),a=kl(t);return a.add({}).next((function(s){Ia("number"==typeof s);for(var u=new Rc(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return yu(t.Ks,e)})),i=n.mutations.map((function(e){return yu(t.Ks,e)}));return new Ml(e,n.batchId,n.yn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new ls((function(t,e){return ka(t.N(),e.N())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Fl.key(i.userId,d.key.path,s);h=h.add(d.key.path.p()),l.push(a.put(c)),l.push(o.put(v,Fl.PLACEHOLDER))}return h.forEach((function(e){l.push(i.ss.Us(t,e))})),t.Zn((function(){i.Gr[s]=u.keys()})),Dc.Bn(l).next((function(){return u}))}))},t.prototype.Jr=function(t,e){var n=this;return kl(t).get(e).next((function(t){return t?(Ia(t.userId===n.userId),il(n.serializer,t)):null}))},t.prototype.Xr=function(t,e){var n=this;return this.Gr[e]?Dc.resolve(this.Gr[e]):this.Jr(t,e).next((function(t){if(t){var r=t.keys();return n.Gr[e]=r,r}return null}))},t.prototype.Zr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return kl(t).ei({index:Ml.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ia(e.batchId>=r),o=il(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.to=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kl(t).ei({index:Ml.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.eo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kl(t).Ws(Ml.userMutationsIndex,n).next((function(t){return t.map((function(t){return il(e.serializer,t)}))}))},t.prototype.os=function(t,e){var n=this,r=Fl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Al(t).ei({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Kc(u);if(s===n.userId&&e.path.isEqual(l))return kl(t).get(c).next((function(t){if(!t)throw Ta();Ia(t.userId===n.userId),o.push(il(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.ls=function(t,e){var n=this,r=new ls(ka),i=[];return e.forEach((function(e){var o=Fl.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Al(t).ei({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Kc(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Dc.Bn(i).next((function(){return n.no(t,r)}))},t.prototype.Es=function(t,e){var n=this,r=e.path,i=r.length+1,o=Fl.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ls(ka);return Al(t).ei({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Kc(u);a===n.userId&&r.D(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.no(t,s)}))},t.prototype.no=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(kl(t).get(e).next((function(t){if(null===t)throw Ta();Ia(t.userId===n.userId),r.push(il(n.serializer,t))})))})),Dc.Bn(i).next((function(){return r}))},t.prototype.so=function(t,e){var n=this;return Nl(t.Oi,this.userId,e).next((function(r){return t.Zn((function(){n.io(e.batchId)})),Dc.forEach(r,(function(e){return n.wi.qr(t,e)}))}))},t.prototype.io=function(t){delete this.Gr[t]},t.prototype.ro=function(t){var e=this;return this.Hr(t).next((function(n){if(!n)return Dc.resolve();var r=IDBKeyRange.lowerBound(Fl.prefixForUser(e.userId)),i=[];return Al(t).ei({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Kc(t[1]);i.push(o)}else r.done()})).next((function(){Ia(0===i.length)}))}))},t.prototype.Mi=function(t,e){return Cl(t,this.userId,e)},t.prototype.oo=function(t){var e=this;return xl(t).get(this.userId).next((function(t){return t||new Ll(e.userId,-1,"")}))},t}();function Cl(t,e,n){var r=Fl.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Al(t).ei({range:o,xi:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Nl(t,e,n){var r=t.store(Ml.store),i=t.store(Fl.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ei({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Ia(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Fl.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Dc.Bn(o).next((function(){return c}))}function kl(t){return bl.js(t,Ml.store)}function Al(t){return bl.js(t,Fl.store)}function xl(t){return bl.js(t,Ll.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=10,Rl=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ia(n<r&&n>=0&&r<=Pl);var o=new Zl(e);n<1&&r>=1&&(function(t){t.createObjectStore(Dl.store)}(t),function(t){t.createObjectStore(Ll.store,{keyPath:Ll.keyPath}),t.createObjectStore(Ml.store,{keyPath:Ml.keyPath,autoIncrement:!0}).createIndex(Ml.userMutationsIndex,Ml.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Fl.store)}(t),Kl(t),function(t){t.createObjectStore(Vl.store)}(t));var a=Dc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(zl.store),t.deleteObjectStore(Bl.store),t.deleteObjectStore(Wl.store)}(t),Kl(t)),a=a.next((function(){return function(t){var e=t.store(Wl.store),n=new Wl(0,0,Va.min().A(),0);return e.put(Wl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Ml.store).Ws().next((function(n){t.deleteObjectStore(Ml.store),t.createObjectStore(Ml.store,{keyPath:Ml.keyPath,autoIncrement:!0}).createIndex(Ml.userMutationsIndex,Ml.userMutationsKeyPath,{unique:!0});var r=e.store(Ml.store),i=n.map((function(t){return r.put(t)}));return Dc.Bn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Gl.store,{keyPath:Gl.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(ql.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Vl.store);e.createIndex(Vl.readTimeIndex,Vl.readTimeIndexPath,{unique:!1}),e.createIndex(Vl.collectionReadTimeIndex,Vl.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Vl.store).ei((function(t,n){e+=hl(n)})).next((function(){var n=new ql(e);return t.store(ql.store).put(ql.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ll.store),r=t.store(Ml.store);return n.Ws().next((function(n){return Dc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ws(Ml.userMutationsIndex,i).next((function(r){return Dc.forEach(r,(function(r){Ia(r.userId===n.userId);var i=il(e.serializer,r);return Nl(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(zl.store),n=t.store(Vl.store);return t.store(Wl.store).get(Wl.key).next((function(t){var r=[];return n.ei((function(n,i){var o=new Ba(n),a=function(t){return[0,zc(t)]}(o);r.push(e.get(a).next((function(n){return n?Dc.resolve():function(n){return e.put(new zl(0,zc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Dc.Bn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Hl.store,{keyPath:Hl.keyPath});var n=e.store(Hl.store),r=new Qc,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:zc(i)})}};return e.store(Vl.store).ei({xi:!0},(function(t,e){var n=new Ba(t);return i(n.p())})).next((function(){return e.store(Fl.store).ei({xi:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Kc(n));return i(r.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Bl.store);return n.ei((function(t,r){var i=ol(r),o=al(e.serializer,i);return n.put(o)}))},t}(),Ol=function(t,e){this.seconds=t,this.nanoseconds=e},Dl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dl.store="owner",Dl.key="owner";var Ll=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ll.store="mutationQueues",Ll.keyPath="userId";var Ml=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ml.store="mutations",Ml.keyPath="batchId",Ml.userMutationsIndex="userMutationsIndex",Ml.userMutationsKeyPath=["userId","batchId"];var Fl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,zc(e)]},t.key=function(t,e,n){return[t,zc(e),n]},t}();Fl.store="documentMutations",Fl.PLACEHOLDER=new Fl;var Ul=function(t,e){this.path=t,this.readTime=e},jl=function(t,e){this.path=t,this.version=e},Vl=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Vl.store="remoteDocuments",Vl.readTimeIndex="readTimeIndex",Vl.readTimeIndexPath="readTime",Vl.collectionReadTimeIndex="collectionReadTimeIndex",Vl.collectionReadTimeIndexPath=["parentPath","readTime"];var ql=function(t){this.byteSize=t};ql.store="remoteDocumentGlobal",ql.key="remoteDocumentGlobalKey";var Bl=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Bl.store="targets",Bl.keyPath="targetId",Bl.queryTargetsIndexName="queryTargetsIndex",Bl.queryTargetsKeyPath=["canonicalId","targetId"];var zl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};zl.store="targetDocuments",zl.keyPath=["targetId","path"],zl.documentTargetsIndex="documentTargetsIndex",zl.documentTargetsKeyPath=["path","targetId"];var Wl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wl.key="targetGlobalKey",Wl.store="targetGlobal";var Hl=function(t,e){this.collectionId=t,this.parent=e};function Kl(t){t.createObjectStore(zl.store,{keyPath:zl.keyPath}).createIndex(zl.documentTargetsIndex,zl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Bl.store,{keyPath:Bl.keyPath}).createIndex(Bl.queryTargetsIndexName,Bl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wl.store)}Hl.store="collectionParents",Hl.keyPath=["collectionId","parent"];var Gl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Gl.store="clientMetadata",Gl.keyPath="clientId";var Ql=le(le(le([Ll.store,Ml.store,Fl.store,Vl.store,Bl.store,Dl.store,Wl.store,zl.store],[Gl.store]),[ql.store]),[Hl.store]),$l=function(){function t(e){this.db=e,12.2===t.ho(_e())&&_a("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Zi=function(e,n,r){return wa("SimpleDb","Opening database:",e),new Dc((function(i,o){var a=indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onblocked=function(){o(new Ua(Fa.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new Ua(Fa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(t){wa("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,a.transaction,t.oldVersion,Pl).next((function(){wa("SimpleDb","Database upgrade to version "+Pl+" complete")}))}})).On()},t.delete=function(t){return wa("SimpleDb","Removing database:",t),eh(window.indexedDB.deleteDatabase(t)).On()},t.Hi=function(){if("undefined"==typeof indexedDB)return!1;if(t.ao())return!0;var e=_e(),n=t.ho(e),r=0<n&&n<10,i=t.uo(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.ao=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.co)},t.js=function(t,e){return t.store(e)},t.ho=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.uo=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.ar=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return oe(this,void 0,void 0,(function(){var r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,s,u,c;return ae(this,(function(l){switch(l.label){case 0:++i,t=Zl.open(a.db,r?"readonly":"readwrite",e),l.label=1;case 1:return l.trys.push([1,3,,4]),o=n(t).catch((function(e){return t.abort(e),Dc.reject(e)})).On(),s={},o.catch((function(){})),[4,t.lo];case 2:return[2,(s.value=(l.sent(),o),s)];case 3:return u=l.sent(),c="FirebaseError"!==u.name&&i<3,wa("SimpleDb","Transaction failed with error: %s. Retrying: %s.",u.message,c),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Yl=function(){function t(t){this._o=t,this.fo=!1,this.do=null}return Object.defineProperty(t.prototype,"$n",{get:function(){return this.fo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wo",{get:function(){return this.do},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this._o=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.fo=!0},t.prototype.ni=function(t){this.do=t},t.prototype.delete=function(){return eh(this._o.delete())},t}(),Xl=function(t){function e(e){var n=this;return(n=t.call(this,Fa.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return re(e,t),e}(Ua);function Jl(t){return"IndexedDbTransactionError"===t.name}var Zl=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.To=new qc,this.transaction.oncomplete=function(){e.To.resolve()},this.transaction.onabort=function(){t.error?e.To.reject(new Xl(t.error)):e.To.resolve()},this.transaction.onerror=function(t){var n=rh(t.target.error);e.To.reject(new Xl(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"lo",{get:function(){return this.To.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.To.reject(t),this.aborted||(wa("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new th(e)},t}(),th=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(wa("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(wa("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),eh(n)},t.prototype.add=function(t){return wa("SimpleDb","ADD",this.store.name,t,t),eh(this.store.add(t))},t.prototype.get=function(t){var e=this;return eh(this.store.get(t)).next((function(n){return void 0===n&&(n=null),wa("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return wa("SimpleDb","DELETE",this.store.name,t),eh(this.store.delete(t))},t.prototype.count=function(){return wa("SimpleDb","COUNT",this.store.name),eh(this.store.count())},t.prototype.Ws=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Eo(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Io=function(t,e){wa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.xi=!1;var r=this.cursor(n);return this.Eo(r,(function(t,e,n){return n.delete()}))},t.prototype.ei=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Eo(r,e)},t.prototype.Qr=function(t){var e=this.cursor({});return new Dc((function(n,r){e.onerror=function(t){var e=rh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Eo=function(t,e){var n=[];return new Dc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Yl(i),a=e(i.primaryKey,i.value,o);if(a instanceof Dc){var s=a.catch((function(t){return o.done(),Dc.reject(t)}));n.push(s)}o.$n?r():null===o.wo?i.continue():i.continue(o.wo)}else r()}})).next((function(){return Dc.Bn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.xi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function eh(t){return new Dc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=rh(t.target.error);n(e)}}))}var nh=!1;function rh(t){var e=$l.ho(_e());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ua("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nh||(nh=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(){return"undefined"!=typeof window?window:null}var oh=function(){function t(t,e,n,r,i){this.mo=t,this.vs=e,this.Ao=n,this.op=r,this.Ro=i,this.Po=new qc,this.then=this.Po.promise.then.bind(this.Po.promise),this.Po.promise.catch((function(t){}))}return t.Vo=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.yo=setTimeout((function(){return e.po()}),t)},t.prototype.Bs=function(){return this.po()},t.prototype.cancel=function(t){null!==this.yo&&(this.clearTimeout(),this.Po.reject(new Ua(Fa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.po=function(){var t=this;this.mo.cr((function(){return null!==t.yo?(t.clearTimeout(),t.op().then((function(e){return t.Po.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.yo&&(this.Ro(this),clearTimeout(this.yo),this.yo=null)},t}(),ah=function(){function t(){var t=this;this.bo=Promise.resolve(),this.vo=[],this.So=!1,this.Do=[],this.Co=null,this.Fo=!1,this.No=[],this.$o=new Bc(this,"async_queue_retry"),this.ko=function(){return t.$o.Ls()};var e=ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ko)}return Object.defineProperty(t.prototype,"xo",{get:function(){return this.So},enumerable:!1,configurable:!0}),t.prototype.cr=function(t){this.enqueue(t)},t.prototype.Mo=function(t){this.Oo(),this.Lo(t)},t.prototype.Bo=function(t){return this.Oo(),this.Lo(t)},t.prototype.qo=function(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return this.Oo(),this.So?[3,2]:(this.So=!0,(e=ih())&&e.removeEventListener("visibilitychange",this.ko),[4,this.Bo(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Oo(),this.So?new Promise((function(t){})):this.Lo(t)},t.prototype._r=function(t){var e=this;this.vo.push(t),this.cr((function(){return e.Uo()}))},t.prototype.Uo=function(){return oe(this,void 0,void 0,(function(){var t,e=this;return ae(this,(function(n){switch(n.label){case 0:if(0===this.vo.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.vo[0]()];case 2:return n.sent(),this.vo.shift(),this.$o.reset(),[3,4];case 3:if(!Jl(t=n.sent()))throw t;return wa("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.vo.length>0&&this.$o.xs((function(){return e.Uo()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Lo=function(t){var e=this,n=this.bo.then((function(){return e.Fo=!0,t().catch((function(t){throw e.Co=t,e.Fo=!1,_a("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Fo=!1,t}))}));return this.bo=n,n},t.prototype.Os=function(t,e,n){var r=this;this.Oo(),this.No.indexOf(t)>-1&&(e=0);var i=oh.Vo(this,t,e,n,(function(t){return r.Qo(t)}));return this.Do.push(i),i},t.prototype.Oo=function(){this.Co&&Ta()},t.prototype.Wo=function(){},t.prototype.jo=function(){return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(e){switch(e.label){case 0:return[4,t=this.bo];case 1:e.sent(),e.label=2;case 2:if(t!==this.bo)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ko=function(t){for(var e=0,n=this.Do;e<n.length;e++)if(n[e].vs===t)return!0;return!1},t.prototype.Go=function(t){var e=this;return this.jo().then((function(){e.Do.sort((function(t,e){return t.Ao-e.Ao}));for(var n=0,r=e.Do;n<r.length;n++){var i=r[n];if(i.Bs(),"all"!==t&&i.vs===t)break}return e.jo()}))},t.prototype.zo=function(t){this.No.push(t)},t.prototype.Qo=function(t){var e=this.Do.indexOf(t);this.Do.splice(e,1)},t}();function sh(t,e){if(_a("AsyncQueue",e+": "+t),Jl(t))return new Ua(Fa.UNAVAILABLE,e+": "+t);throw t}function uh(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=ka(n,i);return 0===a?ka(r,o):a}var ch=function(){function t(t){this.Ho=t,this.buffer=new ls(uh),this.Yo=0}return t.prototype.Jo=function(){return++this.Yo},t.prototype.Xo=function(t){var e=[t,this.Jo()];if(this.buffer.size<this.Ho)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();uh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lh={Zo:!1,th:0,eh:0,nh:0},hh=function(){function t(t,e,n){this.sh=t,this.ih=e,this.rh=n}return t.oh=function(e){return new t(e,t.hh,t.ah)},t}();hh.uh=-1,hh.lh=1048576,hh._h=41943040,hh.hh=10,hh.ah=1e3,hh.fh=new hh(hh._h,hh.hh,hh.ah),hh.dh=new hh(hh.uh,0,0);var fh=function(){function t(t,e){this.xr=t,this.mo=e,this.wh=!1,this.Th=null}return t.prototype.start=function(t){this.xr.params.sh!==hh.uh&&this.Eh(t)},t.prototype.stop=function(){this.Th&&(this.Th.cancel(),this.Th=null)},Object.defineProperty(t.prototype,"or",{get:function(){return null!==this.Th},enumerable:!1,configurable:!0}),t.prototype.Eh=function(t){var e=this,n=this.wh?3e5:6e4;wa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Th=this.mo.Os("lru_garbage_collection",n,(function(){return oe(e,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:this.Th=null,this.wh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ih(this.xr)];case 2:return n.sent(),[3,7];case 3:return Jl(e=n.sent())?(wa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,yh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ph=function(){function t(t,e){this.mh=t,this.params=e}return t.prototype.Ah=function(t,e){return this.mh.Mr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Rh=function(t,e){var n=this;if(0===e)return Dc.resolve(Vc.ps);var r=new ch(e);return this.mh.pe(t,(function(t){return r.Xo(t.sequenceNumber)})).next((function(){return n.mh.Lr(t,(function(t){return r.Xo(t)}))})).next((function(){return r.maxValue}))},t.prototype.vi=function(t,e,n){return this.mh.vi(t,e,n)},t.prototype.Wr=function(t,e){return this.mh.Wr(t,e)},t.prototype.Ph=function(t,e){var n=this;return this.params.sh===hh.uh?(wa("LruGarbageCollector","Garbage collection skipped; disabled"),Dc.resolve(lh)):this.Kr(t).next((function(r){return r<n.params.sh?(wa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.sh),lh):n.Vh(t,e)}))},t.prototype.Kr=function(t){return this.mh.Kr(t)},t.prototype.Vh=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Ah(t,this.params.ih).next((function(e){return e>c.params.rh?(wa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.rh+" from "+e),r=c.params.rh):r=e,o=Date.now(),c.Rh(t,r)})).next((function(r){return n=r,a=Date.now(),c.vi(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Wr(t,n)})).next((function(t){return u=Date.now(),ba()<=Xe.DEBUG&&wa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Dc.resolve({Zo:!0,th:r,eh:i,nh:t})}))},t}(),dh=function(){function t(t,e,n){this.persistence=t,this.gh=e,this.yh=new ss(ka),this.ph=new Ma((function(t){return Xa(t)}),Ja),this.bh=Va.min(),this.ns=t.Dr(n),this.vh=t.Nr(),this.Ji=t.Fr(),this.Sh=new Uc(this.vh,this.ns,this.persistence.$r()),this.gh.Dh(this.Sh)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ch=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i=this;return ae(this,(function(o){switch(o.label){case 0:return e=this.ns,n=this.Sh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.ns.eo(r).next((function(a){return o=a,e=i.persistence.Dr(t),n=new Uc(i.vh,e,i.persistence.$r()),e.eo(r)})).next((function(t){for(var e=[],i=[],a=bs(),s=0,u=o;s<u.length;s++){var c=u[s];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];a=a.add(g.key)}}return n.us(r,a).next((function(t){return{Fh:t,Nh:e,$h:i}}))}))}))];case 1:return r=o.sent(),[2,(this.ns=e,this.Sh=n,this.gh.Dh(this.Sh),r)]}}))}))},t.prototype.kh=function(t){var e,n=this,r=ja.now(),i=t.reduce((function(t,e){return t.add(e.key)}),bs());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Sh.us(o,i).next((function(i){e=i;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=$u(c,e.get(c.key));null!=l&&a.push(new Zu(c.key,l,uc(l.proto.mapValue),Wu.exists(!0)))}return n.ns.Yr(o,r,a,t)}))})).then((function(t){var n=t.Sn(e);return{batchId:t.batchId,Un:n}}))},t.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.vh.oi({ai:!0});return e.Mh(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.ns.ro(n)})).next((function(){return e.Sh.us(n,r)}))}))},t.prototype.Oh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.ns.Jr(n,t).next((function(t){return Ia(null!==t),r=t.keys(),e.ns.so(n,t)})).next((function(){return e.ns.ro(n)})).next((function(){return e.Sh.us(n,r)}))}))},t.prototype.to=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ns.to(e)}))},t.prototype.mi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ji.mi(e)}))},t.prototype.Lh=function(e){var n=this,r=e.X,i=this.yh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=n.vh.oi({ai:!0});i=n.yh;var s=[];e.Qt.forEach((function(e,a){var u=i.get(a);if(u){s.push(n.Ji.Ni(o,e.Xt,a).next((function(){return n.Ji.Ci(o,e.Yt,a)})));var c=e.resumeToken;if(c.H()>0){var l=u.tt(c,r).Z(o.Li);i=i.nt(a,l),t.Bh(u,l,e)&&s.push(n.Ji.yi(o,l))}}}));var u=ps(),c=bs();if(e.jt.forEach((function(t,e){c=c.add(t)})),s.push(a.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var l=t.get(i);c instanceof hc&&c.version.isEqual(Va.min())?(a.Gn(i,r),u=u.nt(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(a.jn(c,r),u=u.nt(i,c)):wa("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.Kt.has(i)&&s.push(n.persistence.wi.jr(o,i))}))}))),!r.isEqual(Va.min())){var l=n.Ji.mi(o).next((function(t){return n.Ji.Ri(o,o.Li,r)}));s.push(l)}return Dc.Bn(s).next((function(){return a.apply(o)})).next((function(){return n.Sh.cs(o,u)}))})).then((function(t){return n.yh=i,t}))},t.Bh=function(t,e,n){return Ia(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.qh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.Uh=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c=this;return ae(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dc.forEach(t,(function(t){return Dc.forEach(t.ms,(function(n){return c.persistence.wi.Fi(e,t.targetId,n)})).next((function(){return Dc.forEach(t.As,(function(n){return c.persistence.wi.$i(e,t.targetId,n)}))}))}))}))];case 1:return l.sent(),[3,3];case 2:if(!Jl(e=l.sent()))throw e;return wa("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(a=this.yh.get(o),s=a.X,u=a.et(s),this.yh=this.yh.nt(o,u));return[2]}}))}))},t.prototype.Qh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ns.Zr(n,t)}))},t.prototype.Wh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Sh.rs(n,t)}))},t.prototype.jh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Ji.Di(n,t).next((function(i){return i?(r=i,Dc.resolve(r)):e.Ji.Ti(n).next((function(i){return r=new rs(t,i,0,n.Li),e.Ji.Pi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.yh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.yh=e.yh.nt(n.targetId,n),e.ph.set(t,n.targetId)),n}))},t.prototype.Di=function(t,e){var n=this.ph.get(e);return void 0!==n?Dc.resolve(this.yh.get(n)):this.Ji.Di(t,e)},t.prototype.Kh=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o=this;return ae(this,(function(a){switch(a.label){case 0:n=this.yh.get(t),r=e?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,(function(t){return o.persistence.wi.removeTarget(t,n)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Jl(i=a.sent()))throw i;return wa("LocalStore","Failed to update sequence numbers for target "+t+": "+i),[3,5];case 5:return this.yh=this.yh.remove(t),this.ph.delete(n.target),[2]}}))}))},t.prototype.Gh=function(t,e){var n=this,r=Va.min(),i=bs();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Di(o,t.We()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Ji.ki(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.gh._s(o,t,e?r:Va.min(),e?i:bs())})).next((function(t){return{documents:t,zh:i}}))}))},t.prototype.Mh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Dc.resolve();return o.forEach((function(r){a=a.next((function(){return n.zn(t,r)})).next((function(t){var o=t,a=e.Cn.get(r);Ia(null!==a),(!o||o.version.o(a)<0)&&(o=i.pn(r,o,e))&&n.jn(o,e.Dn)}))})),a.next((function(){return r.ns.so(t,i)}))},t.prototype.Ih=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Ph(n,e.yh)}))},t}();function vh(t,e,n){return new dh(t,e,n)}dh.qh=3e8;var mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.ns=e.Dr(r),i.vh=e.Nr(),i.Ji=e.Fr(),i}return re(e,t),e.prototype.start=function(){return this.Hh()},e.prototype.Yh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ns.Xr(n,t).next((function(t){return t?e.Sh.us(n,t):Dc.resolve(null)}))}))},e.prototype.Jh=function(t){this.ns.io(t)},e.prototype.ur=function(t){this.persistence.ur(t)},e.prototype.Sr=function(){return this.persistence.Sr()},e.prototype.Xh=function(t){var e=this,n=this.yh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Ji.Me(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.si=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.vh.si(e,t.bh)})).then((function(e){var n=e.ii,r=e.readTime;return t.bh=r,n}))},e.prototype.Hh=function(){return oe(this,void 0,void 0,(function(){var t,e=this;return ae(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.vh.ri(t)}))];case 1:return t.bh=n.sent(),[2]}}))}))},e}(dh);function yh(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){if(t.code!==Fa.FAILED_PRECONDITION||t.message!==Mc)throw t;return wa("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(){function t(){this.Zh=new ls(bh.ta),this.ea=new ls(bh.na)}return t.prototype._=function(){return this.Zh._()},t.prototype.Fi=function(t,e){var n=new bh(t,e);this.Zh=this.Zh.add(n),this.ea=this.ea.add(n)},t.prototype.sa=function(t,e){var n=this;t.forEach((function(t){return n.Fi(t,e)}))},t.prototype.$i=function(t,e){this.ia(new bh(t,e))},t.prototype.ra=function(t,e){var n=this;t.forEach((function(t){return n.$i(t,e)}))},t.prototype.oa=function(t){var e=this,n=new Ha(new Ba([])),r=new bh(n,t),i=new bh(n,t+1),o=[];return this.ea.vt([r,i],(function(t){e.ia(t),o.push(t.key)})),o},t.prototype.ha=function(){var t=this;this.Zh.forEach((function(e){return t.ia(e)}))},t.prototype.ia=function(t){this.Zh=this.Zh.delete(t),this.ea=this.ea.delete(t)},t.prototype.aa=function(t){var e=new Ha(new Ba([])),n=new bh(e,t),r=new bh(e,t+1),i=bs();return this.ea.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new bh(t,0),n=this.Zh.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),bh=function(){function t(t,e){this.key=t,this.ua=e}return t.ta=function(t,e){return Ha.P(t.key,e.key)||ka(t.ua,e.ua)},t.na=function(t,e){return ka(t.ua,e.ua)||Ha.P(t.key,e.key)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e){if(0!==e.length)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Uh(e.length,"argument")+".")}function _h(t,e,n){if(e.length!==n)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires "+Uh(n,"argument")+", but was called with "+Uh(e.length,"argument")+".")}function Eh(t,e,n){if(e.length<n)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Uh(n,"argument")+", but was called with "+Uh(e.length,"argument")+".")}function Th(t,e,n,r){if(e.length<n||e.length>r)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Uh(e.length,"argument")+".")}function Ih(t,e,n,r){xh(t,e,Fh(n)+" argument",r)}function Sh(t,e,n,r){void 0!==r&&Ih(t,e,n,r)}function Ch(t,e,n,r){xh(t,e,n+" option",r)}function Nh(t,e,n,r){void 0!==r&&Ch(t,e,n,r)}function kh(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(Rh(u))}var c=Rh(r);throw new Ua(Fa.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Ah(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid value "+Rh(r)+" provided to function "+t+"() for its "+Fh(n)+" argument. Acceptable values: "+e.join(", "));return r}function xh(t,e,n,r){if(!("object"===e?Ph(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Rh(r);throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ph(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Rh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ta()}function Oh(t,e,n){if(void 0===n)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Fh(e)+" argument, but it was undefined.")}function Dh(t,e,n){Da(e,(function(e,r){if(n.indexOf(e)<0)throw new Ua(Fa.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Lh(t,e,n,r){var i=Rh(r);return new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires its "+Fh(n)+" argument to be a "+e+", but it was: "+i)}function Mh(t,e,n){if(n<=0)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires its "+Fh(e)+" argument to be a positive number, but it was: "+n+".")}function Fh(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Uh(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(){if("undefined"==typeof Uint8Array)throw new Ua(Fa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vh(){if("undefined"==typeof atob)throw new Ua(Fa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var qh=function(){function t(t){Vh(),this.ca=t}return t.fromBase64String=function(e){_h("Blob.fromBase64String",arguments,1),Ih("Blob.fromBase64String","string",1,e),Vh();try{return new t(ts.fromBase64String(e))}catch(e){throw new Ua(Fa.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(_h("Blob.fromUint8Array",arguments,1),jh(),!(e instanceof Uint8Array))throw Lh("Blob.fromUint8Array","Uint8Array",1,e);return new t(ts.fromUint8Array(e))},t.prototype.toBase64=function(){return _h("Blob.toBase64",arguments,0),Vh(),this.ca.toBase64()},t.prototype.toUint8Array=function(){return _h("Blob.toUint8Array",arguments,0),jh(),this.ca.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ca.isEqual(t.ca)},t}(),Bh=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new Ua(Fa.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Uh(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Ih("FieldPath","string",e,t[e]),0===t[e].length)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.la=new Wa(t)},zh=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return re(e,t),e.documentId=function(){return new e(Wa.L().N())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Lh("isEqual","FieldPath",1,t);return this.la.isEqual(t.la)},e}(Bh),Wh=new RegExp("[~\\*/\\[\\]]"),Hh=function(){this._a=this},Kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).fa=e,n}return re(e,t),e.prototype.da=function(t){if(2!==t.wa)throw 1===t.wa?t.Ta(this.fa+"() can only appear at the top level of your update data"):t.Ta(this.fa+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hh);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e,n){return new uf({wa:3,Ea:e.settings.Ea,methodName:t.fa,Ia:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var Qh=function(t){function e(e){var n=this;return(n=t.call(this)||this).fa=e,n}return re(e,t),e.prototype.da=function(t){return new Bu(t.path,new Ou)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hh),$h=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fa=e,r.ma=n,r}return re(e,t),e.prototype.da=function(t){var e=Gh(this,t,!0),n=this.ma.map((function(t){return df(t,e)})),r=new Du(n);return new Bu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hh),Yh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fa=e,r.ma=n,r}return re(e,t),e.prototype.da=function(t){var e=Gh(this,t,!0),n=this.ma.map((function(t){return df(t,e)})),r=new Mu(n);return new Bu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hh),Xh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fa=e,r.Aa=n,r}return re(e,t),e.prototype.da=function(t){var e=new Uu(t.serializer,ru(t.serializer,this.Aa));return new Bu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hh),Jh=function(t){function e(){return t.call(this)||this}return re(e,t),e.delete=function(){return wh("FieldValue.delete",arguments),new Zh(new Kh("FieldValue.delete"))},e.serverTimestamp=function(){return wh("FieldValue.serverTimestamp",arguments),new Zh(new Qh("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Eh("FieldValue.arrayUnion",arguments,1),new Zh(new $h("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Eh("FieldValue.arrayRemove",arguments,1),new Zh(new Yh("FieldValue.arrayRemove",t))},e.increment=function(t){return Ih("FieldValue.increment","number",1,t),_h("FieldValue.increment",arguments,1),new Zh(new Xh("FieldValue.increment",t))},e}(Hh),Zh=function(t){function e(e){var n=this;return(n=t.call(this)||this)._a=e,n.fa=e.fa,n}return re(e,t),e.prototype.da=function(t){return this._a.da(t)},e.prototype.isEqual=function(t){return t instanceof e&&this._a.isEqual(t._a)},e}(Jh),tf=function(){function t(t,e){if(_h("GeoPoint",arguments,2),Ih("GeoPoint","number",1,t),Ih("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Ua(Fa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ua(Fa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Ra=t,this.Pa=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Ra},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Pa},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.Ra===t.Ra&&this.Pa===t.Pa},t.prototype.T=function(t){return ka(this.Ra,t.Ra)||ka(this.Pa,t.Pa)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){return new tu(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nf=/^__.*__$/,rf=function(t,e,n){this.Va=t,this.ga=e,this.ya=n},of=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.pa=function(t,e){var n=[];return null!==this.Le?n.push(new Zu(t,this.data,this.Le,e)):n.push(new Ju(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ec(t,this.fieldTransforms)),n},t}(),af=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.pa=function(t,e){var n=[new Zu(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new ec(t,this.fieldTransforms)),n},t}();function sf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ta()}}var uf=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ba(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wa",{get:function(){return this.settings.wa},enumerable:!1,configurable:!0}),t.prototype.va=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.Sa=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.va({path:n,Ia:!1});return r.Da(t),r},t.prototype.Ca=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.va({path:n,Ia:!1});return r.ba(),r},t.prototype.Fa=function(t){return this.va({path:void 0,Ia:!0})},t.prototype.Ta=function(t){return wf(t,this.settings.methodName,this.settings.Na||!1,this.path,this.settings.Ea)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.ba=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Da(this.path.get(t))},t.prototype.Da=function(t){if(0===t.length)throw this.Ta("Document fields must not be empty");if(sf(this.wa)&&nf.test(t))throw this.Ta('Document fields cannot begin and end with "__"')},t}(),cf=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||ef(t)}return t.prototype.$a=function(t,e,n,r){return void 0===r&&(r=!1),new uf({wa:t,methodName:e,Ea:n,path:Wa.k(),Ia:!1,Na:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function lf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.$a(o.merge||o.mergeFields?2:0,e,n,i);yf("Data must be an object, but it was:",a,r);var s,u,c=vf(r,a);if(o.merge)s=new qu(a.Le),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=f[h],d=void 0;if(p instanceof Bh)d=p.la;else{if("string"!=typeof p)throw Ta();d=bf(e,p,n)}if(!a.contains(d))throw new Ua(Fa.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_f(l,d)||l.push(d)}s=new qu(l),u=a.fieldTransforms.filter((function(t){return s.Ke(t.field)}))}else s=null,u=a.fieldTransforms;return new of(new ac(c),s,u)}function hf(t,e,n,r){var i=t.$a(1,e,n);yf("Data must be an object, but it was:",i,r);var o=[],a=new sc;Da(r,(function(t,r){var s=bf(e,t,n),u=i.Ca(s);if(r instanceof Hh&&r._a instanceof Kh)o.push(s);else{var c=df(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new qu(o);return new af(a.ze(),s,i.fieldTransforms)}function ff(t,e,n,r,i,o){var a=t.$a(1,e,n),s=[gf(e,r,n)],u=[i];if(o.length%2!=0)throw new Ua(Fa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(gf(e,o[c])),u.push(o[c+1]);for(var l=[],h=new sc,f=s.length-1;f>=0;--f)if(!_f(l,s[f])){var p=s[f],d=u[f],v=a.Ca(p);if(d instanceof Hh&&d._a instanceof Kh)l.push(p);else{var m=df(d,v);null!=m&&(l.push(p),h.set(p,m))}}var y=new qu(l);return new af(h.ze(),y,a.fieldTransforms)}function pf(t,e,n,r){return void 0===r&&(r=!1),df(n,t.$a(r?4:3,e))}function df(t,e){if(mf(t))return yf("Unsupported field value:",e,t),vf(t,e);if(t instanceof Hh)return function(t,e){if(!sf(e.wa))throw e.Ta(t.fa+"() can only be used with update() and set()");if(!e.path)throw e.Ta(t.fa+"() is not currently supported inside arrays");var n=t.da(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.Ia&&4!==e.wa)throw e.Ta("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=df(o[i],e.Fa(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ru(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ja.fromDate(t);return{timestampValue:iu(e.serializer,n)}}if(t instanceof ja){var r=new ja(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:iu(e.serializer,r)}}if(t instanceof tf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qh)return{bytesValue:ou(e.serializer,t)};if(t instanceof rf){var i=e.s,o=t.Va;if(!o.isEqual(i))throw e.Ta("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:uu(t.Va||e.s,t.ga.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Ta("Unsupported field value: "+Rh(t))}(t,e)}function vf(t,e){var n={};return La(t)?e.path&&e.path.length>0&&e.Le.push(e.path):Da(t,(function(t,r){var i=df(r,e.Sa(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function mf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ja||t instanceof tf||t instanceof qh||t instanceof rf||t instanceof Hh)}function yf(t,e,n){if(!mf(n)||!Ph(n)){var r=Rh(n);throw"an object"===r?e.Ta(t+" a custom object"):e.Ta(t+" "+r)}}function gf(t,e,n){if(e instanceof Bh)return e.la;if("string"==typeof e)return bf(t,e);throw wf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function bf(t,e,n){try{return function(t){if(t.search(Wh)>=0)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zh.bind.apply(zh,le([void 0],t.split("."))))}catch(e){throw new Ua(Fa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).la}catch(e){throw wf((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function wf(t,e,n,r,i){var o=r&&!r._(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ua(Fa.INVALID_ARGUMENT,(s+=". ")+t+u)}function _f(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ef=function(){function t(t){this.uid=t}return t.prototype.zr=function(){return null!=this.uid},t.prototype.ka=function(){return this.zr()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ef.UNAUTHENTICATED=new Ef(null),Ef.xa=new Ef("google-credentials-uid"),Ef.Ma=new Ef("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tf=function(t,e){this.user=e,this.type="OAuth",this.Oa={},this.Oa.Authorization="Bearer "+t},If=function(){function t(){this.La=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Ba=function(){},t.prototype.qa=function(t){this.La=t,t(Ef.UNAUTHENTICATED)},t.prototype.Ua=function(){this.La=null},t}(),Sf=function(){function t(t){var e=this;this.Qa=null,this.currentUser=Ef.UNAUTHENTICATED,this.Wa=!1,this.ja=0,this.La=null,this.forceRefresh=!1,this.Qa=function(){e.ja++,e.currentUser=e.Ka(),e.Wa=!0,e.La&&e.La(e.currentUser)},this.ja=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qa):(this.Qa(null),t.get().then((function(t){e.auth=t,e.Qa&&e.auth.addAuthTokenListener(e.Qa)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ja,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ja!==e?(wa("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ia("string"==typeof n.accessToken),new Tf(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Ba=function(){this.forceRefresh=!0},t.prototype.qa=function(t){this.La=t,this.Wa&&t(this.currentUser)},t.prototype.Ua=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qa),this.Qa=null,this.La=null},t.prototype.Ka=function(){var t=this.auth&&this.auth.getUid();return Ia(null===t||"string"==typeof t),new Ef(t)},t}(),Cf=function(){function t(t,e){this.Ga=t,this.za=e,this.type="FirstParty",this.user=Ef.Ma}return Object.defineProperty(t.prototype,"Oa",{get:function(){var t={"X-Goog-AuthUser":this.za},e=this.Ga.auth.Ha([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Nf=function(){function t(t,e){this.Ga=t,this.za=e}return t.prototype.getToken=function(){return Promise.resolve(new Cf(this.Ga,this.za))},t.prototype.qa=function(t){t(Ef.Ma)},t.prototype.Ua=function(){},t.prototype.Ba=function(){},t}(),kf=function(){function t(t,e,n,r,i,o){this.bs=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=o,this.state=0,this.Za=0,this.tu=null,this.stream=null,this.$o=new Bc(t,e)}return t.prototype.eu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.nu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.su()},t.prototype.stop=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.eu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.iu=function(){this.state=0,this.$o.reset()},t.prototype.ru=function(){var t=this;this.nu()&&null===this.tu&&(this.tu=this.bs.Os(this.Ya,6e4,(function(){return t.ou()})))},t.prototype.hu=function(t){this.au(),this.stream.send(t)},t.prototype.ou=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){return this.nu()?[2,this.close(0)]:[2]}))}))},t.prototype.au=function(){this.tu&&(this.tu.cancel(),this.tu=null)},t.prototype.close=function(t,e){return oe(this,void 0,void 0,(function(){return ae(this,(function(n){switch(n.label){case 0:return this.au(),this.$o.cancel(),this.Za++,3!==t?this.$o.reset():e&&e.code===Fa.RESOURCE_EXHAUSTED?(_a(e.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.$o.ks()):e&&e.code===Fa.UNAUTHENTICATED&&this.Xa.Ba(),null!==this.stream&&(this.uu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.cu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.uu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.lu(this.Za),n=this.Za;this.Xa.getToken().then((function(e){t.Za===n&&t._u(e)}),(function(n){e((function(){var e=new Ua(Fa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fu(e)}))}))},t.prototype._u=function(t){var e=this,n=this.lu(this.Za);this.stream=this.du(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.cu((function(t){n((function(){return e.fu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.su=function(){var t=this;this.state=4,this.$o.xs((function(){return oe(t,void 0,void 0,(function(){return ae(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fu=function(t){return wa("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.lu=function(t){var e=this;return function(n){e.bs.cr((function(){return e.Za===t?n():(wa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Af=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return re(e,t),e.prototype.du=function(t){return this.Ja.Tu("Listen",t)},e.prototype.onMessage=function(t){this.$o.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ta()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(Ia(void 0===e||"string"==typeof e),ts.fromBase64String(e||"")):(Ia(void 0===e||e instanceof Uint8Array),ts.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?Fa.UNKNOWN:as(t.code);return new Ua(e,t.message||"")}(a);n=new As(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=hu(t,u.document.name),l=su(u.document.updateTime),h=new ac({mapValue:{fields:u.document.fields}}),f=new lc(c,l,h,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new Ns(p,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var m=hu(t,v.document),y=v.readTime?su(v.readTime):Va.min(),g=new hc(m,y),b=v.removedTargetIds||[];n=new Ns([],b,g.key,g)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var _=hu(t,w.document),E=w.removedTargetIds||[];n=new Ns([],E,_,null)}else{if(!("filter"in e))return Ta();e.filter;var T=e.filter;T.targetId;var I=T.count||0,S=new is(I),C=T.targetId;n=new ks(C,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Va.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Va.min():e.readTime?su(e.readTime):Va.min()}(t);return this.listener.Eu(e,n)},e.prototype.Iu=function(t){var e={};e.database=du(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Za(r)?{documents:bu(t,r)}:{query:wu(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=ou(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ta()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.hu(e)},e.prototype.mu=function(t){var e={};e.database=du(this.serializer),e.removeTarget=t,this.hu(e)},e}(kf),xf=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Au=!1,a}return re(e,t),Object.defineProperty(e.prototype,"Ru",{get:function(){return this.Au},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Au=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.uu=function(){this.Au&&this.Pu([])},e.prototype.du=function(t){return this.Ja.Tu("Write",t)},e.prototype.onMessage=function(t){if(Ia(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Au){this.$o.reset();var e=function(t,e){return t&&t.length>0?(Ia(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?su(t.updateTime):su(e);n.isEqual(Va.min())&&(n=su(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new zu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=su(t.commitTime);return this.listener.Vu(n,e)}return Ia(!t.writeResults||0===t.writeResults.length),this.Au=!0,this.listener.gu()},e.prototype.yu=function(){var t={};t.database=du(this.serializer),this.hu(t)},e.prototype.Pu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return yu(e.serializer,t)}))};this.hu(n)},e}(kf),Pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ja=e,i.credentials=n,i.serializer=r,i.pu=!1,i}return re(e,t),e.prototype.bu=function(){if(this.pu)throw new Ua(Fa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.vu=function(t,e){var n=this;return this.bu(),this.credentials.getToken().then((function(r){return n.Ja.vu(t,e,r)})).catch((function(t){throw t.code===Fa.UNAUTHENTICATED&&n.credentials.Ba(),t}))},e.prototype.Su=function(t,e){var n=this;return this.bu(),this.credentials.getToken().then((function(r){return n.Ja.Su(t,e,r)})).catch((function(t){throw t.code===Fa.UNAUTHENTICATED&&n.credentials.Ba(),t}))},e}((function(){this.je=void 0})),Rf=function(){function t(t){this.Du=t,this.Cu=new Map,this.mutations=[],this.Fu=!1,this.Nu=null,this.$u=new Set}return t.prototype.ku=function(t){return oe(this,void 0,void 0,(function(){var e,n=this;return ae(this,(function(r){switch(r.label){case 0:if(this.xu(),this.mutations.length>0)throw new Ua(Fa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:return n=Sa(t),r={database:du(n.serializer),documents:e.map((function(t){return lu(n.serializer,t)}))},[4,n.Su("BatchGetDocuments",r)];case 1:return i=s.sent(),o=new Map,i.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ia(!!e.found),e.found.name,e.found.updateTime;var n=hu(t,e.found.name),r=su(e.found.updateTime),i=new ac({mapValue:{fields:e.found.fields}});return new lc(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ia(!!e.missing),Ia(!!e.readTime);var n=hu(t,e.missing),r=su(e.readTime);return new hc(n,r)}(t,e):Ta()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Ia(!!e),a.push(e)})),a)]}}))}))}(this.Du,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof hc||t instanceof lc?n.Mu(t):Ta()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.pa(t,this.Ue(t))),this.$u.add(t)},t.prototype.update=function(t,e){try{this.write(e.pa(t,this.Ou(t)))}catch(t){this.Nu=t}this.$u.add(t)},t.prototype.delete=function(t){this.write([new ic(t,this.Ue(t))]),this.$u.add(t)},t.prototype.commit=function(){return oe(this,void 0,void 0,(function(){var t,e=this;return ae(this,(function(n){switch(n.label){case 0:if(this.xu(),this.Nu)throw this.Nu;return t=this.Cu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new Ha(Ba.$(n));e.mutations.push(new oc(r,e.Ue(r)))})),[4,function(t,e){return oe(this,void 0,void 0,(function(){var n,r;return ae(this,(function(i){switch(i.label){case 0:return n=Sa(t),r={database:du(n.serializer),writes:e.map((function(t){return yu(n.serializer,t)}))},[4,n.vu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.Du,this.mutations)];case 1:return n.sent(),this.Fu=!0,[2]}}))}))},t.prototype.Mu=function(t){var e;if(t instanceof lc)e=t.version;else{if(!(t instanceof hc))throw Ta();e=Va.min()}var n=this.Cu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ua(Fa.ABORTED,"Document version changed between two reads.")}else this.Cu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Cu.get(t.toString());return!this.$u.has(t)&&e?Wu.updateTime(e):Wu.Qe()},t.prototype.Ou=function(t){var e=this.Cu.get(t.toString());if(!this.$u.has(t)&&e){if(e.isEqual(Va.min()))throw new Ua(Fa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wu.updateTime(e)}return Wu.exists(!0)},t.prototype.write=function(t){this.xu(),this.mutations=this.mutations.concat(t)},t.prototype.xu=function(){},t}(),Of=function(){function t(t,e){this.mo=t,this.Lu=e,this.state="Unknown",this.Bu=0,this.qu=null,this.Uu=!0}return t.prototype.Qu=function(){var t=this;0===this.Bu&&(this.Wu("Unknown"),this.qu=this.mo.Os("online_state_timeout",1e4,(function(){return t.qu=null,t.ju("Backend didn't respond within 10 seconds."),t.Wu("Offline"),Promise.resolve()})))},t.prototype.Ku=function(t){"Online"===this.state?this.Wu("Unknown"):(this.Bu++,this.Bu>=1&&(this.Gu(),this.ju("Connection failed 1 times. Most recent error: "+t.toString()),this.Wu("Offline")))},t.prototype.set=function(t){this.Gu(),this.Bu=0,"Online"===t&&(this.Uu=!1),this.Wu(t)},t.prototype.Wu=function(t){t!==this.state&&(this.state=t,this.Lu(t))},t.prototype.ju=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Uu?(_a(e),this.Uu=!1):wa("OnlineStateTracker",e)},t.prototype.Gu=function(){null!==this.qu&&(this.qu.cancel(),this.qu=null)},t}(),Df=function(){function t(t,e,n,r,i){var o=this;this.zu=t,this.Du=e,this.mo=n,this.Hu=[],this.Yu=new Map,this.Ju=null,this.Xu=new Set,this.Zu=i,this.Zu.tc((function(t){n.cr((function(){return oe(o,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.ec()?(wa("RemoteStore","Restarting streams for network reachability change."),[4,this.nc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.sc=new Of(n,r),this.ic=function(t,e,n){var r=Sa(t);return new Af(e,r.Ja,r.credentials,r.serializer,n)}(this.Du,n,{wu:this.rc.bind(this),cu:this.oc.bind(this),Eu:this.hc.bind(this)}),this.ac=function(t,e,n){var r=Sa(t);return new xf(e,r.Ja,r.credentials,r.serializer,n)}(this.Du,n,{wu:this.uc.bind(this),cu:this.cc.bind(this),gu:this.lc.bind(this),Vu:this.Vu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Xu.delete(0),this._c()},t.prototype._c=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.ec()?(this.fc()?this.dc():this.sc.set("Unknown"),[4,this.wc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.Xu.add(0),[4,this.Tc()];case 1:return t.sent(),this.sc.set("Offline"),[2]}}))}))},t.prototype.Tc=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return[4,this.ac.stop()];case 1:return t.sent(),[4,this.ic.stop()];case 2:return t.sent(),this.Hu.length>0&&(wa("RemoteStore","Stopping write stream with "+this.Hu.length+" pending writes"),this.Hu=[]),this.Ec(),[2]}}))}))},t.prototype.gr=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return wa("RemoteStore","RemoteStore shutting down."),this.Xu.add(5),[4,this.Tc()];case 1:return t.sent(),this.Zu.gr(),this.sc.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Yu.has(t.targetId)||(this.Yu.set(t.targetId,t),this.fc()?this.dc():this.ic.nu()&&this.Ic(t))},t.prototype.mc=function(t){this.Yu.delete(t),this.ic.nu()&&this.Ac(t),0===this.Yu.size&&(this.ic.nu()?this.ic.ru():this.ec()&&this.sc.set("Unknown"))},t.prototype.Me=function(t){return this.Yu.get(t)||null},t.prototype.xe=function(t){return this.Rc.xe(t)},t.prototype.Ic=function(t){this.Ju.de(t.targetId),this.ic.Iu(t)},t.prototype.Ac=function(t){this.Ju.de(t),this.ic.mu(t)},t.prototype.dc=function(){this.Ju=new Ps(this),this.ic.start(),this.sc.Qu()},t.prototype.fc=function(){return this.ec()&&!this.ic.eu()&&this.Yu.size>0},t.prototype.ec=function(){return 0===this.Xu.size},t.prototype.Ec=function(){this.Ju=null},t.prototype.rc=function(){return oe(this,void 0,void 0,(function(){var t=this;return ae(this,(function(e){return this.Yu.forEach((function(e,n){t.Ic(e)})),[2]}))}))},t.prototype.oc=function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){return this.Ec(),this.fc()?(this.sc.Ku(t),this.dc()):this.sc.set("Unknown"),[2]}))}))},t.prototype.hc=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i;return ae(this,(function(o){switch(o.label){case 0:if(this.sc.set("Online"),!(t instanceof As&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.Pc(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),wa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.Vc(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ns?this.Ju.Pe(t):t instanceof ks?this.Ju.De(t):this.Ju.ye(t),e.isEqual(Va.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.zu.mi()];case 8:return r=o.sent(),e.o(r)>=0?[4,this.gc(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return wa("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,this.Vc(i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.Vc=function(t,e){return oe(this,void 0,void 0,(function(){var n=this;return ae(this,(function(r){switch(r.label){case 0:if(!Jl(t))throw t;return this.Xu.add(1),[4,this.Tc()];case 1:return r.sent(),this.sc.set("Offline"),e||(e=function(){return n.zu.mi()}),this.mo._r((function(){return oe(n,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return wa("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Xu.delete(1),[4,this._c()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.yc=function(t){var e=this;return t().catch((function(n){return e.Vc(n,t)}))},t.prototype.gc=function(t){var e=this,n=this.Ju.Ne(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=e.Yu.get(r);i&&e.Yu.set(r,i.tt(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.Yu.get(t);if(n){e.Yu.set(t,n.tt(ts.Y,n.X)),e.Ac(t);var r=new rs(n.target,t,1,n.sequenceNumber);e.Ic(r)}})),this.Rc.Lh(n)},t.prototype.Pc=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i;return ae(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.Yu.has(i)?[4,this.Rc.pc(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.Yu.delete(i),this.Ju.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.wc=function(){return oe(this,void 0,void 0,(function(){var t,e,n;return ae(this,(function(r){switch(r.label){case 0:t=this.Hu.length>0?this.Hu[this.Hu.length-1].batchId:-1,r.label=1;case 1:if(!this.bc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.zu.Qh(t)];case 3:return null===(e=r.sent())?(0===this.Hu.length&&this.ac.ru(),[3,7]):(t=e.batchId,this.vc(e),[3,6]);case 4:return n=r.sent(),[4,this.Vc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Sc()&&this.Dc(),[2]}}))}))},t.prototype.bc=function(){return this.ec()&&this.Hu.length<10},t.prototype.Cc=function(){return this.Hu.length},t.prototype.vc=function(t){this.Hu.push(t),this.ac.nu()&&this.ac.Ru&&this.ac.Pu(t.mutations)},t.prototype.Sc=function(){return this.ec()&&!this.ac.eu()&&this.Hu.length>0},t.prototype.Dc=function(){this.ac.start()},t.prototype.uc=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){return this.ac.yu(),[2]}))}))},t.prototype.lc=function(){return oe(this,void 0,void 0,(function(){var t,e,n;return ae(this,(function(r){for(t=0,e=this.Hu;t<e.length;t++)n=e[t],this.ac.Pu(n.mutations);return[2]}))}))},t.prototype.Vu=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i=this;return ae(this,(function(o){switch(o.label){case 0:return n=this.Hu.shift(),r=Oc.from(n,t,e),[4,this.yc((function(){return i.Rc.Fc(r)}))];case 1:return o.sent(),[4,this.wc()];case 2:return o.sent(),[2]}}))}))},t.prototype.cc=function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return t&&this.ac.Ru?[4,this.Nc(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Sc()&&this.Dc(),[2]}}))}))},t.prototype.Nc=function(t){return oe(this,void 0,void 0,(function(){var e,n,r=this;return ae(this,(function(i){switch(i.label){case 0:return os(n=t.code)&&n!==Fa.ABORTED?(e=this.Hu.shift(),this.ac.iu(),[4,this.yc((function(){return r.Rc.$c(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.wc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.kc=function(){return new Rf(this.Du)},t.prototype.nc=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.Xu.add(4),[4,this.Tc()];case 1:return t.sent(),this.sc.set("Unknown"),this.ac.iu(),this.ic.iu(),this.Xu.delete(4),[4,this._c()];case 2:return t.sent(),[2]}}))}))},t.prototype.xc=function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return this.mo.Wo(),wa("RemoteStore","RemoteStore received new credentials"),this.Xu.add(3),[4,this.Tc()];case 1:return e.sent(),this.sc.set("Unknown"),[4,this.Rc.xc(t)];case 2:return e.sent(),this.Xu.delete(3),[4,this._c()];case 3:return e.sent(),[2]}}))}))},t.prototype.Mc=function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return t?(this.Xu.delete(2),[4,this._c()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Xu.add(2),[4,this.Tc()]);case 3:e.sent(),this.sc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e){return"firestore_clients_"+t+"_"+e}function Mf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.zr()&&(r+="_"+e.uid),r}function Ff(t,e){return"firestore_targets_"+t+"_"+e}var Uf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Oc=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new Ua(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(_a("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Lc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jf=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Oc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Ua(r.error.code,r.error.message)),i?new t(e,r.state,o):(_a("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Lc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Oc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=_s(),a=0;i&&a<r.activeTargetIds.length;++a)i=Qa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(_a("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Oc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(_a("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bf=function(){function t(){this.activeTargetIds=_s()}return t.prototype.Bc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.qc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Lc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zf=function(){function t(t,e,n,r,i){this.window=t,this.bs=e,this.persistenceKey=n,this.Uc=r,this.Rc=null,this.Lu=null,this.Ps=null,this.Qc=this.Wc.bind(this),this.jc=new ss(ka),this.or=!1,this.Kc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Gc=Lf(this.persistenceKey,this.Uc),this.zc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.jc=this.jc.nt(this.Uc,new Bf),this.Hc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Yc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Jc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Xc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Qc)}return t.Hi=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return oe(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return ae(this,(function(f){switch(f.label){case 0:return[4,this.Rc.Sr()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Uc&&(i=this.getItem(Lf(this.persistenceKey,r)))&&(o=Vf.Oc(r,i))&&(this.jc=this.jc.nt(o.clientId,o));for(this.Zc(),(a=this.storage.getItem(this.Xc))&&(s=this.tl(a))&&this.el(s),u=0,c=this.Kc;u<c.length;u++)l=c[u],this.Wc(l);return this.Kc=[],this.window.addEventListener("unload",(function(){return h.gr()})),this.or=!0,[2]}}))}))},t.prototype.ys=function(t){this.setItem(this.zc,JSON.stringify(t))},t.prototype.nl=function(){return this.sl(this.jc)},t.prototype.il=function(t){var e=!1;return this.jc.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.rl=function(t){this.ol(t,"pending")},t.prototype.hl=function(t,e,n){this.ol(t,e,n),this.al(t)},t.prototype.ul=function(t){var e="not-current";if(this.il(t)){var n=this.storage.getItem(Ff(this.persistenceKey,t));if(n){var r=jf.Oc(t,n);r&&(e=r.state)}}return this.cl.Bc(t),this.Zc(),e},t.prototype.ll=function(t){this.cl.qc(t),this.Zc()},t.prototype._l=function(t){return this.cl.activeTargetIds.has(t)},t.prototype.fl=function(t){this.removeItem(Ff(this.persistenceKey,t))},t.prototype.dl=function(t,e,n){this.wl(t,e,n)},t.prototype.Ch=function(t,e,n){var r=this;e.forEach((function(t){r.al(t)})),this.currentUser=t,n.forEach((function(t){r.rl(t)}))},t.prototype.Tl=function(t){this.El(t)},t.prototype.gr=function(){this.or&&(this.window.removeEventListener("storage",this.Qc),this.removeItem(this.Gc),this.or=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return wa("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){wa("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){wa("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Wc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(wa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Gc)return void _a("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bs._r((function(){return oe(e,void 0,void 0,(function(){var t,e,r,i,o,a;return ae(this,(function(s){if(this.or){if(null!==n.key)if(this.Hc.test(n.key)){if(null==n.newValue)return t=this.Il(n.key),[2,this.ml(t,null)];if(e=this.Al(n.key,n.newValue))return[2,this.ml(e.clientId,e)]}else if(this.Yc.test(n.key)){if(null!==n.newValue&&(r=this.Rl(n.key,n.newValue)))return[2,this.Pl(r)]}else if(this.Jc.test(n.key)){if(null!==n.newValue&&(i=this.Vl(n.key,n.newValue)))return[2,this.gl(i)]}else if(n.key===this.Xc){if(null!==n.newValue&&(o=this.tl(n.newValue)))return[2,this.el(o)]}else n.key===this.zc&&(a=function(t){var e=Vc.ps;if(null!=t)try{var n=JSON.parse(t);Ia("number"==typeof n),e=n}catch(t){_a("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Vc.ps&&this.Ps(a)}else this.Kc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"cl",{get:function(){return this.jc.get(this.Uc)},enumerable:!1,configurable:!0}),t.prototype.Zc=function(){this.setItem(this.Gc,this.cl.Lc())},t.prototype.ol=function(t,e,n){var r=new Uf(this.currentUser,t,e,n),i=Mf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Lc())},t.prototype.al=function(t){var e=Mf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.El=function(t){var e={clientId:this.Uc,onlineState:t};this.storage.setItem(this.Xc,JSON.stringify(e))},t.prototype.wl=function(t,e,n){var r=Ff(this.persistenceKey,t),i=new jf(t,e,n);this.setItem(r,i.Lc())},t.prototype.Il=function(t){var e=this.Hc.exec(t);return e?e[1]:null},t.prototype.Al=function(t,e){var n=this.Il(t);return Vf.Oc(n,e)},t.prototype.Rl=function(t,e){var n=this.Yc.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Uf.Oc(new Ef(i),r,e)},t.prototype.Vl=function(t,e){var n=this.Jc.exec(t),r=Number(n[1]);return jf.Oc(r,e)},t.prototype.tl=function(t){return qf.Oc(t)},t.prototype.Pl=function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Rc.yl(t.batchId,t.state,t.error)]:(wa("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.gl=function(t){return this.Rc.pl(t.targetId,t.state,t.error)},t.prototype.ml=function(t,e){var n=this,r=e?this.jc.nt(t,e):this.jc.remove(t),i=this.sl(this.jc),o=this.sl(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.Rc.bl(a,s).then((function(){n.jc=r}))},t.prototype.el=function(t){this.jc.get(t.clientId)&&this.Lu(t.onlineState)},t.prototype.sl=function(t){var e=_s();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),Wf=function(){function t(){this.vl=new Bf,this.Sl={},this.Rc=null,this.Lu=null,this.Ps=null}return t.prototype.rl=function(t){},t.prototype.hl=function(t,e,n){},t.prototype.ul=function(t){return this.vl.Bc(t),this.Sl[t]||"not-current"},t.prototype.dl=function(t,e,n){this.Sl[t]=e},t.prototype.ll=function(t){this.vl.qc(t)},t.prototype._l=function(t){return this.vl.activeTargetIds.has(t)},t.prototype.fl=function(t){delete this.Sl[t]},t.prototype.nl=function(){return this.vl.activeTargetIds},t.prototype.il=function(t){return this.vl.activeTargetIds.has(t)},t.prototype.start=function(){return this.vl=new Bf,Promise.resolve()},t.prototype.Ch=function(t,e,n){},t.prototype.Tl=function(t){},t.prototype.gr=function(){},t.prototype.ys=function(t){},t}(),Hf=function(t){this.key=t},Kf=function(t){this.key=t},Gf=function(){function t(t,e){this.query=t,this.Dl=e,this.Cl=null,this.Ht=!1,this.Fl=bs(),this.Lt=bs(),this.Nl=gc(t),this.$l=new Es(this.Nl)}return Object.defineProperty(t.prototype,"kl",{get:function(){return this.Dl},enumerable:!1,configurable:!0}),t.prototype.xl=function(t,e){var n=this,r=e?e.Ml:new Ts,i=e?e.$l:this.$l,o=e?e.Lt:this.Lt,a=i,s=!1,u=this.query.In()&&i.size===this.query.limit?i.last():null,c=this.query.mn()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var l=i.get(t),h=e instanceof lc?e:null;h&&(h=yc(n.query,h)?h:null);var f=!!l&&n.Lt.has(l.key),p=!!h&&(h.Ge||n.Lt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ol(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.Nl(h,u)>0||c&&n.Nl(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.In()||this.query.mn())for(;a.size>this.query.limit;){var l=this.query.In()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{$l:a,Ml:r,Ll:s,Lt:o}},t.prototype.Ol=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Jn=function(t,e,n){var r=this,i=this.$l;this.$l=t.$l,this.Lt=t.Lt;var o=t.Ml.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ta()}};return n(t)-n(e)}(t.type,e.type)||r.Nl(t.doc,e.doc)})),this.Bl(n);var a=e?this.ql():[],s=0===this.Fl.size&&this.Ht?1:0,u=s!==this.Cl;return this.Cl=s,0!==o.length||u?{snapshot:new Is(this.query,t.$l,i,o,t.Lt,0===s,u,!1),Ul:a}:{Ul:a}},t.prototype.Ql=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Jn({$l:this.$l,Ml:new Ts,Lt:this.Lt,Ll:!1},!1)):{Ul:[]}},t.prototype.Wl=function(t){return!this.Dl.has(t)&&!!this.$l.has(t)&&!this.$l.get(t).Ge},t.prototype.Bl=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Dl=e.Dl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Dl=e.Dl.delete(t)})),this.Ht=t.Ht)},t.prototype.ql=function(){var t=this;if(!this.Ht)return[];var e=this.Fl;this.Fl=bs(),this.$l.forEach((function(e){t.Wl(e.key)&&(t.Fl=t.Fl.add(e.key))}));var n=[];return e.forEach((function(e){t.Fl.has(e)||n.push(new Kf(e))})),this.Fl.forEach((function(t){e.has(t)||n.push(new Hf(t))})),n},t.prototype.jl=function(t){this.Dl=t.zh,this.Fl=bs();var e=this.xl(t.documents);return this.Jn(e,!0)},t.prototype.Kl=function(){return Is.Ut(this.query,this.$l,this.Lt,0===this.Cl)},t}(),Qf=function(){function t(t,e,n,r){this.mo=t,this.Du=e,this.updateFunction=n,this.Po=r,this.Gl=5,this.$o=new Bc(this.mo,"transaction_retry")}return t.prototype.run=function(){this.zl()},t.prototype.zl=function(){var t=this;this.$o.xs((function(){return oe(t,void 0,void 0,(function(){var t,e,n=this;return ae(this,(function(r){return t=new Rf(this.Du),(e=this.Hl(t))&&e.then((function(e){n.mo.cr((function(){return t.commit().then((function(){n.Po.resolve(e)})).catch((function(t){n.Yl(t)}))}))})).catch((function(t){n.Yl(t)})),[2]}))}))}))},t.prototype.Hl=function(t){try{var e=this.updateFunction(t);return!Ka(e)&&e.catch&&e.then?e:(this.Po.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Po.reject(t),null}},t.prototype.Yl=function(t){var e=this;this.Gl>0&&this.Jl(t)?(this.Gl-=1,this.mo.cr((function(){return e.zl(),Promise.resolve()}))):this.Po.reject(t)},t.prototype.Jl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!os(e)}return!1},t}(),$f=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yf=function(t){this.key=t,this.Xl=!1},Xf=function(){function t(t,e,n,r,i,o){this.zu=t,this.Zl=e,this.Du=n,this.t_=r,this.currentUser=i,this.e_=o,this.n_=null,this.s_=new Ma((function(t){return vc(t)}),dc),this.i_=new Map,this.r_=[],this.o_=new ss(Ha.P),this.h_=new Map,this.a_=new gh,this.u_={},this.c_=new Map,this.l_=fl.di(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"__",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.n_=t},t.prototype.listen=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o;return ae(this,(function(a){switch(a.label){case 0:return this.f_("listen()"),(r=this.s_.get(t))?(e=r.targetId,this.t_.ul(e),n=r.view.Kl(),[3,4]):[3,1];case 1:return[4,this.zu.jh(t.We())];case 2:return i=a.sent(),o=this.t_.ul(i.targetId),e=i.targetId,[4,this.d_(t,e,"current"===o)];case 3:n=a.sent(),this.__&&this.Zl.listen(i),a.label=4;case 4:return[2,n]}}))}))},t.prototype.d_=function(t,e,n){return oe(this,void 0,void 0,(function(){var r,i,o,a,s,u;return ae(this,(function(c){switch(c.label){case 0:return[4,this.zu.Gh(t,!0)];case 1:return r=c.sent(),i=new Gf(t,r.zh),o=i.xl(r.documents),a=Cs.zt(e,n&&"Offline"!==this.onlineState),s=i.Jn(o,this.__,a),this.w_(e,s.Ul),u=new $f(t,e,i),[2,(this.s_.set(t,u),this.i_.has(e)?this.i_.get(e).push(t):this.i_.set(e,[t]),s.snapshot)]}}))}))},t.prototype.mc=function(t){return oe(this,void 0,void 0,(function(){var e,n,r=this;return ae(this,(function(i){switch(i.label){case 0:return this.f_("unlisten()"),e=this.s_.get(t),(n=this.i_.get(e.targetId)).length>1?[2,(this.i_.set(e.targetId,n.filter((function(e){return!dc(e,t)}))),void this.s_.delete(t))]:this.__?(this.t_.ll(e.targetId),this.t_.il(e.targetId)?[3,2]:[4,this.zu.Kh(e.targetId,!1).then((function(){r.t_.fl(e.targetId),r.Zl.mc(e.targetId),r.T_(e.targetId)})).catch(yh)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.T_(e.targetId),[4,this.zu.Kh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i;return ae(this,(function(o){switch(o.label){case 0:this.f_("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.zu.kh(t)];case 2:return n=o.sent(),this.t_.rl(n.batchId),this.E_(n.batchId,e),[4,this.I_(n.Un)];case 3:return o.sent(),[4,this.Zl.wc()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),i=sh(r,"Failed to persist write"),e.reject(i),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Qf(t,this.Du,e,n).run()},t.prototype.Lh=function(t){return oe(this,void 0,void 0,(function(){var e,n=this;return ae(this,(function(r){switch(r.label){case 0:this.f_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zu.Lh(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.h_.get(e);r&&(Ia(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.Xl=!0:t.Jt.size>0?Ia(r.Xl):t.Xt.size>0&&(Ia(r.Xl),r.Xl=!1))})),[4,this.I_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,yh(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Ql=function(t,e){this.f_("applyOnlineStateChange()");var n=[];this.s_.forEach((function(e,r){var i=r.view.Ql(t);i.snapshot&&n.push(i.snapshot)})),this.n_.m_(t),this.n_.Eu(n),this.onlineState=t},t.prototype.pc=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a,s=this;return ae(this,(function(u){switch(u.label){case 0:return this.f_("rejectListens()"),this.t_.dl(t,"rejected",e),n=this.h_.get(t),(r=n&&n.key)?(i=(i=new ss(Ha.P)).nt(r,new hc(r,Va.min())),o=bs().add(r),a=new Ss(Va.min(),new Map,new ls(ka),i,o),[4,this.Lh(a)]):[3,2];case 1:return u.sent(),this.o_=this.o_.remove(r),this.h_.delete(t),this.A_(),[3,4];case 2:return[4,this.zu.Kh(t,!1).then((function(){return s.T_(t,e)})).catch(yh)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))},t.prototype.Fc=function(t){return oe(this,void 0,void 0,(function(){var e,n;return ae(this,(function(r){switch(r.label){case 0:this.f_("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zu.xh(t)];case 2:return n=r.sent(),this.R_(e,null),this.P_(e),this.t_.hl(e,"acknowledged"),[4,this.I_(n)];case 3:return r.sent(),[3,6];case 4:return[4,yh(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.$c=function(t,e){return oe(this,void 0,void 0,(function(){var n;return ae(this,(function(r){switch(r.label){case 0:this.f_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zu.Oh(t)];case 2:return n=r.sent(),this.R_(t,e),this.P_(t),this.t_.hl(t,"rejected",e),[4,this.I_(n)];case 3:return r.sent(),[3,6];case 4:return[4,yh(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.V_=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i;return ae(this,(function(o){switch(o.label){case 0:this.Zl.ec()||wa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.zu.to()];case 2:return-1===(e=o.sent())?[2,void t.resolve()]:((n=this.c_.get(e)||[]).push(t),this.c_.set(e,n),[3,4]);case 3:return r=o.sent(),i=sh(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}}))}))},t.prototype.P_=function(t){(this.c_.get(t)||[]).forEach((function(t){t.resolve()})),this.c_.delete(t)},t.prototype.g_=function(t){this.c_.forEach((function(e){e.forEach((function(e){e.reject(new Ua(Fa.CANCELLED,t))}))})),this.c_.clear()},t.prototype.E_=function(t,e){var n=this.u_[this.currentUser.ka()];n||(n=new ss(ka)),n=n.nt(t,e),this.u_[this.currentUser.ka()]=n},t.prototype.R_=function(t,e){var n=this.u_[this.currentUser.ka()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.u_[this.currentUser.ka()]=n}},t.prototype.T_=function(t,e){var n=this;void 0===e&&(e=null),this.t_.ll(t);for(var r=0,i=this.i_.get(t);r<i.length;r++){var o=i[r];this.s_.delete(o),e&&this.n_.y_(o,e)}this.i_.delete(t),this.__&&this.a_.oa(t).forEach((function(t){n.a_.Mi(t)||n.p_(t)}))},t.prototype.p_=function(t){var e=this.o_.get(t);null!==e&&(this.Zl.mc(e),this.o_=this.o_.remove(t),this.h_.delete(e),this.A_())},t.prototype.w_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Hf?(this.a_.Fi(i.key,t),this.b_(i)):i instanceof Kf?(wa("SyncEngine","Document no longer in limbo: "+i.key),this.a_.$i(i.key,t),this.a_.Mi(i.key)||this.p_(i.key)):Ta()}},t.prototype.b_=function(t){var e=t.key;this.o_.get(e)||(wa("SyncEngine","New document in limbo: "+e),this.r_.push(e),this.A_())},t.prototype.A_=function(){for(;this.r_.length>0&&this.o_.size<this.e_;){var t=this.r_.shift(),e=this.l_.next();this.h_.set(e,new Yf(t)),this.o_=this.o_.nt(t,e),this.Zl.listen(new rs(pc.hn(t.path).We(),e,2,Vc.ps))}},t.prototype.v_=function(){return this.o_},t.prototype.S_=function(){return this.r_},t.prototype.I_=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o=this;return ae(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.s_.forEach((function(a,s){i.push(Promise.resolve().then((function(){var e=s.view.xl(t);return e.Ll?o.zu.Gh(s.query,!1).then((function(t){var n=t.documents;return s.view.xl(n,e)})):e})).then((function(t){var i=e&&e.Qt.get(s.targetId),a=s.view.Jn(t,o.__,i);if(o.w_(s.targetId,a.Ul),a.snapshot){o.__&&o.t_.dl(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=jc.Rs(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.n_.Eu(n),[4,this.zu.Uh(r)];case 2:return a.sent(),[2]}}))}))},t.prototype.f_=function(t){},t.prototype.xc=function(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(wa("SyncEngine","User change. New user:",t.ka()),[4,this.zu.Ch(t)]);case 1:return e=n.sent(),this.currentUser=t,this.g_("'waitForPendingWrites' promise is rejected due to a user change."),this.t_.Ch(t,e.Nh,e.$h),[4,this.I_(e.Fh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Zl.enableNetwork()},t.prototype.disableNetwork=function(){return this.Zl.disableNetwork()},t.prototype.xe=function(t){var e=this.h_.get(t);if(e&&e.Xl)return bs().add(e.key);var n=bs(),r=this.i_.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=o[i],s=this.s_.get(a);n=n.Ct(s.view.kl)}return n},t}();function Jf(t,e,n,r,i,o){return new Xf(t,e,n,r,i,o)}var Zf=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,o,a)||this).zu=e,s.D_=void 0,s}return re(e,t),Object.defineProperty(e.prototype,"__",{get:function(){return!0===this.D_},enumerable:!1,configurable:!0}),e.prototype.enableNetwork=function(){return this.zu.ur(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.zu.ur(!1),t.prototype.disableNetwork.call(this)},e.prototype.C_=function(t){return oe(this,void 0,void 0,(function(){var e,n;return ae(this,(function(r){switch(r.label){case 0:return[4,this.zu.Gh(t.query,!0)];case 1:return e=r.sent(),n=t.view.jl(e),[2,(this.D_&&this.w_(t.targetId,n.Ul),n)]}}))}))},e.prototype.Ql=function(e,n){this.__&&0===n&&(t.prototype.Ql.call(this,e,n),this.t_.Tl(e)),this.__||1!==n||t.prototype.Ql.call(this,e,n)},e.prototype.yl=function(t,e,n){return oe(this,void 0,void 0,(function(){var r;return ae(this,(function(i){switch(i.label){case 0:return this.f_("applyBatchState()"),[4,this.zu.Yh(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Zl.wc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.R_(t,n||null),this.zu.Jh(t)):Ta(),i.label=4;case 4:return[4,this.I_(r)];case 5:return i.sent(),[3,7];case 6:wa("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.Mc=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u=this;return ae(this,(function(c){switch(c.label){case 0:return!0!==t||!0===this.D_?[3,3]:(e=this.t_.nl(),[4,this.F_(e.F(),!0)]);case 1:return n=c.sent(),this.D_=!0,[4,this.Zl.Mc(!0)];case 2:for(c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.Zl.listen(o);return[3,7];case 3:return!1!==t||!1===this.D_?[3,7]:(a=[],s=Promise.resolve(),this.i_.forEach((function(t,e){u.t_._l(e)?a.push(e):s=s.then((function(){return u.T_(e),u.zu.Kh(e,!0)})),u.Zl.mc(e)})),[4,s]);case 4:return c.sent(),[4,this.F_(a,!1)];case 5:return c.sent(),this.N_(),this.D_=!1,[4,this.Zl.Mc(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},e.prototype.N_=function(){var t=this;this.h_.forEach((function(e,n){t.Zl.mc(n)})),this.a_.ha(),this.h_=new Map,this.o_=new ss(Ha.P)},e.prototype.F_=function(t,e){return oe(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,p;return ae(this,(function(d){switch(d.label){case 0:e=[],n=[],r=0,i=t,d.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.i_.get(o))&&0!==s.length?[4,this.zu.jh(s[0].We())]:[3,7]):[3,13];case 2:a=d.sent(),u=0,c=s,d.label=3;case 3:return u<c.length?(l=c[u],h=this.s_.get(l),[4,this.C_(h)]):[3,6];case 4:(f=d.sent()).snapshot&&n.push(f.snapshot),d.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,this.zu.Xh(o)];case 8:return p=d.sent(),[4,this.zu.jh(p)];case 9:return a=d.sent(),[4,this.d_(this.k_(p),o,!1)];case 10:d.sent(),d.label=11;case 11:e.push(a),d.label=12;case 12:return r++,[3,1];case 13:return[2,(this.n_.Eu(n),e)]}}))}))},e.prototype.k_=function(t){return new pc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.Sr=function(){return this.zu.Sr()},e.prototype.pl=function(t,e,n){return oe(this,void 0,void 0,(function(){var r,i;return ae(this,(function(o){switch(o.label){case 0:return this.D_?(wa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.i_.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.zu.si()];case 3:return r=o.sent(),i=Ss.Gt(t,"current"===e),[4,this.I_(r,i)];case 4:return o.sent(),[3,8];case 5:return[4,this.zu.Kh(t,!0)];case 6:return o.sent(),this.T_(t,n),[3,8];case 7:Ta(),o.label=8;case 8:return[2]}}))}))},e.prototype.bl=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f=this;return ae(this,(function(p){switch(p.label){case 0:if(!this.D_)return[3,10];n=0,r=t,p.label=1;case 1:return n<r.length?(i=r[n],this.i_.has(i)?(wa("SyncEngine","Adding an already active target "+i),[3,5]):[4,this.zu.Xh(i)]):[3,6];case 2:return o=p.sent(),[4,this.zu.jh(o)];case 3:return a=p.sent(),[4,this.d_(this.k_(o),a.targetId,!1)];case 4:p.sent(),this.Zl.listen(a),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return ae(this,(function(e){switch(e.label){case 0:return u.i_.has(t)?[4,u.zu.Kh(t,!1).then((function(){f.Zl.mc(t),f.T_(t)})).catch(yh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},u=this,c=0,l=e,p.label=7;case 7:return c<l.length?(h=l[c],[5,s(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e}(Xf),tp=function(){this.x_=void 0,this.listeners=[]},ep=function(){function t(t){this.Rc=t,this.M_=new Ma((function(t){return vc(t)}),dc),this.onlineState="Unknown",this.O_=new Set,this.Rc.subscribe(this)}return t.prototype.listen=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:if(e=t.query,n=!1,(r=this.M_.get(e))||(n=!0,r=new tp),!n)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),i=r,[4,this.Rc.listen(e)];case 2:return i.x_=s.sent(),[3,4];case 3:return o=s.sent(),a=sh(o,"Initialization of query '"+mc(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.M_.set(e,r),r.listeners.push(t),t.Ql(this.onlineState),r.x_&&t.L_(r.x_)&&this.B_(),[2]}}))}))},t.prototype.mc=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i;return ae(this,(function(o){return e=t.query,n=!1,(r=this.M_.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?[2,(this.M_.delete(e),this.Rc.mc(e))]:[2]}))}))},t.prototype.Eu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.M_.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].L_(i)&&(e=!0);a.x_=i}}e&&this.B_()},t.prototype.y_=function(t,e){var n=this.M_.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.M_.delete(t)},t.prototype.m_=function(t){this.onlineState=t;var e=!1;this.M_.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Ql(t)&&(e=!0)})),e&&this.B_()},t.prototype.q_=function(t){this.O_.add(t),t.next()},t.prototype.U_=function(t){this.O_.delete(t)},t.prototype.B_=function(){this.O_.forEach((function(t){t.next()}))},t}(),np=function(){function t(t,e,n){this.query=t,this.Q_=e,this.W_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.L_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Is(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.Bt,!0)}var o=!1;return this.W_?this.K_(t)&&(this.Q_.next(t),o=!0):this.G_(t,this.onlineState)&&(this.z_(t),o=!0),this.j_=t,o},t.prototype.onError=function(t){this.Q_.error(t)},t.prototype.Ql=function(t){this.onlineState=t;var e=!1;return this.j_&&!this.W_&&this.G_(this.j_,t)&&(this.z_(this.j_),e=!0),e},t.prototype.G_=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.H_&&n||t.docs._()&&"Offline"!==e)},t.prototype.K_=function(t){if(t.docChanges.length>0)return!0;var e=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.z_=function(t){t=Is.Ut(t.query,t.docs,t.Lt,t.fromCache),this.W_=!0,this.Q_.next(t)},t}(),rp=function(){function t(){}return t.prototype.Dh=function(t){this.Y_=t},t.prototype._s=function(t,e,n,r){var i=this;return e.En()||n.isEqual(Va.min())?this.J_(t,e):this.Y_.us(t,r).next((function(o){var a=i.X_(e,o);return(e.In()||e.mn())&&i.Ll(e.nn,a,r,n)?i.J_(t,e):(ba()<=Xe.DEBUG&&wa("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),mc(e)),i.Y_._s(t,e,n).next((function(t){return a.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.X_=function(t,e){var n=new ls(gc(t));return e.forEach((function(e,r){r instanceof lc&&yc(t,r)&&(n=n.add(r))})),n},t.prototype.Ll=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.J_=function(t,e){return ba()<=Xe.DEBUG&&wa("IndexFreeQueryEngine","Using full collection scan to execute query:",mc(e)),this.Y_._s(t,e,Va.min())},t}(),ip=function(){function t(t,e){this.ss=t,this.wi=e,this.ns=[],this.Z_=1,this.tf=new ls(bh.ta)}return t.prototype.Hr=function(t){return Dc.resolve(0===this.ns.length)},t.prototype.Yr=function(t,e,n,r){var i=this.Z_;this.Z_++,this.ns.length>0&&this.ns[this.ns.length-1];var o=new Rc(i,e,n,r);this.ns.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.tf=this.tf.add(new bh(u.key,i)),this.ss.Us(t,u.key.path.p())}return Dc.resolve(o)},t.prototype.Jr=function(t,e){return Dc.resolve(this.ef(e))},t.prototype.Zr=function(t,e){var n=e+1,r=this.nf(n),i=r<0?0:r;return Dc.resolve(this.ns.length>i?this.ns[i]:null)},t.prototype.to=function(){return Dc.resolve(0===this.ns.length?-1:this.Z_-1)},t.prototype.eo=function(t){return Dc.resolve(this.ns.slice())},t.prototype.os=function(t,e){var n=this,r=new bh(e,0),i=new bh(e,Number.POSITIVE_INFINITY),o=[];return this.tf.vt([r,i],(function(t){var e=n.ef(t.ua);o.push(e)})),Dc.resolve(o)},t.prototype.ls=function(t,e){var n=this,r=new ls(ka);return e.forEach((function(t){var e=new bh(t,0),i=new bh(t,Number.POSITIVE_INFINITY);n.tf.vt([e,i],(function(t){r=r.add(t.ua)}))})),Dc.resolve(this.sf(r))},t.prototype.Es=function(t,e){var n=e.path,r=n.length+1,i=n;Ha.W(i)||(i=i.child(""));var o=new bh(new Ha(i),0),a=new ls(ka);return this.tf.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(a=a.add(t.ua)),!0)}),o),Dc.resolve(this.sf(a))},t.prototype.sf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.ef(t);null!==r&&n.push(r)})),n},t.prototype.so=function(t,e){var n=this;Ia(0===this.if(e.batchId,"removed")),this.ns.shift();var r=this.tf;return Dc.forEach(e.mutations,(function(i){var o=new bh(i.key,e.batchId);return r=r.delete(o),n.wi.qr(t,i.key)})).next((function(){n.tf=r}))},t.prototype.io=function(t){},t.prototype.Mi=function(t,e){var n=new bh(e,0),r=this.tf.Dt(n);return Dc.resolve(e.isEqual(r&&r.key))},t.prototype.ro=function(t){return this.ns.length,Dc.resolve()},t.prototype.if=function(t,e){return this.nf(t)},t.prototype.nf=function(t){return 0===this.ns.length?0:t-this.ns[0].batchId},t.prototype.ef=function(t){var e=this.nf(t);return e<0||e>=this.ns.length?null:this.ns[e]},t}(),op=function(){function t(t,e){this.ss=t,this.rf=e,this.docs=new ss(Ha.P),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.rf(e);return this.docs=this.docs.nt(r,{Ys:e,size:a,readTime:n}),this.size+=a-o,this.ss.Us(t,r.path.p())},t.prototype.Gn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.zn=function(t,e){var n=this.docs.get(e);return Dc.resolve(n?n.Ys:null)},t.prototype.getEntries=function(t,e){var n=this,r=ds();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Ys:null)})),Dc.resolve(r)},t.prototype._s=function(t,e,n){for(var r=ms(),i=new Ha(e.path.child("")),o=this.docs.ut(i);o.wt();){var a=o.dt(),s=a.key,u=a.value,c=u.Ys,l=u.readTime;if(!e.path.D(s.path))break;l.o(n)<=0||c instanceof lc&&yc(e,c)&&(r=r.nt(c.key,c))}return Dc.resolve(r)},t.prototype.hf=function(t,e){return Dc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.oi=function(e){return new t.hi(this)},t.prototype.ui=function(t){return Dc.resolve(this.size)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */op.hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).ci=e,n}return re(e,t),e.prototype.Jn=function(t){var e=this,n=[];return this.Un.forEach((function(r,i){i?n.push(e.ci.jn(t,i,e.readTime)):e.ci.Gn(r)})),Dc.Bn(n)},e.prototype.Hn=function(t,e){return this.ci.zn(t,e)},e.prototype.Yn=function(t,e){return this.ci.getEntries(t,e)},e}(Lc);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ap=function(){function t(t){this.persistence=t,this.af=new Ma((function(t){return Xa(t)}),Ja),this.lastRemoteSnapshotVersion=Va.min(),this.highestTargetId=0,this.uf=0,this.cf=new gh,this.targetCount=0,this.lf=fl.fi()}return t.prototype.pe=function(t,e){return this.af.forEach((function(t,n){return e(n)})),Dc.resolve()},t.prototype.mi=function(t){return Dc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ai=function(t){return Dc.resolve(this.uf)},t.prototype.Ti=function(t){return this.highestTargetId=this.lf.next(),Dc.resolve(this.highestTargetId)},t.prototype.Ri=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.uf&&(this.uf=e),Dc.resolve()},t.prototype.Vi=function(t){this.af.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.lf=new fl(e),this.highestTargetId=e),t.sequenceNumber>this.uf&&(this.uf=t.sequenceNumber)},t.prototype.Pi=function(t,e){return this.Vi(e),this.targetCount+=1,Dc.resolve()},t.prototype.yi=function(t,e){return this.Vi(e),Dc.resolve()},t.prototype.pi=function(t,e){return this.af.delete(e.target),this.cf.oa(e.targetId),this.targetCount-=1,Dc.resolve()},t.prototype.vi=function(t,e,n){var r=this,i=0,o=[];return this.af.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.af.delete(a),o.push(r.bi(t,s.targetId)),i++)})),Dc.Bn(o).next((function(){return i}))},t.prototype.Si=function(t){return Dc.resolve(this.targetCount)},t.prototype.Di=function(t,e){var n=this.af.get(e)||null;return Dc.resolve(n)},t.prototype.Ci=function(t,e,n){return this.cf.sa(e,n),Dc.resolve()},t.prototype.Ni=function(t,e,n){this.cf.ra(e,n);var r=this.persistence.wi,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),Dc.Bn(i)},t.prototype.bi=function(t,e){return this.cf.oa(e),Dc.resolve()},t.prototype.ki=function(t,e){var n=this.cf.aa(e);return Dc.resolve(n)},t.prototype.Mi=function(t,e){return Dc.resolve(this.cf.Mi(e))},t}(),sp=function(){function t(t){var e=this;this._f={},this.Ui=new Vc(0),this.Qi=!1,this.Qi=!0,this.wi=t(this),this.Ji=new ap(this),this.ss=new Gc,this.es=new op(this.ss,(function(t){return e.wi.ff(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.gr=function(){return this.Qi=!1,Promise.resolve()},Object.defineProperty(t.prototype,"or",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),t.prototype.hr=function(){},t.prototype.$r=function(){return this.ss},t.prototype.Dr=function(t){var e=this._f[t.ka()];return e||(e=new ip(this.ss,this.wi),this._f[t.ka()]=e),e},t.prototype.Fr=function(){return this.Ji},t.prototype.Nr=function(){return this.es},t.prototype.runTransaction=function(t,e,n){var r=this;wa("MemoryPersistence","Starting transaction:",t);var i=new up(this.Ui.next());return this.wi.df(),n(i).next((function(t){return r.wi.wf(i).next((function(){return t}))})).On().then((function(t){return i.ts(),t}))},t.prototype.Tf=function(t,e){return Dc.qn(Object.values(this._f).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),up=function(t){function e(e){var n=this;return(n=t.call(this)||this).Li=e,n}return re(e,t),e}(Fc),cp=function(){function t(t){this.persistence=t,this.Ef=new gh,this.If=null}return t.mf=function(e){return new t(e)},Object.defineProperty(t.prototype,"Af",{get:function(){if(this.If)return this.If;throw Ta()},enumerable:!1,configurable:!0}),t.prototype.Fi=function(t,e,n){return this.Ef.Fi(n,e),this.Af.delete(n),Dc.resolve()},t.prototype.$i=function(t,e,n){return this.Ef.$i(n,e),this.Af.add(n),Dc.resolve()},t.prototype.qr=function(t,e){return this.Af.add(e),Dc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ef.oa(e.targetId).forEach((function(t){return n.Af.add(t)}));var r=this.persistence.Fr();return r.ki(t,e.targetId).next((function(t){t.forEach((function(t){return n.Af.add(t)}))})).next((function(){return r.pi(t,e)}))},t.prototype.df=function(){this.If=new Set},t.prototype.wf=function(t){var e=this,n=this.persistence.Nr().oi();return Dc.forEach(this.Af,(function(r){return e.Rf(t,r).next((function(t){t||n.Gn(r)}))})).next((function(){return e.If=null,n.apply(t)}))},t.prototype.jr=function(t,e){var n=this;return this.Rf(t,e).next((function(t){t?n.Af.delete(e):n.Af.add(e)}))},t.prototype.ff=function(t){return 0},t.prototype.Rf=function(t,e){var n=this;return Dc.qn([function(){return Dc.resolve(n.Ef.Mi(e))},function(){return n.persistence.Fr().Mi(t,e)},function(){return n.persistence.Tf(t,e)}])},t}(),lp=function(){function t(t){this.Pf=t.Pf,this.Vf=t.Vf}return t.prototype.wu=function(t){this.gf=t},t.prototype.cu=function(t){this.yf=t},t.prototype.onMessage=function(t){this.pf=t},t.prototype.close=function(){this.Vf()},t.prototype.send=function(t){this.Pf(t)},t.prototype.bf=function(){this.gf()},t.prototype.vf=function(t){this.yf(t)},t.prototype.Sf=function(t){this.pf(t)},t}(),hp={BatchGetDocuments:"batchGet",Commit:"commit"},fp="gl-js/ fire/"+ya,pp=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.Df=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Cf=function(t,e){if(e)for(var n in e.Oa)e.Oa.hasOwnProperty(n)&&(t[n]=e.Oa[n]);t["X-Goog-Api-Client"]=fp},t.prototype.vu=function(t,e,n){var r=this,i=this.Ff(t);return new Promise((function(o,a){var s=new ma;s.listenOnce(da.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case pa.NO_ERROR:var e=s.getResponseJson();wa("Connection","XHR received:",JSON.stringify(e)),o(e);break;case pa.TIMEOUT:wa("Connection",'RPC "'+t+'" timed out'),a(new Ua(Fa.DEADLINE_EXCEEDED,"Request time out"));break;case pa.HTTP_ERROR:var n=s.getStatus();if(wa("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Fa).indexOf(e)>=0?e:Fa.UNKNOWN}(r.status);a(new Ua(i,r.message))}else a(new Ua(Fa.UNKNOWN,"Server responded with status "+s.getStatus()))}else wa("Connection",'RPC "'+t+'" failed'),a(new Ua(Fa.UNAVAILABLE,"Connection failed."));break;default:Ta()}}finally{wa("Connection",'RPC "'+t+'" completed.')}}));var u=Object.assign({},e);delete u.database;var c=JSON.stringify(u);wa("Connection","XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.Cf(l,n),s.send(i,"POST",c,l,15)}))},t.prototype.Su=function(t,e,n){return this.vu(t,e,n)},t.prototype.Tu=function(t,e){var n,r,i=[this.Df,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=fa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Cf(a.initMessageHeaders,e),Ee()||Ie()||_e().indexOf("Electron/")>=0||((r=_e()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||_e().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=i.join("");wa("Connection","Creating WebChannel: "+s+" "+a);var u=o.createWebChannel(s,a),c=!1,l=!1,h=new lp({Pf:function(t){l?wa("Connection","Not sending because WebChannel is closed:",t):(c||(wa("Connection","Opening WebChannel transport."),u.open(),c=!0),wa("Connection","WebChannel sending:",t),u.send(t))},Vf:function(){return u.close()}}),f=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(va.EventType.OPEN,(function(){l||wa("Connection","WebChannel transport opened.")})),f(va.EventType.CLOSE,(function(){l||(l=!0,wa("Connection","WebChannel transport closed"),h.vf())})),f(va.EventType.ERROR,(function(t){l||(l=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ga.logLevel<=Xe.WARN){var r=e.map(Ea);ga.warn.apply(ga,le(["Firestore ("+ya+"): "+t],r))}}("Connection","WebChannel transport errored:",t),h.vf(new Ua(Fa.UNAVAILABLE,"The operation could not be completed")))})),f(va.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Ia(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){wa("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=es[t];if(void 0!==e)return as(e)}(o),s=i.message;void 0===a&&(a=Fa.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.vf(new Ua(a,s)),u.close()}else wa("Connection","WebChannel received:",n),h.Sf(n)}})),setTimeout((function(){h.bf()}),0),h},t.prototype.Ff=function(t){var e=hp[t];return this.Df+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),dp=function(){function t(){var t=this;this.Nf=function(){return t.$f()},this.kf=function(){return t.xf()},this.Mf=[],this.Of()}return t.prototype.tc=function(t){this.Mf.push(t)},t.prototype.gr=function(){window.removeEventListener("online",this.Nf),window.removeEventListener("offline",this.kf)},t.prototype.Of=function(){window.addEventListener("online",this.Nf),window.addEventListener("offline",this.kf)},t.prototype.$f=function(){wa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Mf;t<e.length;t++)(0,e[t])(0)},t.prototype.xf=function(){wa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Mf;t<e.length;t++)(0,e[t])(1)},t.Hi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),vp=function(){function t(){}return t.prototype.tc=function(t){},t.prototype.gr=function(){},t}(),mp="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",yp=function(){function t(){}return t.prototype.initialize=function(t){return oe(this,void 0,void 0,(function(){var e=this;return ae(this,(function(n){switch(n.label){case 0:return this.t_=this.Lf(t),this.persistence=this.Bf(t),[4,this.persistence.start()];case 1:return n.sent(),this.qf=this.Uf(t),this.zu=this.Qf(t),this.Zl=this.Wf(t),this.Rc=this.jf(t),this.Kf=this.Gf(t),this.t_.Lu=function(t){return e.Rc.Ql(t,1)},this.Zl.Rc=this.Rc,[4,this.zu.start()];case 2:return n.sent(),[4,this.t_.start()];case 3:return n.sent(),[4,this.Zl.start()];case 4:return n.sent(),[4,this.Zl.Mc(this.Rc.__)];case 5:return n.sent(),[2]}}))}))},t.prototype.Gf=function(t){return new ep(this.Rc)},t.prototype.Uf=function(t){return null},t.prototype.Qf=function(t){return vh(this.persistence,new rp,t.zf)},t.prototype.Bf=function(t){if(t.Yf.Hf)throw new Ua(Fa.FAILED_PRECONDITION,mp);return new sp(cp.mf)},t.prototype.Wf=function(t){var e=this;return new Df(this.zu,t.Du,t.mo,(function(t){return e.Rc.Ql(t,0)}),dp.Hi()?new dp:new vp)},t.prototype.Lf=function(t){return new Wf},t.prototype.jf=function(t){return Jf(this.zu,this.Zl,t.Du,this.t_,t.zf,t.e_)},t.prototype.clearPersistence=function(t,e){throw new Ua(Fa.FAILED_PRECONDITION,mp)},t}(),gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.initialize=function(e){return oe(this,void 0,void 0,(function(){var n=this;return ae(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.rr((function(t){return oe(n,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return[4,this.Rc.Mc(t)];case 1:return e.sent(),this.qf&&(t&&!this.qf.or?this.qf.start(this.zu):t||this.qf.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.Qf=function(t){return e=this.persistence,n=new rp,r=t.zf,new mh(e,n,r);var e,n,r},e.prototype.jf=function(t){var e,n,r,i,o,a,s=(e=this.zu,n=this.Zl,r=t.Du,i=this.t_,o=t.zf,a=t.e_,new Zf(e,n,r,i,o,a));return this.t_ instanceof zf&&(this.t_.Rc=s),s},e.prototype.Lf=function(t){if(t.Yf.Hf&&t.Yf.synchronizeTabs){var e=ih();if(!zf.Hi(e))throw new Ua(Fa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Il(t.Jf.s,t.Jf.persistenceKey);return new zf(e,t.mo,n,t.clientId,t.zf)}return new Wf},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.Qf=function(t){return vh(this.persistence,new rp,t.zf)},e.prototype.jf=function(t){return Jf(this.zu,this.Zl,t.Du,this.t_,t.zf,t.e_)},e.prototype.Uf=function(t){var e=this.persistence.wi.xr;return new fh(e,t.mo)},e.prototype.Bf=function(t){var e=Il(t.Jf.s,t.Jf.persistenceKey),n=ef(t.Jf.s);return new bl(t.Yf.synchronizeTabs,e,t.clientId,hh.oh(t.Yf.cacheSizeBytes),t.mo,ih(),"undefined"!=typeof document?document:null,n,this.t_,t.Yf.qi)},e.prototype.Lf=function(t){return new Wf},e.prototype.clearPersistence=function(t,e){return function(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return $l.Hi()?(e=t+"main",[4,$l.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Il(t,e))},e}(yp)),bp=function(){function t(t,e){this.credentials=t,this.mo=e,this.clientId=Na.t()}return t.prototype.start=function(t,e,n){var r=this;this.bu(),this.Jf=t;var i=new qc,o=new qc,a=!1;return this.credentials.qa((function(t){if(!a)return a=!0,wa("FirestoreClient","Initializing. user=",t.uid),r.Xf(e,n,t,o).then(i.resolve,i.reject);r.mo._r((function(){return r.Zl.xc(t)}))})),this.mo.cr((function(){return i.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.bu(),this.mo.enqueue((function(){return t.Rc.enableNetwork()}))},t.prototype.Xf=function(t,e,n,r){return oe(this,void 0,void 0,(function(){var i,o,a,s,u,c=this;return ae(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,(u=this.Jf,Promise.resolve(new pp(u)))];case 1:return i=l.sent(),o=ef(this.Jf.s),a=function(t,e,n){return new Pf(t,e,n)}(i,this.credentials,o),[4,t.initialize({mo:this.mo,Jf:this.Jf,Du:a,clientId:this.clientId,zf:n,e_:100,Yf:e})];case 2:return l.sent(),this.persistence=t.persistence,this.t_=t.t_,this.zu=t.zu,this.Zl=t.Zl,this.Rc=t.Rc,this.qf=t.qf,this.Zf=t.Kf,this.persistence.hr((function(){return oe(c,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(s=l.sent(),r.reject(s),!this.td(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.Xf(new yp,{Hf:!1},n,r))];case 4:return[2]}}))}))},t.prototype.td=function(t){return"FirebaseError"===t.name?t.code===Fa.FAILED_PRECONDITION||t.code===Fa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.bu=function(){if(this.mo.xo)throw new Ua(Fa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.bu(),this.mo.enqueue((function(){return t.Rc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.mo.qo((function(){return oe(t,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.qf&&this.qf.stop(),[4,this.Zl.gr()];case 1:return t.sent(),[4,this.t_.gr()];case 2:return t.sent(),[4,this.persistence.gr()];case 3:return t.sent(),this.credentials.Ua(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.bu();var e=new qc;return this.mo.cr((function(){return t.Rc.V_(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.bu();var i=new np(t,e,n);return this.mo.cr((function(){return r.Zf.listen(i)})),i},t.prototype.mc=function(t){var e=this;this.ed||this.mo.cr((function(){return e.Zf.mc(t)}))},t.prototype.nd=function(t){return oe(this,void 0,void 0,(function(){var e,n=this;return ae(this,(function(r){switch(r.label){case 0:return this.bu(),e=new qc,[4,this.mo.enqueue((function(){return oe(n,void 0,void 0,(function(){var n,r,i;return ae(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.zu.Wh(t)];case 1:return(n=o.sent())instanceof lc?e.resolve(n):n instanceof hc?e.resolve(null):e.reject(new Ua(Fa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sh(r,"Failed to get document '"+t+" from cache"),e.reject(i),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.sd=function(t){return oe(this,void 0,void 0,(function(){var e,n=this;return ae(this,(function(r){switch(r.label){case 0:return this.bu(),e=new qc,[4,this.mo.enqueue((function(){return oe(n,void 0,void 0,(function(){var n,r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.zu.Gh(t,!0)];case 1:return n=u.sent(),r=new Gf(t,n.zh),i=r.xl(n.documents),o=r.Jn(i,!1),e.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=sh(a,"Failed to execute query '"+t+" against cache"),e.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.bu();var n=new qc;return this.mo.cr((function(){return e.Rc.write(t,n)})),n.promise},t.prototype.s=function(){return this.Jf.s},t.prototype.q_=function(t){var e=this;this.bu(),this.mo.cr((function(){return e.Zf.q_(t),Promise.resolve()}))},t.prototype.U_=function(t){var e=this;this.ed||this.mo.cr((function(){return e.Zf.U_(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"ed",{get:function(){return this.mo.xo},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.bu();var n=new qc;return this.mo.cr((function(){return e.Rc.runTransaction(e.mo,t,n),Promise.resolve()})),n.promise},t}(),wp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.rd(this.observer.next,t)},t.prototype.error=function(t){this.rd(this.observer.error,t)},t.prototype.od=function(){this.muted=!0},t.prototype.rd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ep=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.hd=n,this.ad=r}return t.prototype.ud=function(t){switch(Fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ws(t.integerValue||t.doubleValue);case 3:return this.ld(t.timestampValue);case 4:return this._d(t);case 5:return t.stringValue;case 6:return new qh(Hs(t.bytesValue));case 7:return this.fd(t.referenceValue);case 8:return this.dd(t.geoPointValue);case 9:return this.wd(t.arrayValue);case 10:return this.Td(t.mapValue);default:throw Ta()}},t.prototype.Td=function(t){var e=this,n={};return Da(t.fields||{},(function(t,r){n[t]=e.ud(r)})),n},t.prototype.dd=function(t){return new tf(Ws(t.latitude),Ws(t.longitude))},t.prototype.wd=function(t){var e=this;return(t.values||[]).map((function(t){return e.ud(t)}))},t.prototype._d=function(t){switch(this.hd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Ds(n)?t(n):n}(t);return null==e?null:this.ud(e);case"estimate":return this.ld(Ls(t));default:return null}},t.prototype.ld=function(t){var e=zs(t),n=new ja(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.fd=function(t){var e=Ba.$(t);Ia(ku(e));var n=new Ra(e.get(1),e.get(3)),r=new Ha(e.g(5));return n.isEqual(this.s)||_a("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.ad(r)},t}(),Tp=hh.uh,Ip=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ua(Fa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Ch("settings","non-empty string","host",t.host),this.host=t.host,Nh("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Dh("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Nh("settings","object","credentials",t.credentials),this.credentials=t.credentials,Nh("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Nh("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?_a("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&_a("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Nh("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=hh._h;else{if(t.cacheSizeBytes!==Tp&&t.cacheSizeBytes<hh.lh)throw new Ua(Fa.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+hh.lh);this.cacheSizeBytes=t.cacheSizeBytes}Nh("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Sp=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new yp),this.Ed=null,this.Id=new ah,this.INTERNAL={delete:function(){return oe(i,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.md(),[4,this.Ad.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.Ed=o,this.Va=t.Rd(o),this.Pd=o.name,this.Vd=new Sf(n)}else{var a=e;if(!a.projectId)throw new Ua(Fa.INVALID_ARGUMENT,"Must provide projectId");this.Va=new Ra(a.projectId,a.database),this.Pd="[DEFAULT]",this.Vd=new If}this.gd=r,this.yd=new Ip({})}return Object.defineProperty(t.prototype,"pd",{get:function(){return this.bd||(this.bd=new cf(this.Va,this.yd.ignoreUndefinedProperties)),this.bd},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){_h("Firestore.settings",arguments,1),Ih("Firestore.settings","object",1,t);var e=new Ip(t);if(this.Ad&&!this.yd.isEqual(e))throw new Ua(Fa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.yd=e,void 0!==e.credentials&&(this.Vd=function(t){if(!t)return new If;switch(t.type){case"gapi":var e=t.vd;return Ia(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Nf(e,t.za||"0");case"provider":return t.vd;default:throw new Ua(Fa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.md(),this.Ad.enableNetwork()},t.prototype.disableNetwork=function(){return this.md(),this.Ad.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Ad)throw new Ua(Fa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&_a("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new Ua(Fa.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Sd(this.gd,{Hf:!0,cacheSizeBytes:this.yd.cacheSizeBytes,synchronizeTabs:r,qi:i})},t.prototype.clearPersistence=function(){return oe(this,void 0,void 0,(function(){var t,e=this;return ae(this,(function(n){if(void 0!==this.Ad&&!this.Ad.ed)throw new Ua(Fa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new qc,[2,(this.Id.Mo((function(){return oe(e,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.gd.clearPersistence(this.Va,this.Pd)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Dd",{get:function(){return this.md(),this.Ad.ed},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.md(),this.Ad.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.md(),_p(t))return Cp(this.Ad,t);Ih("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return Cp(this.Ad,e)},t.prototype.md=function(){return this.Ad||this.Sd(new yp,{Hf:!1}),this.Ad},t.prototype.Cd=function(){return new Pa(this.Va,this.Pd,this.yd.host,this.yd.ssl,this.yd.forceLongPolling)},t.prototype.Sd=function(t,e){var n=this.Cd();return this.Ad=new bp(this.Vd,this.Id),this.Ad.start(n,t,e)},t.Rd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Ua(Fa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new Ua(Fa.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ra(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Ed)throw new Ua(Fa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Ed},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return _h("Firestore.collection",arguments,1),Ih("Firestore.collection","non-empty string",1,t),this.md(),new Up(Ba.$(t),this,null)},t.prototype.doc=function(t){return _h("Firestore.doc",arguments,1),Ih("Firestore.doc","non-empty string",1,t),this.md(),Ap.Fd(Ba.$(t),this,null)},t.prototype.collectionGroup=function(t){if(_h("Firestore.collectionGroup",arguments,1),Ih("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.md(),new Lp(new pc(Ba.k(),t),this,null)},t.prototype.runTransaction=function(t){var e=this;return _h("Firestore.runTransaction",arguments,1),Ih("Firestore.runTransaction","function",1,t),this.md().transaction((function(n){return t(new Np(e,n))}))},t.prototype.batch=function(){return this.md(),new kp(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ba()){case Xe.DEBUG:return"debug";case Xe.ERROR:return"error";case Xe.SILENT:return"silent";case Xe.WARN:return"warn";case Xe.INFO:return"info";case Xe.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;_h("Firestore.setLogLevel",arguments,1),Ah("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,ga.setLogLevel(e)},t.prototype.Nd=function(){return this.yd.timestampsInSnapshots},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e){var n=new wp({next:function(){e.next&&e.next()},error:function(t){throw Ta()}});return t.q_(n),function(){n.od(),t.U_(n)}}var Np=function(){function t(t,e){this.$d=t,this.kd=e}return t.prototype.get=function(t){var e=this;_h("Transaction.get",arguments,1);var n=Bp("Transaction.get",t,this.$d);return this.kd.ku([n.ga]).then((function(t){if(!t||1!==t.length)return Ta();var r=t[0];if(r instanceof hc)return new Rp(e.$d,n.ga,null,!1,!1,n.ya);if(r instanceof lc)return new Rp(e.$d,n.ga,r,!1,!1,n.ya);throw Ta()}))},t.prototype.set=function(t,e,n){Th("Transaction.set",arguments,2,3);var r=Bp("Transaction.set",t,this.$d);n=jp("Transaction.set",n);var i=Wp(r.ya,e,n),o=lf(this.$d.pd,"Transaction.set",r.ga,i,null!==r.ya,n);return this.kd.set(r.ga,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof zh?(Eh("Transaction.update",arguments,3),r=Bp("Transaction.update",t,this.$d),i=ff(this.$d.pd,"Transaction.update",r.ga,e,n,o)):(_h("Transaction.update",arguments,2),r=Bp("Transaction.update",t,this.$d),i=hf(this.$d.pd,"Transaction.update",r.ga,e)),this.kd.update(r.ga,i),this},t.prototype.delete=function(t){_h("Transaction.delete",arguments,1);var e=Bp("Transaction.delete",t,this.$d);return this.kd.delete(e.ga),this},t}(),kp=function(){function t(t){this.$d=t,this.xd=[],this.Md=!1}return t.prototype.set=function(t,e,n){Th("WriteBatch.set",arguments,2,3),this.Od();var r=Bp("WriteBatch.set",t,this.$d);n=jp("WriteBatch.set",n);var i=Wp(r.ya,e,n),o=lf(this.$d.pd,"WriteBatch.set",r.ga,i,null!==r.ya,n);return this.xd=this.xd.concat(o.pa(r.ga,Wu.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.Od(),"string"==typeof e||e instanceof zh?(Eh("WriteBatch.update",arguments,3),r=Bp("WriteBatch.update",t,this.$d),i=ff(this.$d.pd,"WriteBatch.update",r.ga,e,n,o)):(_h("WriteBatch.update",arguments,2),r=Bp("WriteBatch.update",t,this.$d),i=hf(this.$d.pd,"WriteBatch.update",r.ga,e)),this.xd=this.xd.concat(i.pa(r.ga,Wu.exists(!0))),this},t.prototype.delete=function(t){_h("WriteBatch.delete",arguments,1),this.Od();var e=Bp("WriteBatch.delete",t,this.$d);return this.xd=this.xd.concat(new ic(e.ga,Wu.Qe())),this},t.prototype.commit=function(){return this.Od(),this.Md=!0,this.xd.length>0?this.$d.md().write(this.xd):Promise.resolve()},t.prototype.Od=function(){if(this.Md)throw new Ua(Fa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ap=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.Va,e,r)||this).ga=e,i.firestore=n,i.ya=r,i.Ad=i.firestore.md(),i}return re(e,t),e.Fd=function(t,n,r){if(t.length%2!=0)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new e(new Ha(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.ga.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Up(this.ga.path.p(),this.firestore,this.ya)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.ga.path.N()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(_h("DocumentReference.collection",arguments,1),Ih("DocumentReference.collection","non-empty string",1,t),!t)throw new Ua(Fa.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Ba.$(t);return new Up(this.ga.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Lh("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.ga.isEqual(t.ga)&&this.ya===t.ya},e.prototype.set=function(t,e){Th("DocumentReference.set",arguments,1,2),e=jp("DocumentReference.set",e);var n=Wp(this.ya,t,e),r=lf(this.firestore.pd,"DocumentReference.set",this.ga,n,null!==this.ya,e);return this.Ad.write(r.pa(this.ga,Wu.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof zh?(Eh("DocumentReference.update",arguments,2),n=ff(this.firestore.pd,"DocumentReference.update",this.ga,t,e,r)):(_h("DocumentReference.update",arguments,1),n=hf(this.firestore.pd,"DocumentReference.update",this.ga,t)),this.Ad.write(n.pa(this.ga,Wu.exists(!0)))},e.prototype.delete=function(){return _h("DocumentReference.delete",arguments,0),this.Ad.write([new ic(this.ga,Wu.Qe())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Th("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||_p(i[s])||(Dh("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),Nh("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(_p(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Ih("DocumentReference.onSnapshot","function",s,i[s]),Sh("DocumentReference.onSnapshot","function",s+1,i[s+1]),Sh("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(t){i[s]&&i[s](r.Ld(t))},error:i[s+1],complete:i[s+2]};return xp(this.Ad,this.ga,u,l)},e.prototype.get=function(t){var e=this;return Th("DocumentReference.get",arguments,0,1),qp("DocumentReference.get",t),t&&"cache"===t.source?this.firestore.md().nd(this.ga).then((function(t){return new Rp(e.firestore,e.ga,t,!0,t instanceof lc&&t.Ge,e.ya)})):function(t,e,n){var r=new qc,i=xp(t,e,{includeMetadataChanges:!0,H_:!0},{next:function(t){i();var o=t.docs.has(e);!o&&t.fromCache?r.reject(new Ua(Fa.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&t.fromCache&&n&&"server"===n.source?r.reject(new Ua(Fa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(this.Ad,this.ga,t).then((function(t){return e.Ld(t)}))},e.prototype.withConverter=function(t){return new e(this.ga,this.firestore,t)},e.prototype.Ld=function(t){var e=t.docs.get(this.ga);return new Rp(this.firestore,this.ga,e,t.fromCache,t.hasPendingWrites,this.ya)},e}(rf);function xp(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new wp({next:function(t){r.next&&r.next(t)},error:i}),a=t.listen(pc.hn(e.path),o,n);return function(){o.od(),t.mc(a)}}var Pp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Rp=function(){function t(t,e,n,r,i,o){this.$d=t,this.ga=e,this.Bd=n,this.qd=r,this.Ud=i,this.ya=o}return t.prototype.data=function(t){var e=this;if(Th("DocumentSnapshot.data",arguments,0,1),t=Vp("DocumentSnapshot.data",t),this.Bd){if(this.ya){var n=new Op(this.$d,this.ga,this.Bd,this.qd,this.Ud,null);return this.ya.fromFirestore(n,t)}return new Ep(this.$d.Va,this.$d.Nd(),t.serverTimestamps||"none",(function(t){return new Ap(t,e.$d,null)})).ud(this.Bd.tn())}},t.prototype.get=function(t,e){var n=this;if(Th("DocumentSnapshot.get",arguments,1,2),e=Vp("DocumentSnapshot.get",e),this.Bd){var r=this.Bd.data().field(gf("DocumentSnapshot.get",t,this.ga));if(null!==r)return new Ep(this.$d.Va,this.$d.Nd(),e.serverTimestamps||"none",(function(t){return new Ap(t,n.$d,n.ya)})).ud(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.ga.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ap(this.ga,this.$d,this.ya)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Bd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Pp(this.Ud,this.qd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Lh("isEqual","DocumentSnapshot",1,e);return this.$d===e.$d&&this.qd===e.qd&&this.ga.isEqual(e.ga)&&(null===this.Bd?null===e.Bd:this.Bd.isEqual(e.Bd))&&this.ya===e.ya},t}(),Op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Rp);function Dp(t){if(t.mn()&&0===t.en.length)throw new Ua(Fa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.Va,n.pd,e)||this).Qd=e,i.firestore=n,i.ya=r,i}return re(e,t),e.prototype.where=function(t,n,r){_h("Query.where",arguments,3),Oh("Query.where",3,r);var i=Ah("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=gf("Query.where",t),a=this.Wd(o,i,r);return new e(this.Qd.cn(a),this.firestore,this.ya)},e.prototype.orderBy=function(t,n){var r;if(Th("Query.orderBy",arguments,1,2),Sh("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Ua(Fa.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=gf("Query.orderBy",t),o=this.zd(i,r);return new e(this.Qd.ln(o),this.firestore,this.ya)},e.prototype.limit=function(t){return _h("Query.limit",arguments,1),Ih("Query.limit","number",1,t),Mh("Query.limit",1,t),new e(this.Qd._n(t),this.firestore,this.ya)},e.prototype.limitToLast=function(t){return _h("Query.limitToLast",arguments,1),Ih("Query.limitToLast","number",1,t),Mh("Query.limitToLast",1,t),new e(this.Qd.fn(t),this.firestore,this.ya)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eh("Query.startAt",arguments,1);var i=this.Zd("Query.startAt",t,n,!0);return new e(this.Qd.dn(i),this.firestore,this.ya)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eh("Query.startAfter",arguments,1);var i=this.Zd("Query.startAfter",t,n,!1);return new e(this.Qd.dn(i),this.firestore,this.ya)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eh("Query.endBefore",arguments,1);var i=this.Zd("Query.endBefore",t,n,!0);return new e(this.Qd.wn(i),this.firestore,this.ya)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eh("Query.endAt",arguments,1);var i=this.Zd("Query.endAt",t,n,!1);return new e(this.Qd.wn(i),this.firestore,this.ya)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Lh("isEqual","Query",1,t);return this.firestore===t.firestore&&dc(this.Qd,t.Qd)&&this.ya===t.ya},e.prototype.withConverter=function(t){return new e(this.Qd,this.firestore,t)},e.prototype.Zd=function(t,e,n,r){if(Oh(t,1,e),e instanceof Rp)return _h(t,le([e],n),1),this.Yd(t,e.Bd,r);var i=[e].concat(n);return this.Jd(t,i,r)},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Th("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||_p(i[s])||(Dh("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),Nh("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),_p(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Ih("Query.onSnapshot","function",s,i[s]),Sh("Query.onSnapshot","function",s+1,i[s+1]),Sh("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](new Fp(r.firestore,r.Qd,t,r.ya))},error:i[s+1],complete:i[s+2]};return Dp(this.Qd),Mp(this.firestore.md(),this.Qd,a,c)},e.prototype.get=function(t){var e=this;Th("Query.get",arguments,0,1),qp("Query.get",t),Dp(this.Qd);var n=this.firestore.md();return(t&&"cache"===t.source?n.sd(this.Qd):function(t,e,n){var r=new qc,i=Mp(t,e,{includeMetadataChanges:!0,H_:!0},{next:function(t){i(),t.fromCache&&n&&"server"===n.source?r.reject(new Ua(Fa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(n,this.Qd,t)).then((function(t){return new Fp(e.firestore,e.Qd,t,e.ya)}))},e}(function(){function t(t,e,n){this.Va=t,this.pd=e,this.Qd=n}return t.prototype.Wd=function(t,e,n){var r;if(t.O()){if("array-contains"===e||"array-contains-any"===e)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.jd(n,e);for(var i=[],o=0,a=n;o<a.length;o++){var s=a[o];i.push(this.Kd(s))}r={arrayValue:{values:i}}}else r=this.Kd(n)}else"in"!==e&&"array-contains-any"!==e||this.jd(n,e),r=pf(this.pd,"Query.where",n,"in"===e);var u=bc.create(t,e,r);return this.Gd(u),u},t.prototype.zd=function(t,e){if(null!==this.Qd.startAt)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.Qd.endAt)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new Ac(t,e);return this.Hd(n),n},t.prototype.Yd=function(t,e,n){if(!e)throw new Ua(Fa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.Qd.orderBy;i<o.length;i++){var a=o[i];if(a.field.O())r.push(Ks(this.Va,e.key));else{var s=e.field(a.field);if(Ds(s))throw new Ua(Fa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.N();throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Sc(r,n)},t.prototype.Jd=function(t,e,n){var r=this.Qd.en;if(e.length>r.length)throw new Ua(Fa.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.O()){if("string"!=typeof a)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this.Qd.Vn()&&-1!==a.indexOf("/"))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.Qd.path.child(Ba.$(a));if(!Ha.W(s))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Ha(s);i.push(Ks(this.Va,u))}else{var c=pf(this.pd,t,a);i.push(c)}}return new Sc(i,n)},t.prototype.Kd=function(t){if("string"==typeof t){if(""===t)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Qd.Vn()&&-1!==t.indexOf("/"))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Qd.path.child(Ba.$(t));if(!Ha.W(e))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Ks(this.Va,new Ha(e))}if(t instanceof rf)return Ks(this.Va,t.ga);throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rh(t)+".")},t.prototype.jd=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Gd=function(t){if(t instanceof bc){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.An()){var o=this.Qd.an();if(null!==o&&!o.isEqual(t.field))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this.Qd.un();null!==a&&this.Xd(t.field,a)}else if(i||r){var s=null;if(i&&(s=this.Qd.Rn(n)),null===s&&r&&(s=this.Qd.Rn(e)),null!==s)throw s===t.op?new Ua(Fa.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ua(Fa.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.Hd=function(t){if(null===this.Qd.un()){var e=this.Qd.an();null!==e&&this.Xd(e,t.field)}},t.prototype.Xd=function(t,e){if(!e.isEqual(t))throw new Ua(Fa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}());function Mp(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new wp({next:function(t){r.next&&r.next(t)},error:i}),a=t.listen(e,o,n);return function(){o.od(),t.mc(a)}}var Fp=function(){function t(t,e,n,r){this.$d=t,this.tw=e,this.ew=n,this.ya=r,this.nw=null,this.sw=null,this.metadata=new Pp(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.ew.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ew.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Th("QuerySnapshot.forEach",arguments,1,2),Ih("QuerySnapshot.forEach","function",1,t),this.ew.docs.forEach((function(r){t.call(e,n.iw(r,n.metadata.fromCache,n.ew.Lt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Lp(this.tw,this.$d,this.ya)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Dh("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Nh("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.ew.qt)throw new Ua(Fa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.nw&&this.sw===e||(this.nw=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Lt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:zp(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.ew,e,this.iw.bind(this)),this.sw=e),this.nw},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Lh("isEqual","QuerySnapshot",1,e);return this.$d===e.$d&&dc(this.tw,e.tw)&&this.ew.isEqual(e.ew)&&this.ya===e.ya},t.prototype.iw=function(t,e,n){return new Op(this.$d,t.key,t,e,n,this.ya)},t}(),Up=function(t){function e(e,n,r){var i=this;if((i=t.call(this,pc.hn(e),n,r)||this).rw=e,e.length%2!=1)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.N()+" has "+e.length);return i}return re(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Qd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Qd.path.p();return t._()?null:new Ap(new Ha(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Qd.path.N()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Th("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Na.t()),Ih("CollectionReference.doc","non-empty string",1,t);var e=Ba.$(t);return Ap.Fd(this.Qd.path.child(e),this.firestore,this.ya)},e.prototype.add=function(t){_h("CollectionReference.add",arguments,1),Ih("CollectionReference.add","object",1,this.ya?this.ya.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.rw,this.firestore,t)},e}(Lp);function jp(t,e){if(void 0===e)return{merge:!1};if(Dh(t,e,["merge","mergeFields"]),Nh(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Rh(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Ua(Fa.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Rh(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof zh}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new Ua(Fa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vp(t,e){return void 0===e?{}:(Dh(t,e,["serverTimestamps"]),kh(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function qp(t,e){Sh(t,"object",1,e),e&&(Dh(t,e,["source"]),kh(t,0,"source",e.source,["default","server","cache"]))}function Bp(t,e,n){if(e instanceof rf){if(e.firestore!==n)throw new Ua(Fa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Lh(t,"DocumentReference",1,e)}function zp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ta()}}function Wp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Hp={Firestore:Sp,GeoPoint:tf,Timestamp:ja,Blob:qh,Transaction:Np,WriteBatch:kp,DocumentReference:Ap,DocumentSnapshot:Rp,Query:Lp,QueryDocumentSnapshot:Op,QuerySnapshot:Fp,CollectionReference:Up,FieldPath:zh,FieldValue:Jh,setLogLevel:Sp.setLogLevel,CACHE_SIZE_UNLIMITED:Tp};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){!function(t,e){t.INTERNAL.registerComponent(new Ke("firestore",(function(t){return function(t,e){return new Sp(t,e,new gp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Hp)))}(t),t.registerVersion("@firebase/firestore","1.16.1")}(gn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Kp=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pe(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:xe(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),Gp=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Oe(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),Qp=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Kp(e)}}catch(t){}return new Gp},$p=Qp("localStorage"),Yp=Qp("sessionStorage"),Xp=new on("@firebase/database"),Jp=function(){var t=1;return function(){return t++}}(),Zp=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,pe(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Fe;n.update(e);var r=n.digest();return me.encodeByteArray(r)},td=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=td.apply(null,i):n+="object"==typeof i?Pe(i):i,n+=" "}return n},ed=null,nd=!0,rd=function(t,e){pe(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Xp.logLevel=Xe.VERBOSE,ed=Xp.log.bind(Xp),e&&Yp.set("logging_enabled",!0)):"function"==typeof t?ed=t:(ed=null,Yp.remove("logging_enabled"))},id=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===nd&&(nd=!1,null===ed&&!0===Yp.get("logging_enabled")&&rd(!0)),ed){var n=td.apply(null,t);ed(n)}},od=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];id.apply(void 0,ce([t],e))}},ad=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+td.apply(void 0,ce(t));Xp.error(n)},sd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+td.apply(void 0,ce(t));throw Xp.error(n),new Error(n)},ud=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+td.apply(void 0,ce(t));Xp.warn(n)},cd=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ld="[MIN_NAME]",hd="[MAX_NAME]",fd=function(t,e){if(t===e)return 0;if(t===ld||e===hd)return-1;if(e===ld||t===hd)return 1;var n=wd(t),r=wd(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},pd=function(t,e){return t===e?0:t<e?-1:1},dd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},vd=function(t){if("object"!=typeof t||null===t)return Pe(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Pe(e[i]),r+=":",r+=vd(t[e[i]]);return r+="}"},md=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var gd=function(t){pe(!cd(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var s=a.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},bd=new RegExp("^-?(0*)\\d{1,10}$"),wd=function(t){if(bd.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},_d=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw ud("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ed=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Td=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=fd(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Id=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=He(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=He(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=He(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Sd=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=$p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(pe("string"==typeof t,"typeof type must == string"),pe("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return yd(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var Cd,Nd,kd,Ad,xd,Pd=function(t){var e=Rd(t),n=e.namespace;"firebase.com"===e.domain&&sd(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||sd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ud("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Sd(e.host,e.secure,n,r,"",n!==e.subdomain),path:new Td(e.pathString)}},Rd=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(l,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=se(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ud("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=e.indexOf(".");r=e.substring(0,d).toLowerCase(),n=e.substring(d+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Od=/[\[\].#$\/\u0000-\u001F\u007F]/,Dd=/[\[\].#$\u0000-\u001F\u007F]/,Ld=function(t){return"string"==typeof t&&0!==t.length&&!Od.test(t)},Md=function(t){return"string"==typeof t&&0!==t.length&&!Dd.test(t)},Fd=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!cd(t)||t&&"object"==typeof t&&Oe(t,".sv")},Ud=function(t,e,n,r,i){i&&void 0===n||jd(Be(t,e,i),n,r)},jd=function(t,e,n){var r=n instanceof Td?new Id(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(cd(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&He(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(yd(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Ld(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),jd(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},Vd=function(t,e,n,r,i){if(!i||void 0!==n){var o=Be(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];yd(n,(function(t,e){var n=new Td(t);if(jd(o,e,r.child(n)),".priority"===n.getBack()&&!Fd(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Ld(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Td.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},qd=function(t,e,n,r){if(!r||void 0!==n){if(cd(n))throw new Error(Be(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fd(n))throw new Error(Be(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Bd=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Be(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zd=function(t,e,n,r){if(!(r&&void 0===n||Ld(n)))throw new Error(Be(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Wd=function(t,e,n,r){if(!(r&&void 0===n||Md(n)))throw new Error(Be(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Hd=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Wd(t,e,n,r)},Kd=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Gd=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ld(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Md(t)}(r))throw new Error(Be(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qd=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Be(t,e,r)+"must be a boolean.")},$d=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){qe("OnDisconnect.cancel",0,1,arguments.length),ze("OnDisconnect.cancel",1,t,!0);var e=new we;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){qe("OnDisconnect.remove",0,1,arguments.length),Kd("OnDisconnect.remove",this.path_),ze("OnDisconnect.remove",1,t,!0);var e=new we;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){qe("OnDisconnect.set",1,2,arguments.length),Kd("OnDisconnect.set",this.path_),Ud("OnDisconnect.set",1,t,this.path_,!1),ze("OnDisconnect.set",2,e,!0);var n=new we;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){qe("OnDisconnect.setWithPriority",2,3,arguments.length),Kd("OnDisconnect.setWithPriority",this.path_),Ud("OnDisconnect.setWithPriority",1,t,this.path_,!1),qd("OnDisconnect.setWithPriority",2,e,!1),ze("OnDisconnect.setWithPriority",3,n,!0);var r=new we;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(qe("OnDisconnect.update",1,2,arguments.length),Kd("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,ud("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vd("OnDisconnect.update",1,t,this.path_,!1),ze("OnDisconnect.update",2,e,!0);var i=new we;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),Yd=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return qe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Xd=(Cd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nd=0,kd=[],function(t){var e,n=t===Nd;Nd=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Cd.charAt(t%64),t=Math.floor(t/64);pe(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===kd[e];e--)kd[e]=0;kd[e]++}else for(e=0;e<12;e++)kd[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Cd.charAt(kd[e]);return pe(20===i.length,"nextPushId: Length should be 20."),i}),Jd=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Zd=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Jd(ld,t),r=new Jd(ld,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Jd.MIN},t}(),tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ad},set:function(t){Ad=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return fd(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw de("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Jd.MIN},e.prototype.maxPost=function(){return new Jd(hd,Ad)},e.prototype.makePost=function(t,e){return pe("string"==typeof t,"KeyIndex indexValue must always be a string."),new Jd(t,Ad)},e.prototype.toString=function(){return".key"},e}(Zd),ev=new tv;var nv,rv,iv,ov=function(t){return"number"==typeof t?"number:"+gd(t):"string:"+t},av=function(t){if(t.isLeafNode()){var e=t.val();pe("string"==typeof e||"number"==typeof e||"object"==typeof e&&Oe(e,".sv"),"Priority must be a string or number.")}else pe(t===xd||t.isEmpty(),"priority of unexpected type.");pe(t===xd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},sv=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,pe(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),av(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return nv},set:function(t){nv=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(pe(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+ov(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?gd(this.value_):this.value_,this.lazyHash_=Zp(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(pe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return pe(i>=0,"Unknown leaf type: "+n),pe(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var uv,cv,lv=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?fd(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Jd.MIN},e.prototype.maxPost=function(){return new Jd(hd,new sv("[PRIORITY-POST]",iv))},e.prototype.makePost=function(t,e){var n=rv(t);return new Jd(e,new sv("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Zd)),hv=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),fv=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:dv.EMPTY_NODE,this.right=null!=o?o:dv.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return dv.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return dv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),pv=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new fv(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),dv=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fv.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fv.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new hv(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new hv(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new hv(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new hv(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new pv,t}(),vv=Math.log(2),mv=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/vv,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),yv=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new fv(a,o.node,fv.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new fv(a,o.node,fv.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new fv(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,fv.BLACK):(s(h,fv.BLACK),s(h,fv.RED))}return o}(new mv(t.length));return new dv(r||e,o)},gv={},bv=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return pe(gv&&lv,"ChildrenNode.ts has not been loaded"),uv=uv||new t({".priority":gv},{".priority":lv})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=De(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof dv?e:null},t.prototype.hasIndex=function(t){return Oe(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){pe(e!==ev,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(Jd.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?yv(i,e.getCompare()):gv;var u=e.toString(),c=ie({},this.indexSet_);c[u]=e;var l=ie({},this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Me(this.indexes_,(function(t,i){var o=De(r.indexSet_,i);if(pe(o,"Missing index implementation for "+i),t===gv){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(Jd.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),yv(a,o.getCompare())}return gv}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Jd(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Me(this.indexes_,(function(t){if(t===gv)return t;var r=n.get(e.name);return r?t.remove(new Jd(e.name,r)):t})),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wv(t,e){return fd(t.name,e.name)}function _v(t,e){return fd(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ev=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&av(this.priorityNode_),this.children_.isEmpty()&&pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return cv||(cv=new t(new dv(_v),null,bv.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||cv},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?cv:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(pe(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Jd(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?cv:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;pe(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(lv,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+ov(this.getPriority().val())+":"),this.forEachChild(lv,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Zp(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Jd(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Jd(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Jd(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Jd.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Jd.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Tv?-1:0},t.prototype.withIndex=function(e){if(e===ev||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===ev||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(lv),r=e.getIterator(lv),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===ev?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Tv=new(function(t){function e(){return t.call(this,new dv(_v),Ev.EMPTY_NODE,bv.Default)||this}return re(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ev.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ev));Object.defineProperties(Jd,{MIN:{value:new Jd(ld,Ev.EMPTY_NODE)},MAX:{value:new Jd(hd,Tv)}}),tv.__EMPTY_NODE=Ev.EMPTY_NODE,sv.__childrenNodeConstructor=Ev,xd=Tv,function(t){iv=t}(Tv);function Iv(t,e){if(void 0===e&&(e=null),null===t)return Ev.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),pe(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new sv(t,Iv(e));if(t instanceof Array){var n=Ev.EMPTY_NODE;return yd(t,(function(e,r){if(Oe(t,e)&&"."!==e.substring(0,1)){var i=Iv(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Iv(e))}var r=[],i=!1;if(yd(t,(function(t,e){if("."!==t.substring(0,1)){var n=Iv(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Jd(t,n)))}})),0===r.length)return Ev.EMPTY_NODE;var o=yv(r,wv,(function(t){return t.name}),_v);if(i){var a=yv(r,lv.getCompare());return new Ev(o,Iv(e),new bv({".priority":a},{".priority":lv}))}return new Ev(o,Iv(e),bv.Default)}!function(t){rv=t}(Iv);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sv,Cv=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return re(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?fd(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Jd.MIN},e.prototype.maxPost=function(){return Jd.MAX},e.prototype.makePost=function(t,e){var n=Iv(t);return new Jd(e,n)},e.prototype.toString=function(){return".value"},e}(Zd)),Nv=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,pe(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return re(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?fd(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Iv(t),r=Ev.EMPTY_NODE.updateChild(this.indexPath_,n);return new Jd(e,r)},e.prototype.maxPost=function(){var t=Ev.EMPTY_NODE.updateChild(this.indexPath_,Tv);return new Jd(hd,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Zd),kv=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return qe("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return qe("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return qe("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return qe("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){qe("DataSnapshot.child",0,1,arguments.length),e=String(e),Wd("DataSnapshot.child",1,e,!1);var n=new Td(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,lv)},t.prototype.hasChild=function(t){qe("DataSnapshot.hasChild",1,1,arguments.length),Wd("DataSnapshot.hasChild",1,t,!1);var e=new Td(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return qe("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(qe("DataSnapshot.forEach",1,1,arguments.length),ze("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),lv))}))},t.prototype.hasChildren=function(){return qe("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return qe("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return qe("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Av=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())},t}(),xv=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Pv=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Av("value",this,new kv(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){pe(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new xv(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Rv=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Oe(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new xv(this,t,e):null},t.prototype.createEvent=function(t,e){pe(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Av(t.type,this,new kv(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){pe(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Ov=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return pe(Sv,"Reference.ts has not been loaded"),Sv},set:function(t){Sv=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ev){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ld)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==hd)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===lv){if(null!=e&&!Fd(e)||null!=n&&!Fd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(pe(t.getIndex()instanceof Nv||t.getIndex()===Cv,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return qe("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){qe("Query.on",2,4,arguments.length),Bd("Query.on",1,e,!1),ze("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Pv(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Rv(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){qe("Query.off",0,3,arguments.length),Bd("Query.off",1,t,!0),ze("Query.off",2,e,!0),We("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new Pv(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Rv(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;qe("Query.once",1,4,arguments.length),Bd("Query.once",1,e,!1),ze("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new we;u.promise.catch((function(){}));var c=function(t){s&&(s=!1,o.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(qe("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(qe("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(qe("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wd("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Td(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Nv(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){qe("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(ev);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){qe("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(lv);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){qe("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Cv);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),qe("Query.startAt",0,2,arguments.length),Ud("Query.startAt",1,e,this.path,!0),zd("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),qe("Query.endAt",0,2,arguments.length),Ud("Query.endAt",1,e,this.path,!0),zd("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(qe("Query.equalTo",1,2,arguments.length),Ud("Query.equalTo",1,t,this.path,!1),zd("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return qe("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return qe("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=vd(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(qe("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,ze(t,3,r.cancel,!0),r.context=n,We(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Be(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Dv=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Lv=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Mv=function(t,e,n){return t&&"object"==typeof t?(pe(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Fv(t[".sv"],e,n):"object"==typeof t[".sv"]?Uv(t[".sv"],e):void pe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Fv=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:pe(!1,"Unexpected server value: "+t)}},Uv=function(t,e,n){t.hasOwnProperty("increment")||pe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&pe(!1,"Unexpected increment value: "+r);var i=e.node();if(pe(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},jv=function(t,e,n,r){return qv(e,new Lv(n,t),r)},Vv=function(t,e,n){return qv(t,new Dv(e),n)};function qv(t,e,n){var r,i=t.getPriority().val(),o=Mv(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Mv(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new sv(s,Iv(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new sv(o))),u.forEachChild(lv,(function(t,i){var o=qv(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bv,zv=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(lv,(function(t,e){n.remember(new Td(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Td(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bv||(Bv={}));var Wv,Hv,Kv=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,pe(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Gv=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Bv.ACK_USER_WRITE,this.source=Kv.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Td(e));return new t(Td.Empty,n,this.revert)}return pe(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Qv=function(){function t(t,e){void 0===e&&(Wv||(Wv=new dv(pd)),e=Wv),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return yd(e,(function(t,e){n=n.set(new Td(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Td.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Td(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(Td.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Td.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Td.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Td.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),$v=function(){function t(t,e){this.source=t,this.path=e,this.type=Bv.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Td.Empty):new t(this.source,this.path.popFront())},t}(),Yv=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Bv.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Td.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Xv=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Bv.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Td(e));return n.isEmpty()?null:n.value?new Yv(this.source,Td.Empty,n.value):new t(this.source,Td.Empty,n)}return pe(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Jv=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Zv=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Jv(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Jv(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Jv(Ev.EMPTY_NODE,!1,!1),new Jv(Ev.EMPTY_NODE,!1,!1)),t}(),tm=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),em=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){pe(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(tm.childRemovedChange(e,a)):pe(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(tm.childAddedChange(e,n)):o.trackChildChange(tm.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(lv,(function(t,r){e.hasChild(t)||n.trackChildChange(tm.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(lv,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(tm.childChangedChange(e,r,i))}else n.trackChildChange(tm.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ev.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),nm=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;pe(e===tm.CHILD_ADDED||e===tm.CHILD_CHANGED||e===tm.CHILD_REMOVED,"Only child changes supported for tracking"),pe(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===tm.CHILD_ADDED&&i===tm.CHILD_REMOVED)this.changeMap.set(n,tm.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===tm.CHILD_REMOVED&&i===tm.CHILD_ADDED)this.changeMap.delete(n);else if(e===tm.CHILD_REMOVED&&i===tm.CHILD_CHANGED)this.changeMap.set(n,tm.childRemovedChange(n,r.oldSnap));else if(e===tm.CHILD_CHANGED&&i===tm.CHILD_ADDED)this.changeMap.set(n,tm.childAddedChange(n,t.snapshotNode));else{if(e!==tm.CHILD_CHANGED||i!==tm.CHILD_CHANGED)throw de("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,tm.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),rm=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),im=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Jv(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),om=function(t,e){this.viewCache=t,this.changes=e},am=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){pe(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),pe(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new nm;if(n.type===Bv.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(pe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===Bv.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,s):(pe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,s))}else if(n.type===Bv.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,s):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Bv.LISTEN_COMPLETE)throw de("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,o,h),new om(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(tm.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(pe(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Ev?u:Ev.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){pe(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),m=void 0;if(o.isCompleteForChild(f)){s=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);m=null!=y?o.getNode().getImmediateChild(f).updateChild(v,y):o.getNode().getImmediateChild(f)}else m=n.calcCompleteChild(f,t.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),f,m,v,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,rm,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new im(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new im(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Ev.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Qv.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new Td(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new Td(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Qv.Empty;return s.getNode().forEachChild(ev,(function(t,e){u=u.set(new Td(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Qv.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,rm,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new im(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();pe(l instanceof Ev,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(s,h,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Ev.EMPTY_NODE,e.popFront(),a,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Td.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),sm=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===tm.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(tm.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,tm.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,tm.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,tm.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,tm.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,tm.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw de("Should only compare child_ events.");var n=new Jd(t.childName,t.snapshotNode),r=new Jd(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),um=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new em(n.getIndex()),i=n.getNodeFilter();this.processor_=new am(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Ev.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ev.EMPTY_NODE,a.getNode(),null),c=new Jv(s,o.isFullyInitialized(),r.filtersNodes()),l=new Jv(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Zv(l,c),this.eventGenerator_=new sm(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){pe(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Bv.MERGE&&null!==t.source.queryId&&(pe(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),pe(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),pe(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(lv,(function(t,e){n.push(tm.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(tm.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),cm=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return pe(Hv,"Reference.ts has not been loaded"),Hv},set:function(t){pe(!Hv,"__referenceConstructor has already been defined"),Hv=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return pe(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=se(this.views.values()),c=u.next();!c.done;c=u.next()){a=c.value;s=s.concat(a.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ev?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ev.EMPTY_NODE,u=!1);var c=new Zv(new Jv(s,u,!1),new Jv(r,i,!1));a=new um(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,a=e.queryIdentifier(),s=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var l=se(this.views.entries()),h=l.next();!h.done;h=l.next()){var f=ue(h.value,2),p=f[0],d=f[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery()))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(d=this.views.get(a))&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery())));return c&&!this.hasCompleteView()&&s.push(new t.__referenceConstructor(e.repo,e.path)),{removed:s,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=se(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=se(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=se(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),lm=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Qv(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Td.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new Qv(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return yd(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Qv.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Td.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(lv,(function(e,n){t.push(new Jd(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Jd(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Qv(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(pe(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Td.Empty,this.writeTree_,t)},t.Empty=new t(new Qv(null)),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hm=function(){function t(){this.visibleWrites_=lm.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new fm(t,this)},t.prototype.addOverwrite=function(t,e,n,r){pe(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){pe(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));pe(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):yd(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(Td.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||Ev.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(Td.Empty)){var c=n||Ev.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ev.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(lv,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(lv,(function(t,e){var r=i.childCompoundWrite(new Td(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){pe(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Td.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Td.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=lm.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Td.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=Td.relativePath(a,n),r=r.addWrite(Td.Empty,o.snap.getChild(s)));else{if(!o.children)throw de("WriteRecord should have .snap or .children");if(n.contains(a))s=Td.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if((s=Td.relativePath(a,n)).isEmpty())r=r.addWrites(Td.Empty,o.children);else{var u=De(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(Td.Empty,c)}}}}}return r},t}(),fm=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),pm=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Qv.Empty,this.pendingWriteTree_=new hm,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Yv(Kv.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Qv.fromObject(e);return this.applyOperationToSyncPoints_(new Xv(Kv.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Qv.Empty;return null!=n.snap?r=r.set(Td.Empty,!0):yd(n.children,(function(t,e){r=r.set(new Td(t),e)})),this.applyOperationToSyncPoints_(new Gv(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Yv(Kv.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Qv.fromObject(e);return this.applyOperationToSyncPoints_(new Xv(Kv.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new $v(Kv.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Td.relativePath(a,e),c=new Yv(Kv.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Td.relativePath(a,e),c=Qv.fromObject(n),l=new Xv(Kv.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Td.relativePath(o,e),u=new $v(Kv.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Td.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,s=this.syncPointTree_.get(r);(s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(Td.Empty)):(s=new cm,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=Ev.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Td.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);pe(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=s.addEventRegistration(e,n,h,i,a);if(!u&&!o){var p=s.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],m=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Td.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),yd(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)pe(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),yd(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ev.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return pe(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Td(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);pe(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Td.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Td.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Td.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Td.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Td.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),dm=function(){function t(){this.rootNode_=Ev.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),vm=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Oe(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return ge(this.counters_)},t}(),mm=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new vm),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),ym=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=ie({},t);return this.last_&&yd(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),gm=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ym(t);var n=1e4+2e4*Math.random();Ed(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;yd(e,(function(e,i){i>0&&Oe(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Ed(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),bm=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new wm(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),wm=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();ed&&id("event: "+e.toString()),_d(n)}}},t.prototype.getPath=function(){return this.path_},t}(),_m=function(){function t(t){this.allowedEvents_=t,this.listeners_={},pe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=ce(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){pe(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Em=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return re(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return pe("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(_m),Tm=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Ee()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return re(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return pe("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(_m),Im=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&_d((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Sm=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=od(t),this.stats_=mm.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Im(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Cm((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ue(t,5),i=r[0],o=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ue(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Pe(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=ve(e),me.encodeByteArray(n,!0)),i=md(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=Pe(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Cm=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Jp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){id("frame writing exception"),t.stack&&id(t.stack),id(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||id("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){id("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),Nm="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var km=null;"undefined"!=typeof MozWebSocket?km=MozWebSocket:"undefined"!=typeof WebSocket&&(km=WebSocket);var Am=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=od(this.connId),this.stats_=mm.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$p.set("previous_websocket_failure",!0);try{if(Se()){var r=he?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+Nm+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a}),this.mySock=new km(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new km(this.connURL,[],i)}}catch(t){this.log_("Error instantiating WebSocket.");var s=t.message||t.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==km&&!t.forceDisallow_},t.previouslyFailed=function(){return $p.isInMemoryStorage||!0===$p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){$p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=xe(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(pe(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Pe(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=md(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),xm=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Sm,Am]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Am&&Am.isAvailable(),o=i&&!Am.previouslyFailed();if(e.webSocketOnly&&(i||ud("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Am];else{var a=this.transports_=[];try{for(var s=se(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Pm=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=od("c:"+this.id+":"),this.transportManager_=new xm(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ed((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=dd("t",t),n=dd("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=dd("t",t),n=dd("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=dd("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?ad("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ad("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&ud("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ed((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ed((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Rm=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Om=function(t){function e(n,r,i,o,a,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=od("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Se())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Em.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Tm.getInstance().on("online",c.onOnline_,c),c}return re(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Pe(i)),pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),pe(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),pe(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Oe(t,"w")){var n=De(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();ud("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=Re(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=Re(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),pe(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Pe(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):ad("Unrecognized action received from server: "+Pe(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(t){pe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then((function(e){s?id("getToken() completed but was canceled"):(id("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Pm(i,o.repoInfo_,o.applicationId_,t,n,r,(function(t){ud(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(t){o.log_("Failed to get token: "+t),s||c()}))}},e.prototype.interrupt=function(t){id("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){id("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Le(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return vd(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Td(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){id("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=se(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,se(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Nm.replace(/\./g,"-")]=1,Ee()?t["framework.cordova"]=1:Ie()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Tm.getInstance().currentlyOnline();return Le(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Rm),Dm=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=od("p:rest:"),i.listens_={},i}return re(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(pe(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),De(o.listens_,s)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=xe(s.responseText)}catch(t){ud("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&ud("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},e}(Rm),Lm=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new zv,this.persistentConnection_=null,this.stats_=mm.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Dm(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Om(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=mm.getOrCreateReporter(t,(function(){return new gm(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new dm,this.infoSyncTree_=new pm({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new pm({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Td(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Td(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=Me(e,(function(t){return Iv(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=Iv(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=Me(e,(function(t){return Iv(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Iv(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;yd(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Td("/.info/"+t),r=Iv(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Iv(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=Vv(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||ud("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(yd(e,(function(e,n){i=!1,a[e]=jv(t.child(e),Iv(n),r.serverSyncTree_,o)})),i)id("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||ud("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),yd(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new zv;this.onDisconnect_.forEachTree(Td.Empty,(function(r,i){var o=jv(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Td.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new zv,this.eventQueue_.raiseEventsForChangedPath(Td.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Iv(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Iv(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Le(e))return id("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&yd(e,(function(e,n){var i=Iv(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new ym(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);yd(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),id.apply(void 0,ce([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&_d((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Km(this))},enumerable:!1,configurable:!0}),t}(),Mm=function(){function t(e){this.indexedFilter_=new em(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Jd(e,n))||(n=Ev.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ev.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ev.EMPTY_NODE);var i=this;return e.forEachChild(lv,(function(t,e){i.matches(new Jd(t,e))||(r=r.updateImmediateChild(t,Ev.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Fm=function(){function t(t){this.rangedFilter_=new Mm(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Jd(e,n))||(n=Ev.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ev.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ev.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ev.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ev.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;pe(s.numChildren()===this.limit_,"");var u=new Jd(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(tm.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(tm.childRemovedChange(e,h));var d=s.updateImmediateChild(e,Ev.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(tm.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(tm.childRemovedChange(c.name,c.node)),i.trackChildChange(tm.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Ev.EMPTY_NODE)):t},t}(),Um=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lv}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ld},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hd},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return pe(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==lv&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===lv},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new em(this.getIndex()):this.hasLimit()?new Fm(this):new Mm(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===lv?e=n.PRIORITY_INDEX:this.index_===Cv?e=n.VALUE_INDEX:this.index_===ev?e=n.KEY_INDEX:(pe(this.index_ instanceof Nv,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Pe(e),this.startSet_&&(r[n.START_AT]=Pe(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Pe(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Pe(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Pe(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),jm=function(t){function e(e,n){if(!(e instanceof Lm))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Um.DEFAULT,!1)||this}return re(e,t),e.prototype.getKey=function(){return qe("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return qe("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Td||(null===this.path.getFront()?Hd("Reference.child",1,t,!1):Wd("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){qe("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){qe("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){qe("Reference.set",1,2,arguments.length),Kd("Reference.set",this.path),Ud("Reference.set",1,t,this.path,!1),ze("Reference.set",2,e,!0);var n=new we;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(qe("Reference.update",1,2,arguments.length),Kd("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,ud("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vd("Reference.update",1,t,this.path,!1),ze("Reference.update",2,e,!0);var i=new we;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(qe("Reference.setWithPriority",2,3,arguments.length),Kd("Reference.setWithPriority",this.path),Ud("Reference.setWithPriority",1,t,this.path,!1),qd("Reference.setWithPriority",2,e,!1),ze("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new we;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return qe("Reference.remove",0,1,arguments.length),Kd("Reference.remove",this.path),ze("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(qe("Reference.transaction",1,3,arguments.length),Kd("Reference.transaction",this.path),ze("Reference.transaction",1,t,!1),ze("Reference.transaction",2,e,!0),Qd("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new we;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new Yd(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){qe("Reference.setPriority",1,2,arguments.length),Kd("Reference.setPriority",this.path),qd("Reference.setPriority",1,t,!1),ze("Reference.setPriority",2,e,!0);var n=new we;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){qe("Reference.push",0,2,arguments.length),Kd("Reference.push",this.path),Ud("Reference.push",1,t,this.path,!0),ze("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Xd(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return Kd("Reference.onDisconnect",this.path),new $d(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ov);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ov.__referenceConstructor=jm,cm.__referenceConstructor=jm;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vm,qm=function(){this.children={},this.childCount=0,this.value=null},Bm=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new qm),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Td?e:new Td(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,De(r.node_.children,i)||new qm),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){pe(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;yd(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Td(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Oe(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(Vm||(Vm={})),Lm.MAX_TRANSACTION_RETRIES_=25,Lm.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Bm},Lm.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new jm(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:Jp(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new kv(a.currentInputSnapshot,new jm(this,a.path),lv);a.onComplete(null,!1,c)}}else{jd("transaction failed: Data returned ",u,a.path),a.status=Vm.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(a),l.setValue(h);var f=void 0;if("object"==typeof u&&null!==u&&Oe(u,".priority"))f=De(u,".priority"),pe(Fd(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||Ev.EMPTY_NODE).getPriority().val();f=f;var p=this.generateServerValues(),d=Iv(u,f),v=Vv(d,s,p);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,v,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},Lm.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ev.EMPTY_NODE},Lm.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);pe(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===Vm.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Lm.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];pe(u.status===Vm.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=Vm.SENT,u.retryCount++;var c=Td.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=Vm.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new jm(n,e[a].path),c=new kv(s,u,lv);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)_d(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===Vm.SENT_NEEDS_ABORT?e[a].status=Vm.NEEDS_ABORT:e[a].status=Vm.RUN;else{ud("transaction at "+h.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=Vm.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}}),a)},Lm.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},Lm.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===Vm.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var s=t[a],u=Td.relativePath(e,s.path),c=!1,l=void 0;if(pe(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===Vm.NEEDS_ABORT)c=!0,l=s.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===Vm.RUN)if(s.retryCount>=Lm.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,o);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){jd("transaction failed: Data returned ",f,s.path);var p=Iv(f);"object"==typeof f&&null!=f&&Oe(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=s.currentWriteId,v=this.generateServerValues(),m=Vv(p,h,v);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(d),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[a].status=Vm.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if("nodata"===l){var y=new jm(this,t[a].path),g=t[a].currentInputSnapshot,b=new kv(g,y,lv);r.push(t[a].onComplete.bind(null,null,!1,b))}else r.push(t[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)_d(r[a]);this.sendReadyTransactions_()}},Lm.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Lm.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Lm.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Lm.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Vm.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Lm.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Lm.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===Vm.SENT_NEEDS_ABORT);else if(e[o].status===Vm.SENT)pe(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=Vm.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(pe(e[o].status===Vm.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)_d(n[o])}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zm,Wm=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(id("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ud(t)},t}(),Hm=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return zm||(zm=new t),zm},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=se(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,se(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=se(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,se(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&sd("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=Pd(r),o=i.repoInfo,a=void 0;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(!0,r="http://"+a+"?ns="+o.namespace,o=(i=Pd(r)).repoInfo):i.repoInfo.secure;var s=new Wm(t,e);return Gd("Invalid Firebase Database URL",1,i),i.path.isEmpty()||sd("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,s).database},t.prototype.deleteRepo=function(t){var e=De(this.repos_,t.app.name);e&&De(e,t.repoInfo_.toURLString())===t||sd("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=De(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=De(r,t.toURLString());return i&&sd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Lm(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Km=function(){function t(t){this.repo_=t,t instanceof Lm||sd("Don't call new Database() directly - please use firebase.database()."),this.root_=new jm(t,Td.Empty),this.INTERNAL=new Gm(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),qe("database.ref",0,1,arguments.length),t instanceof jm?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),qe(e,1,1,arguments.length);var n=Pd(t);Gd(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&sd(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&sd("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){qe("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){qe("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Gm=function(){function t(t){this.database=t}return t.prototype.delete=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){return this.database.checkDeleted_("delete"),Hm.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),Qm=Object.freeze({__proto__:null,forceLongPolling:function(){Am.forceDisallow(),Sm.forceAllow()},forceWebSockets:function(){Sm.forceDisallow()},isWebSocketsAvailable:function(){return Am.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),$m=Om;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Om.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Om.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ym,Xm=Pm,Jm=Sd,Zm=Object.freeze({__proto__:null,DataConnection:$m,RealTimeConnection:Xm,hijackHash:function(t){var e=Om.prototype.put;return Om.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Om.prototype.put=e}},ConnectionTarget:Jm,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Hm.getInstance().forceRestClient(t)}}),ty=Km.ServerValue;(function(t){Nm=t})((Ym=gn).SDK_VERSION),Ym.INTERNAL.registerComponent(new Ke("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return Hm.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:jm,Query:Ov,Database:Km,DataSnapshot:kv,enableLogging:rd,INTERNAL:Qm,ServerValue:ty,TEST_ACCESS:Zm}).setMultipleInstances(!0)),Ym.registerVersion("@firebase/database","0.6.8");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ey=function(){function t(t,e){this.code_=wy(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return wy(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),ny="unknown",ry="object-not-found",iy="quota-exceeded",oy="unauthenticated",ay="unauthorized",sy="retry-limit-exceeded",uy="canceled",cy="invalid-url",ly="invalid-default-bucket",hy="cannot-slice-blob",fy="server-file-wrong-size",py="no-download-url",dy="invalid-argument",vy="invalid-argument-count",my="app-deleted",yy="invalid-root-operation",gy="invalid-format",by="internal-error";function wy(t){return"storage/"+t}function _y(){return new ey(ny,"An unknown error occurred, please check the error payload for server response.")}function Ey(){return new ey(uy,"User canceled the upload/download.")}function Ty(){return new ey(hy,"Cannot slice blob for upload. Please retry the upload.")}function Iy(){return new ey(py,"The given file does not have any download URLs.")}function Sy(t,e,n){return new ey(dy,"Invalid argument in `"+e+"` at index "+t+": "+n)}function Cy(){return new ey(my,"The Firebase app was deleted.")}function Ny(t,e){return new ey(gy,"String does not match format '"+t+"': "+e)}function ky(t){throw new ey(by,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ay={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function xy(t){switch(t){case Ay.RAW:case Ay.BASE64:case Ay.BASE64URL:case Ay.DATA_URL:return;default:throw"Expected one of the event types: ["+Ay.RAW+", "+Ay.BASE64+", "+Ay.BASE64URL+", "+Ay.DATA_URL+"]."}}var Py=function(t,e){this.data=t,this.contentType=e||null};function Ry(t,e){switch(t){case Ay.RAW:return new Py(Oy(e));case Ay.BASE64:case Ay.BASE64URL:return new Py(Dy(t,e));case Ay.DATA_URL:return new Py((n=new Ly(e)).base64?Dy(Ay.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw Ny(Ay.DATA_URL,"Malformed data URL.")}return Oy(e)}(n.rest),function(t){return new Ly(t).contentType}(e))}var n;throw _y()}function Oy(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Dy(t,e){switch(t){case Ay.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Ny(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ay.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Ny(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw Ny(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Ly=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ny(Ay.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var My,Fy={STATE_CHANGED:"state_changed"},Uy="running",jy="pausing",Vy="paused",qy="success",By="canceling",zy="canceled",Wy="error",Hy={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ky(t){switch(t){case Uy:case jy:case By:return Hy.RUNNING;case Vy:return Hy.PAUSED;case qy:return Hy.SUCCESS;case zy:return Hy.CANCELED;case Wy:default:return Hy.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){return null!=t}function Qy(t){return void 0!==t}function $y(t){return"function"==typeof t}function Yy(t){return"object"==typeof t}function Xy(t){return Yy(t)&&null!==t}function Jy(t){return"string"==typeof t||t instanceof String}function Zy(t){return tg(t)&&Number.isInteger(t)}function tg(t){return"number"==typeof t||t instanceof Number}function eg(t){return ng()&&t instanceof Blob}function ng(){return"undefined"!=typeof Blob}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(My||(My={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=My.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=My.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=My.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw ky("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Gy(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Gy(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ky("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ky("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ky("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Gy(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Gy(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ig=function(){function t(){}return t.prototype.createXhrIo=function(){return new rg},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function og(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ag(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=og();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ng())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sg=function(){function t(t,e){var n=0,r="";eg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(eg(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ng()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(ag.apply(null,r))}var i=e.map((function(t){return Jy(t)?Ry(Ay.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ug=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new ey(ly,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.bucket],h=c[u.indices.path];h||(h=""),n=new t(l,h),u.postModify(n);break}}if(null==n)throw function(t){return new ey(cy,"Invalid URL '"+t+"'.")}(e);return n},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cg(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return Yy(t)&&!Array.isArray(t)}(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function hg(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){return"https://firebasestorage.googleapis.com/v0"+t}function pg(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){return e}var vg=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||dg},mg=null;function yg(){if(mg)return mg;var t=[];t.push(new vg("bucket")),t.push(new vg("generation")),t.push(new vg("metageneration")),t.push(new vg("name","fullPath",!0));var e=new vg("name");e.xform=function(t,e){return function(t){return!Jy(t)||t.length<2?t:hg(t)}(e)},t.push(e);var n=new vg("size");return n.xform=function(t,e){return Gy(e)?Number(e):e},t.push(n),t.push(new vg("timeCreated")),t.push(new vg("updated")),t.push(new vg("md5Hash",null,!0)),t.push(new vg("cacheControl",null,!0)),t.push(new vg("contentDisposition",null,!0)),t.push(new vg("contentEncoding",null,!0)),t.push(new vg("contentLanguage",null,!0)),t.push(new vg("contentType",null,!0)),t.push(new vg("metadata","customMetadata",!0)),mg=t}function gg(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new ug(n,r);return e.makeStorageReference(i)}})}(r,t),r}function bg(t,e,n){var r=cg(e);return null===r?null:gg(t,r,n)}function wg(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function _g(t){if(!Yy(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!Yy(n))throw"Expected object for 'customMetadata' mapping."}else if(Xy(n))throw"Mapping for '"+e+"' cannot be an object."}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e,n){var r=cg(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new ug(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new ug(e,l.name));r.items.push(s)}return r}(t,e,r)}function Tg(t){if(!Yy(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!Zy(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!Jy(t.pageToken))throw"Expected pageToken to be string."}}var Ig=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){if(!t)throw _y()}function Cg(t,e){return function(n,r){var i=bg(t,r,e);return Sg(null!==i),i}}function Ng(t,e){return function(n,r){var i=bg(t,r,e);return Sg(null!==i),function(t,e){var n=cg(e);if(null===n)return null;if(!Jy(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return fg("/b/"+i(n)+"/o/"+i(r))+pg({alt:"media",token:e})}))[0]}(i,r)}}function kg(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new ey(oy,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new ey(iy,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new ey(ay,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Ag(t){var e=kg(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new ey(ry,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function xg(t,e,n){var r=fg(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Ig(r,"GET",Cg(t,n),i);return o.errorHandler=Ag(e),o}function Pg(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=fg(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new Ig(a,"GET",function(t,e){return function(n,r){var i=Eg(t,e,r);return Sg(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=kg(e),u}function Rg(t,e,n){var r=fg(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Ig(r,"GET",Ng(t,n),i);return o.errorHandler=Ag(e),o}function Og(t,e,n,r){var i=fg(e.fullServerUrl()),o=wg(n,r),a=t.maxOperationRetryTime(),s=new Ig(i,"PATCH",Cg(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ag(e),s}function Dg(t,e){var n=fg(e.fullServerUrl()),r=t.maxOperationRetryTime();var i=new Ig(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=Ag(e),i}function Lg(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var Mg=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Fg(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Sg(!1)}return Sg(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Ug(t,e,n,r,i,o,a,s){var u=new Mg(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ey(fy,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw Ty();var v=e.maxUploadRetryTime(),m=new Ig(n,"POST",(function(t,n){var i,a=Fg(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Cg(e,o)(t,n):null,new Mg(s,c,"final"===a,i)}),v);return m.headers=p,m.body=d.uploadData(),m.progressCallback=s||null,m.errorHandler=kg(t),m}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jg=function(t,e,n){if($y(t)||Gy(e)||Gy(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Vg=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qg(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var a,s,u,c,l,h;if(!(r<=n.length&&n.length<=i))throw a=r,s=i,u=t,c=n.length,a===s?(l=a,h=1===a?"argument":"arguments"):(l="between "+a+" and "+s,h="arguments"),new ey(vy,"Invalid argument count in `"+u+"`: Expected "+l+" "+h+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?Sy(o,t,e.message):Sy(o,t,e)}}var Bg=function(t,e){var n=this;this.validator=function(e){n.optional&&!Qy(e)||t(e)},this.optional=!!e};function zg(t,e){function n(t){if(!Jy(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new Bg(r,e)}function Wg(){return new Bg((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||ng()&&t instanceof Blob))throw"Expected Blob or File."}))}function Hg(t){return new Bg(_g,t)}function Kg(t){return new Bg(Tg,t)}function Gg(){return new Bg((function(t){if(!(tg(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Qg(t,e){return new Bg((function(e){if(!(null===e||Gy(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function $g(t){return new Bg((function(t){if(!(null===t||$y(t)))throw"Expected a Function."}),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xg=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Uy,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(uy)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(Wy))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(uy)?a.completeTransitions_():(a.error_=t,a.transition_(Wy))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===Uy&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case Uy:t(n);break;case By:e.transition_(zy);break;case jy:e.transition_(Vy)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Lg(e,r,i),s={name:a.fullPath},u=fg(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=wg(a,n),h=t.maxUploadRetryTime(),f=new Ig(u,"POST",(function(t){var e;Fg(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Sg(!1)}return Sg(Jy(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=kg(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new Ig(n,"POST",(function(t){var e=Fg(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Sg(!1)}n||Sg(!1);var i=Number(n);return Sg(!isNaN(i)),new Mg(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=kg(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Mg(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=Ug(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(Wy)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(qy)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=xg(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(qy)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Lg(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wg(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=sg.getBlob(c,r,l);if(null===h)throw Ty();var f={name:u.fullPath},p=fg(o),d=t.maxUploadRetryTime(),v=new Ig(p,"POST",Cg(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=kg(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(qy)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case By:case jy:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Uy:var e=this.state_===Vy;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Vy:this.state_=t,this.notifyObservers_();break;case zy:this.error_=Ey(),this.state_=t,this.notifyObservers_();break;case Wy:case qy:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case jy:this.transition_(Vy);break;case By:this.transition_(zy);break;case Uy:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Ky(this.state_);return new Vg(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==Fy.STATE_CHANGED)throw"Expected one of the event types: ["+Fy.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=$g(!0).validator,s=Qg(null,!0).validator;function u(t){try{return void a(t)}catch(t){}try{if(s(t),!(Qy(t.next)||Qy(t.error)||Qy(t.complete)))throw"";return}catch(t){throw o}}var c=[zg(i),Qg(u,!0),$g(!0),$g(!0)];qg("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&qg("on",t,arguments);var o=new jg(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var p=[Qg(f),$g(!0),$g(!0)],d=!(Qy(e)||Qy(n)||Qy(r));return d?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Ky(this.state_)){case Hy.SUCCESS:Yg(this.resolve_.bind(null,this.snapshot))();break;case Hy.CANCELED:case Hy.ERROR:Yg(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Ky(this.state_)){case Hy.RUNNING:case Hy.PAUSED:t.next&&Yg(t.next.bind(t,this.snapshot))();break;case Hy.SUCCESS:t.complete&&Yg(t.complete.bind(t))();break;case Hy.CANCELED:case Hy.ERROR:t.error&&Yg(t.error.bind(t,this.error_))();break;default:t.error&&Yg(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){qg("resume",[],arguments);var t=this.state_===Vy||this.state_===jy;return t&&this.transition_(Uy),t},t.prototype.pause=function(){qg("pause",[],arguments);var t=this.state_===Uy;return t&&this.transition_(jy),t},t.prototype.cancel=function(){qg("cancel",[],arguments);var t=this.state_===Uy||this.state_===jy;return t&&this.transition_(By),t},t}(),Jg=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof ug?e:ug.makeFromUrl(e)}return t.prototype.toString=function(){return qg("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return yg()},t.prototype.child=function(t){qg("child",[zg()],arguments);var e=lg(this.location.path,t),n=new ug(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new ug(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new ug(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return hg(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),qg("put",[Wg(),Hg(!0)],arguments),this.throwIfRoot_("put"),new Xg(this,this.authWrapper,this.location,this.mappings(),new sg(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Ay.RAW),qg("putString",[zg(),zg(xy,!0),Hg(!0)],arguments),this.throwIfRoot_("putString");var r=Ry(e,t),i=Object.assign({},n);return!Gy(i.contentType)&&Gy(r.contentType)&&(i.contentType=r.contentType),new Xg(this,this.authWrapper,this.location,this.mappings(),new sg(r.data,!0),i)},t.prototype.delete=function(){var t=this;return qg("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=Dg(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){qg("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o;return ae(this,(function(a){switch(a.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){qg("list",[Kg(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=Pg(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return qg("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=xg(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return qg("updateMetadata",[Hg()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Og(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return qg("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=Rg(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw Iy();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new ey(yy,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Zg=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),tb=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),eb=function(){function t(e,n,r,i,o,a){var s;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;Gy(u)&&(this.bucket_=t.extractBucket_(u),this.appId_=null!==(s=u.appId)&&void 0!==s?s:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new tb}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:ug.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw Cy();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Zg(Cy());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nb=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());Qy(s)?i(s):i()}catch(t){o(t)}else null!==a?((r=_y()).setServerResponseProp(a.getResponseText()),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?Cy():Ey()):o(r=new ey(sy,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new rb(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,s())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,le([null,t],e));else{var i,h=s()||o;if(h)c.call.apply(c,le([null,t],e));else r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i)}}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new rb(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===My.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new rb(a,n))}else{var s=n.getErrorCode()===My.ABORT;e(!1,new rb(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),rb=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function ib(t,e,n,r){var i=pg(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){var e=void 0!==gn?gn.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new nb(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ob=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new eb(t,e,(function(t,e){return new Jg(t,e)}),ib,this,n),this.app_=t,null!=r)this.bucket_=ug.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new ug(i,""))}this.internals_=new ab(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(qg("ref",[zg(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Jg(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{ug.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return qg("refFromURL",[zg(e,!1)],arguments),new Jg(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){qg("setMaxUploadRetryTime",[Gg()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){qg("setMaxOperationRetryTime",[Gg()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),ab=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function sb(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new ob(n,r,new ig,e)}!function(t){var e={TaskState:Hy,TaskEvent:Fy,StringFormat:Ay,Storage:ob,Reference:Jg};t.INTERNAL.registerComponent(new Ke("storage",sb,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.39")}(gn);const ub=gn.apps.length?gn.app():gn.initializeApp({apiKey:"AIzaSyBH-rhyR8tHJ0b6jsCqVkkZeYQKgKinndo",authDomain:"fishingbuddy-web.firebaseapp.com",databaseURL:"https://fishingbuddy-web-default-rtdb.firebaseio.com",projectId:"fishingbuddy-web",storageBucket:"fishingbuddy-web.appspot.com",messagingSenderId:"1004313328108",appId:"1:1004313328108:web:7f3ef10e51cab8fcb168c9"}),cb=(ub.firestore(),ub.database(),ub.auth());ub.storage();async function lb(){const t=new gn.auth.GoogleAuthProvider;await cb.signInWithPopup(t),window.location.reload()}async function hb(){await cb.signOut(),window.location.reload()}function fb({children:e}){return t.createElement(t.Fragment,null,t.createElement("section",null,t.createElement("div",null,e)))}var pb=new WeakMap,db=0;var vb=new(function(){function t(t){void 0===t&&(t={}),this.__cache=new Map(Object.entries(t)),this.__listeners=[]}return t.prototype.get=function(t){var e=this.serializeKey(t)[0];return this.__cache.get(e)},t.prototype.set=function(t,e,n){void 0===n&&(n=!0);var r=this.serializeKey(t)[0];this.__cache.set(r,e),n&&Cb(t,e,!1),this.notify()},t.prototype.keys=function(){return Array.from(this.__cache.keys())},t.prototype.has=function(t){var e=this.serializeKey(t)[0];return this.__cache.has(e)},t.prototype.clear=function(t){void 0===t&&(t=!0),t&&this.__cache.forEach((function(t){return Cb(t,null,!1)})),this.__cache.clear(),this.notify()},t.prototype.delete=function(t,e){void 0===e&&(e=!0);var n=this.serializeKey(t)[0];e&&Cb(t,null,!1),this.__cache.delete(n),this.notify()},t.prototype.serializeKey=function(t){var e=null;if("function"==typeof t)try{t=t()}catch(e){t=""}return Array.isArray(t)?(e=t,t=function(t){if(!t.length)return"";for(var e="arg",n=0;n<t.length;++n){var r=void 0;null===t[n]||"object"!=typeof t[n]?r="string"==typeof t[n]?'"'+t[n]+'"':String(t[n]):pb.has(t[n])?r=pb.get(t[n]):(r=db,pb.set(t[n],db++)),e+="@"+r}return e}(t)):t=String(t||""),[t,e,t?"err@"+t:""]},t.prototype.subscribe=function(t){var e=this;if("function"!=typeof t)throw new Error("Expected the listener to be a function.");var n=!0;return this.__listeners.push(t),function(){if(n){n=!1;var r=e.__listeners.indexOf(t);r>-1&&(e.__listeners[r]=e.__listeners[e.__listeners.length-1],e.__listeners.length--)}}},t.prototype.notify=function(){for(var t=0,e=this.__listeners;t<e.length;t++){(0,e[t])()}},t}()),mb={},yb={},gb={},bb={},wb=("undefined"!=typeof window&&navigator.connection&&["slow-2g","2g"].indexOf(navigator.connection.effectiveType),!1);if("undefined"!=typeof window&&window.addEventListener&&!wb){var _b=function(){if(!("undefined"!=typeof document&&void 0!==document.visibilityState&&"hidden"===document.visibilityState||void 0!==navigator.onLine&&!navigator.onLine))for(var t in yb)yb[t][0]&&yb[t][0]()};window.addEventListener("visibilitychange",_b,!1),window.addEventListener("focus",_b,!1),wb=!0}var Eb=l({});Eb.displayName="SWRConfigContext";var Tb=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Ib=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Sb=function(t,e){void 0===e&&(e=!0);var n=vb.serializeKey(t),r=n[0],i=n[2];if(!r)return Promise.resolve();var o=gb[r];if(r&&o){for(var a=vb.get(r),s=vb.get(i),u=[],c=0;c<o.length;++c)u.push(o[c](e,a,s,c>0));return Promise.all(u).then((function(){return vb.get(r)}))}return Promise.resolve(vb.get(r))},Cb=function(t,e,n){return void 0===n&&(n=!0),Tb(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Ib(this,(function(p){switch(p.label){case 0:if(!(r=vb.serializeKey(t)[0]))return[2];if(void 0===e)return[2,Sb(t,n)];if(bb[r]=Date.now()-1,a=bb[r],s=mb[r],!e||"function"!=typeof e)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,e(vb.get(r))];case 2:return i=p.sent(),[3,4];case 3:return u=p.sent(),o=u,[3,4];case 4:return[3,11];case 5:if(!e||"function"!=typeof e.then)return[3,10];p.label=6;case 6:return p.trys.push([6,8,,9]),[4,e];case 7:return i=p.sent(),[3,9];case 8:return c=p.sent(),o=c,[3,9];case 9:return[3,11];case 10:i=e,p.label=11;case 11:if(a!==bb[r]||s!==mb[r]){if(o)throw o;return[2,i]}if(void 0!==i&&vb.set(r,i,!1),l=gb[r]){for(h=[],f=0;f<l.length;++f)h.push(l[f](!!n,i,o,f>0));return[2,Promise.all(h).then((function(){return vb.get(r)}))]}if(o)throw o;return[2,i]}}))}))};Eb.Provider;function Nb(){return t.createElement("div",{className:"spinner-container"},t.createElement("div",{className:"lds-dual-ring"},t.createElement("div",null),t.createElement("div",null),t.createElement("div",null),t.createElement("div",null)))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ab=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return re(e,t),e}(Error);var xb=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return oe(this,void 0,void 0,(function(){var t,e;return ae(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Rb=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Pb(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Pb(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new Rb,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new xb(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return oe(this,void 0,void 0,(function(){var r,i;return ae(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return oe(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,p;return ae(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&o.append("Authorization","Bearer "+a.authToken),a.instanceIdToken&&o.append("Firebase-Instance-ID-Token",a.instanceIdToken),s=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new Ab("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Db(c,this.postJSON(r,i,o)),l,Db(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new Ab("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!kb[s])return new Ab("internal","internal");r=kb[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new Ab(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new Ab("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new Ab("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},t}();function Db(t,e){return oe(this,void 0,void 0,(function(){var n;return ae(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new Ob(n,r,i,e)}function Mb(t){return Array.prototype.slice.call(t)}function Fb(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Ub(t,e,n){var r,i=new Promise((function(i,o){Fb(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function jb(t,e,n){var r=Ub(t,e,n);return r.then((function(t){if(t)return new Hb(t,r.request)}))}function Vb(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function qb(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Ub(this[e],r,arguments)})}))}function Bb(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function zb(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return jb(this[e],r,arguments)})}))}function Wb(t){this._index=t}function Hb(t,e){this._cursor=t,this._request=e}function Kb(t){this._store=t}function Gb(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function Qb(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Gb(n)}function $b(t){this._db=t}function Yb(t,e,n){var r=Ub(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new Qb(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new $b(t)}))}function Xb(t){return Ub(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){var e={Functions:Ob};t.INTERNAL.registerComponent(new Ke("functions",Lb,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(gn),gn.registerVersion("@firebase/functions","0.4.48"),Vb(Wb,"_index",["name","keyPath","multiEntry","unique"]),qb(Wb,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),zb(Wb,"_index",IDBIndex,["openCursor","openKeyCursor"]),Vb(Hb,"_cursor",["direction","key","primaryKey","value"]),qb(Hb,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Hb.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Fb(e._request).then((function(t){if(t)return new Hb(t,e._request)}))}))})})),Kb.prototype.createIndex=function(){return new Wb(this._store.createIndex.apply(this._store,arguments))},Kb.prototype.index=function(){return new Wb(this._store.index.apply(this._store,arguments))},Vb(Kb,"_store",["name","keyPath","indexNames","autoIncrement"]),qb(Kb,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),zb(Kb,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Bb(Kb,"_store",IDBObjectStore,["deleteIndex"]),Gb.prototype.objectStore=function(){return new Kb(this._tx.objectStore.apply(this._tx,arguments))},Vb(Gb,"_tx",["objectStoreNames","mode"]),Bb(Gb,"_tx",IDBTransaction,["abort"]),Qb.prototype.createObjectStore=function(){return new Kb(this._db.createObjectStore.apply(this._db,arguments))},Vb(Qb,"_db",["name","version","objectStoreNames"]),Bb(Qb,"_db",IDBDatabase,["deleteObjectStore","close"]),$b.prototype.transaction=function(){return new Gb(this._db.transaction.apply(this._db,arguments))},Vb($b,"_db",["name","version","objectStoreNames"]),Bb($b,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Kb,Wb].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=Mb(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Wb,Kb].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Jb,Zb=((Jb={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Jb["not-registered"]="Firebase Installation is not registered.",Jb["installation-not-found"]="Firebase Installation not found.",Jb["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Jb["app-offline"]="Could not process request. Application offline.",Jb["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Jb),tw=new Ne("installations","Installations",Zb);function ew(t){return t instanceof Ce&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function rw(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function iw(t,e){return oe(this,void 0,void 0,(function(){var n,r;return ae(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,tw.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function ow(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function aw(t,e){var n=e.refreshToken,r=ow(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function sw(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function uw(t,e){var n=e.fid;return oe(this,void 0,void 0,(function(){var e,r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:return e=nw(t),r=ow(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.14"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,sw((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:rw(s.authToken)}];case 3:return[4,iw("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lw=/^[cdef][\w-]{21}$/;function hw(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,ce(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return lw.test(e)?e:""}catch(t){return""}}function fw(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pw=new Map;function dw(t,e){var n=fw(t);vw(n,e),function(t,e){var n=yw();n&&n.postMessage({key:t,fid:e});gw()}(n,e)}function vw(t,e){var n,r,i=pw.get(t);if(i)try{for(var o=se(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var mw=null;function yw(){return!mw&&"BroadcastChannel"in self&&((mw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){vw(t.data.key,t.data.fid)}),mw}function gw(){0===pw.size&&mw&&(mw.close(),mw=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bw,ww="firebase-installations-store",_w=null;function Ew(){return _w||(_w=Yb("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(ww)}}))),_w}function Tw(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:return n=fw(t),[4,Ew()];case 1:return r=s.sent(),i=r.transaction(ww,"readwrite"),[4,(o=i.objectStore(ww)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||dw(t,e.fid),[2,e]}}))}))}function Iw(t){return oe(this,void 0,void 0,(function(){var e,n,r;return ae(this,(function(i){switch(i.label){case 0:return e=fw(t),[4,Ew()];case 1:return n=i.sent(),[4,(r=n.transaction(ww,"readwrite")).objectStore(ww).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Sw(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:return n=fw(t),[4,Ew()];case 1:return r=u.sent(),i=r.transaction(ww,"readwrite"),[4,(o=i.objectStore(ww)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||dw(t,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){return oe(this,void 0,void 0,(function(){var e,n,r;return ae(this,(function(i){switch(i.label){case 0:return[4,Sw(t,(function(n){var r=function(t){return Aw(t||{fid:hw(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(tw.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return oe(this,void 0,void 0,(function(){var n,r;return ae(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,uw(t,e)];case 1:return n=i.sent(),[2,Tw(t,n)];case 2:return ew(r=i.sent())&&409===r.serverCode?[4,Iw(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Tw(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Nw(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Nw(t){return oe(this,void 0,void 0,(function(){var e,n,r,i;return ae(this,(function(o){switch(o.label){case 0:return[4,kw(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,cw(100)];case 3:return o.sent(),[4,kw(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Cw(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function kw(t){return Sw(t,(function(t){if(!t)throw tw.create("installation-not-found");return Aw(t)}))}function Aw(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function xw(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return oe(this,void 0,void 0,(function(){var t,i,o,a,s,u,c;return ae(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return nw(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=aw(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.14"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,sw((function(){return fetch(t,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,rw(c)];case 3:return[4,iw("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Pw(t,e){return void 0===e&&(e=!1),oe(this,void 0,void 0,(function(){var n,r,i;return ae(this,(function(o){switch(o.label){case 0:return[4,Sw(t.appConfig,(function(r){if(!Ow(r))throw tw.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return oe(this,void 0,void 0,(function(){var n,r;return ae(this,(function(i){switch(i.label){case 0:return[4,Rw(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,cw(100)];case 3:return i.sent(),[4,Rw(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Pw(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw tw.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return ie(ie({},t),{authToken:e})}(r);return n=function(t,e){return oe(this,void 0,void 0,(function(){var n,r,i;return ae(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,xw(t,e)];case 1:return n=o.sent(),i=ie(ie({},e),{authToken:n}),[4,Tw(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!ew(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,Iw(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=ie(ie({},e),{authToken:{requestStatus:0}}),[4,Tw(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Rw(t){return Sw(t,(function(t){if(!Ow(t))throw tw.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?ie(ie({},t),{authToken:{requestStatus:0}}):t}))}function Ow(t){return void 0!==t&&2===t.registrationStatus}function Dw(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return[4,Cw(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o;return ae(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return nw(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=aw(t,e),i={method:"DELETE",headers:r},[4,sw((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,iw("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mw(t,e){var n=t.appConfig;return function(t,e){yw();var n=fw(t),r=pw.get(n);r||(r=new Set,pw.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=fw(t),r=pw.get(n);r&&(r.delete(e),0===r.size&&pw.delete(n),gw())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){return tw.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new Ke("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Fw("App Configuration");if(!t.name)throw Fw("App Name");try{for(var r=se(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Fw(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(t){return oe(this,void 0,void 0,(function(){var e,n,r;return ae(this,(function(i){switch(i.label){case 0:return[4,Cw(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Pw(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),oe(this,void 0,void 0,(function(){return ae(this,(function(n){switch(n.label){case 0:return[4,Dw(t.appConfig)];case 1:return n.sent(),[4,Pw(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return oe(this,void 0,void 0,(function(){var e,n;return ae(this,(function(r){switch(r.label){case 0:return[4,Sw(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw tw.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw tw.create("app-offline");case 3:return[4,Lw(e,n)];case 4:return r.sent(),[4,Iw(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return Mw(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.14")}(gn);var Uw=((bw={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',bw["only-available-in-window"]="This method is available in a Window context.",bw["only-available-in-sw"]="This method is available in a service worker context.",bw["permission-default"]="The notification permission was not granted and dismissed instead.",bw["permission-blocked"]="The notification permission was not granted and blocked instead.",bw["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",bw["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",bw["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",bw["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",bw["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",bw["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",bw["token-update-no-token"]="FCM returned no token when updating the user to push.",bw["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",bw["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",bw["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",bw["invalid-vapid-key"]="The public VAPID key must be a string.",bw["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",bw),jw=new Ne("messaging","Messaging",Uw);function Vw(t){return jw.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qw,Bw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zw(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,ce(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ww(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(qw||(qw={}));function Hw(t){return oe(this,void 0,void 0,(function(){var e,n,r=this;return ae(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,Yb("fcm_token_details_db",5,(function(e){return oe(r,void 0,void 0,(function(){var r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:zw(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:zw(o.auth),p256dh:zw(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:zw(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Xb("fcm_token_details_db")];case 4:return i.sent(),[4,Xb("fcm_vapid_details_db")];case 5:return i.sent(),[4,Xb("undefined")];case 6:return i.sent(),[2,Kw(n)?n:null]}}))}))}function Kw(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gw="firebase-messaging-store",Qw=null;function $w(){return Qw||(Qw=Yb("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Gw)}}))),Qw}function Yw(t){return oe(this,void 0,void 0,(function(){var e,n,r;return ae(this,(function(i){switch(i.label){case 0:return e=Zw(t),[4,$w()];case 1:return[4,i.sent().transaction(Gw).objectStore(Gw).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Hw(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,Xw(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Xw(t,e){return oe(this,void 0,void 0,(function(){var n,r,i;return ae(this,(function(o){switch(o.label){case 0:return n=Zw(t),[4,$w()];case 1:return r=o.sent(),[4,(i=r.transaction(Gw,"readwrite")).objectStore(Gw).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function Jw(t){return oe(this,void 0,void 0,(function(){var e,n,r;return ae(this,(function(i){switch(i.label){case 0:return e=Zw(t),[4,$w()];case 1:return n=i.sent(),[4,(r=n.transaction(Gw,"readwrite")).objectStore(Gw).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Zw(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:return[4,i_(t)];case 1:n=u.sent(),r=o_(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(r_(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),jw.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,jw.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw jw.create("token-subscribe-no-token");return[2,o.token]}}))}))}function e_(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:return[4,i_(t)];case 1:n=u.sent(),r=o_(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(r_(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),jw.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,jw.create("token-update-failed",{errorInfo:s});if(!o.token)throw jw.create("token-update-no-token");return[2,o.token]}}))}))}function n_(t,e){return oe(this,void 0,void 0,(function(){var n,r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:return[4,i_(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(r_(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,jw.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),jw.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function r_(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function i_(t){var e=t.appConfig,n=t.installations;return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function o_(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==Bw&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e,n){return oe(this,void 0,void 0,(function(){var r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw jw.create("permission-blocked");return[4,l_(e,n)];case 1:return r=s.sent(),[4,Yw(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:zw(r.getKey("auth")),p256dh:zw(r.getKey("p256dh"))},i?[3,3]:[2,c_(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,n_(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,c_(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,u_({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function s_(t,e){return oe(this,void 0,void 0,(function(){var n,r;return ae(this,(function(i){switch(i.label){case 0:return[4,Yw(t)];case 1:return(n=i.sent())?[4,n_(t,n.token)]:[3,4];case 2:return i.sent(),[4,Jw(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function u_(t,e,n){return oe(this,void 0,void 0,(function(){var r,i,o;return ae(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,e_(e,t)];case 1:return r=a.sent(),i=ie(ie({},t),{token:r,createTime:Date.now()}),[4,Xw(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,s_(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function c_(t,e){return oe(this,void 0,void 0,(function(){var n,r;return ae(this,(function(i){switch(i.label){case 0:return[4,t_(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Xw(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function l_(t,e){return oe(this,void 0,void 0,(function(){var n;return ae(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ww(e)})]}}))}))}function h_(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.getToken=function(){return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=Bw),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if("granted"!==Notification.permission)throw jw.create("permission-blocked");return[2,a_(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,s_(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return oe(this,void 0,void 0,(function(){var t;return ae(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?jw.create("permission-blocked"):jw.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw jw.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw jw.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw jw.create("invalid-sw-registration");if(this.swRegistration)throw jw.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw jw.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return oe(this,void 0,void 0,(function(){var t,e;return ae(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw e=n.sent(),jw.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var e;return oe(this,void 0,void 0,(function(){var n,r,i,o;return ae(this,(function(a){switch(a.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(n=t.data.firebaseMessaging,r=n.type,i=n.payload,this.onMessageCallback&&r===qw.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(i):this.onMessageCallback.next(i)),h_(o=i.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,e){return oe(this,void 0,void 0,(function(){var n;return ae(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case qw.NOTIFICATION_CLICKED:return"notification_open";case qw.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function p_(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw jw.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return oe(this,void 0,void 0,(function(){var n;return ae(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Yw(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Bw,r.label=2;case 2:return[2,a_(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return s_(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw jw.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw jw.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw jw.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw jw.create("only-available-in-window")},t.prototype.onMessage=function(){throw jw.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw jw.create("only-available-in-window")},t.prototype.onPush=function(t){return oe(this,void 0,void 0,(function(){var e,n,r;return ae(this,(function(i){switch(i.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,y_()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,m_(n,e)]:(r=function(t){var e;if(!t||"object"!=typeof t.notification)return;var n=ie({},t.notification);return n.data=ie(ie({},t.notification.data),((e={}).FCM_MSG=t,e)),n}(e))?[4,b_(r)]:[3,3];case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return oe(this,void 0,void 0,(function(){var r;return ae(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,s_(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Yw(this.firebaseDependencies)];case 3:return r=i.sent(),[4,s_(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,a_(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Bw)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return oe(this,void 0,void 0,(function(){var r,i,o,a;return ae(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return h_(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?[4,v_(i)]:[2]):[2];case 1:return(o=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=s.sent(),[4,p_(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=s.sent(),s.label=6;case 6:return o?(a=g_(qw.NOTIFICATION_CLICKED,r),[2,o.postMessage(a)]):[2]}}))}))},t}();function v_(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return ae(this,(function(u){switch(u.label){case 0:return e=new URL(t,self.location.href),[4,y_()];case 1:n=u.sent();try{for(r=se(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).host===e.host)return[2,o]}catch(t){a={error:t}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}}return[2,null]}}))}))}function m_(t,e){var n,r,i=g_(qw.PUSH_RECEIVED,e);try{for(var o=se(t),a=o.next();!a.done;a=o.next()){a.value.postMessage(i)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function y_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function g_(t,e){return{firebaseMessaging:{type:t,payload:e}}}function b_(t){var e,n=null!==(e=t.title)&&void 0!==e?e:"",r=t.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,t)}var w_={isSupported:__};function __(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}gn.INTERNAL.registerComponent(new Ke("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e,n;if(!t||!t.options)throw Vw("App Configuration Object");if(!t.name)throw Vw("App Name");var r=t.options;try{for(var i=se(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Vw(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!__())throw jw.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new d_(n):new f_(n)}),"PUBLIC").setServiceProps(w_));var E_,T_,I_,S_,C_=((E_={})["trace started"]="Trace {$traceName} was started before.",E_["trace stopped"]="Trace {$traceName} is not running.",E_["no window"]="Window is not available.",E_["no app id"]="App id is not available.",E_["no project id"]="Project id is not available.",E_["no api key"]="Api key is not available.",E_["invalid cc log"]="Attempted to queue invalid cc event",E_["FB not default"]="Performance can only start when Firebase app instance is the default one.",E_["RC response not ok"]="RC response is not ok",E_["invalid attribute name"]="Attribute name {$attributeName} is invalid.",E_["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",E_["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",E_["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",E_),N_=new Ne("performance","Performance",C_),k_=function(){function t(t){if(this.window=t,!t)throw N_.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===T_&&(T_=new t(I_)),T_},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A_(t,e){var n=t.length-e.length;if(n<0||n>1)throw N_.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_,P_,R_=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=A_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=A_("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw N_.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw N_.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw N_.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===S_&&(S_=new t),S_},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return x_}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(P_||(P_={}));var D_=["firebase_","google_","ga_"],L_=new RegExp("^[a-zA-Z]\\w*$");function M_(){var t=k_.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function F_(){switch(k_.getInstance().document.visibilityState){case"visible":return P_.VISIBLE;case"hidden":return P_.HIDDEN;default:return P_.UNKNOWN}}function U_(){var t=k_.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var j_=new on("Performance");j_.logLevel=Xe.INFO;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var V_=!0;function q_(t){var e=function(){var t=k_.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(B_(e),Promise.resolve()):function(t){return(e=R_.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+R_.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+R_.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:R_.getInstance().getAppId(),app_version:"0.3.9",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw N_.create("RC response not ok")}))})).catch((function(){j_.info("Could not fetch config, will use default configs")}));var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(B_).then((function(t){return function(t){var e=k_.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*R_.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function B_(t){if(!t)return t;var e=R_.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=V_,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=z_(e.tracesSamplingRate),e.logNetworkAfterSampling=z_(e.networkRequestsSamplingRate),t}function z_(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W_,H_=1;function K_(){return H_=2,W_=W_||function(){var t=k_.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=R_.getInstance().installationsService.getId()).then((function(t){x_=t})),t;var t})).then((function(t){return q_(t)})).then((function(){return G_()}),(function(){return G_()}))}function G_(){H_=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q_,$_=3,Y_=[],X_=!1;function J_(t){setTimeout((function(){if(0!==$_)return Y_.length?void function(){var t=le(Y_);Y_=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=R_.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||j_.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Y_=le(e,Y_),j_.info("Retry transport request later.")),$_=3,J_(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:R_.getInstance().logSource,log_event:e},t).catch((function(){Y_=le(t,Y_),$_--,j_.info("Tries left: "+$_+"."),J_(1e4)}))}():J_(1e4)}),t)}function Z_(t){if(!t.eventTime||!t.message)throw N_.create("invalid cc log");Y_=le(Y_,[t])}function tE(t,e){Q_||(Q_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Z_({message:r,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(rE)),Q_(t,e)}function eE(t){var e=R_.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&k_.getInstance().requiredApisAvailable()&&(t.isAuto&&F_()!==P_.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===H_?nE(t):K_().then((function(){return nE(t)}),(function(){return nE(t)}))))}function nE(t){O_()&&setTimeout((function(){return tE(t,1)}),0)}function rE(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:iE(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:iE(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function iE(){return{google_app_id:R_.getInstance().getAppId(),app_instance_id:O_(),web_app_info:{sdk_version:"0.3.9",page_url:k_.getInstance().getUrl(),service_worker_status:M_(),visibility_state:F_(),effective_connection_type:U_()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oE=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var aE=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=k_.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw N_.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw N_.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),eE(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=ie({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}eE(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&oE.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw N_.create("invalid custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!D_.some((function(e){return t.startsWith(e)}))&&!!t.match(L_))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw N_.create("invalid attribute name",{attributeName:t});if(!r)throw N_.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return ie({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=k_.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),a=Math.floor(1e3*k_.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}eE(o)}},t.createUserTimingTrace=function(e){eE(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){var e=t;if(e&&void 0!==e.responseStart){var n=k_.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=R_.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return tE(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){O_()&&(setTimeout((function(){return function(){var t=k_.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){aE.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),aE.createOobTrace(e,n,t))}))}else aE.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=k_.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){sE(r[n])}t.setupObserver("resource",sE)}()}),0),setTimeout((function(){return function(){for(var t=k_.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){cE(r[n])}t.setupObserver("measure",cE)}()}),0))}function cE(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&aE.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lE=function(){function t(t){this.app=t,k_.getInstance().requiredApisAvailable()?(X_||(J_(5500),X_=!0),K_().then(uE,uE)):j_.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new aE(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return R_.getInstance().instrumentationEnabled},set:function(t){R_.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return R_.getInstance().dataCollectionEnabled},set:function(t){R_.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw N_.create("FB not default");if("undefined"==typeof window)throw N_.create("no window");return function(t){I_=t}(window),R_.getInstance().firebaseAppInstance=t,R_.getInstance().installationsService=e,new lE(t)};t.INTERNAL.registerComponent(new Ke("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.9")}(gn);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hE,fE,pE="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(hE||(hE={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(fE||(fE={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dE,vE=new on("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===hE.EVENT){var o=[];if(i&&i.send_to){var a=i.send_to;Array.isArray(a)||(a=[a]);for(var s=0,u=a;s<u.length;s++){var c=u[s],l=e[c];if(!l){o=[];break}o.push(l)}}if(0===o.length)for(var h=0,f=Object.values(e);h<f.length;h++){var p=f[h];o.push(p)}Promise.all(o).then((function(){return t(hE.EVENT,r,i||{})})).catch((function(t){return vE.error(t)}))}else if(n===hE.CONFIG){(e[r]||Promise.resolve()).then((function(){t(hE.CONFIG,r,i)})).catch((function(t){return vE.error(t)}))}else t(hE.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}var yE,gE,bE=((dE={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',dE["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",dE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",dE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",dE),wE=new Ne("analytics","Analytics",bE),_E={},EE="dataLayer",TE="gtag",IE=!1;function SE(t){if(IE)throw wE.create("already-initialized");t.dataLayerName&&(EE=t.dataLayerName),t.gtagName&&(TE=t.gtagName)}function CE(t,e){var n=t.options.measurementId;if(!n)throw wE.create("no-ga-id");if(null!=_E[n])throw wE.create("already-exists",{id:n});if(!IE){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(pE))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)()||function(t){var e=document.createElement("script");e.src=pE+"?l="+t,e.async=!0,document.head.appendChild(e)}(EE),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(EE);var r=mE(_E,EE,TE),i=r.wrappedGtag,o=r.gtagCore;gE=i,yE=o,IE=!0}return _E[n]=function(t,e,n){return oe(this,void 0,void 0,(function(){var r,i;return ae(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(hE.CONFIG,t.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))}))}(t,e,yE),{app:t,logEvent:function(t,e,r){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,e,n,r,i){var o=r||{};i&&i.global||(o=ie(ie({},r),{send_to:e})),t(hE.EVENT,n,o||{})}(gE,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(hE.SET,{screen_name:n}):t(hE.CONFIG,e,{update:!0,screen_name:n})}(gE,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(hE.SET,{user_id:n}):t(hE.CONFIG,e,{update:!0,user_id:n})}(gE,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];i["user_properties."+s]=n[s]}t(hE.SET,i)}else t(hE.CONFIG,e,{update:!0,user_properties:n})}(gE,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}!function(t){t.INTERNAL.registerComponent(new Ke("analytics",(function(t){return CE(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:SE,EventName:fE})),t.INTERNAL.registerComponent(new Ke("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw wE.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.9")}(gn);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var NE,kE=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o;return ae(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),AE=((NE={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",NE["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",NE["registration-api-key"]="Undefined API key. Check Firebase app initialization.",NE["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",NE["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",NE["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",NE["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",NE["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",NE["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",NE["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',NE["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',NE["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",NE["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",NE),xE=new Ne("remoteconfig","Remote Config",AE);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var PE=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return oe(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,p,d,v,m,y,g,b;return ae(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),xE.create(p,{originalErrorMessage:f.message});case 6:if(d=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];g=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return g=w.sent(),[3,10];case 9:throw b=w.sent(),xE.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=g.entries,y=g.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?d=500:"NO_CHANGE"===y?d=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(m={}),304!==d&&200!==d)throw xE.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:v,config:m}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},t}(),RE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),OE=["1","true","t","yes","y","on"],DE=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&OE.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),LE=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Xe.DEBUG;break;case"silent":this._logger.logLevel=Xe.SILENT;break;default:this._logger.logLevel=Xe.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return oe(this,void 0,void 0,(function(){var t,e,n;return ae(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return oe(this,void 0,void 0,(function(){var t,e,n,r=this;return ae(this,(function(i){switch(i.label){case 0:t=new RE,setTimeout((function(){return oe(r,void 0,void 0,(function(){return ae(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof Ce&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(ie(ie({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new DE("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new DE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new DE("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){var n=t.target.error||void 0;return xE.create(e,{originalErrorMessage:n&&n.message})}var FE=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(ME(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return oe(this,void 0,void 0,(function(){var e,n=this;return ae(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(ME(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(xE.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return oe(this,void 0,void 0,(function(){var n,r=this;return ae(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(ME(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(xE.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return oe(this,void 0,void 0,(function(){var e,n=this;return ae(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(ME(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(t){i(xE.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),UE=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return oe(this,void 0,void 0,(function(){var t,e,n,r,i,o;return ae(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(xE.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var qE,BE=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return oe(this,void 0,void 0,(function(){var e,i,o;return ae(this,(function(a){switch(a.label){case 0:return[4,VE(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Ce))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+jE(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),zE="@firebase/remote-config";(qE=gn).INTERNAL.registerComponent(new Ke("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw xE.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw xE.create("registration-project-id");if(!a)throw xE.create("registration-api-key");if(!s)throw xE.create("registration-app-id");e=e||"firebase";var u=new FE(s,n.name,e),c=new UE(u),l=new on(zE);l.logLevel=Xe.ERROR;var h=new PE(r,qE.SDK_VERSION,e,o,a,s),f=new BE(h,u),p=new kE(f,u,c,l),d=new LE(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),qE.registerVersion(zE,"0.1.25");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gn.registerVersion("firebase","7.16.1","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),gn.registerVersion("firebase","7.16.1");var WE=(gn.apps.length?gn.app():gn.initializeApp({apiKey:"AIzaSyBH-rhyR8tHJ0b6jsCqVkkZeYQKgKinndo",authDomain:"fishingbuddy-web.firebaseapp.com",databaseURL:"https://fishingbuddy-web-default-rtdb.firebaseio.com",projectId:"fishingbuddy-web",storageBucket:"fishingbuddy-web.appspot.com",messagingSenderId:"1004313328108",appId:"1:1004313328108:web:7f3ef10e51cab8fcb168c9"})).database();const HE=e=>{const n={rodType:"",rodBrand:"",rodPrice:"0",lureType:"",lureBrand:"",lurePrice:"0",reelType:"",reelBrand:"",reelPrice:"0",braidlineType:"",braidlineBrand:"",braidlinePrice:"0",leaderlineType:"",leaderlineBrand:"",leaderlinePrice:"0",baitType:"",baitBrand:"",baitPrice:"0",fishingEnvironment:"",typeOfHobbyist:"",isDeleted:"0",totalPrice:""};var[r,i]=N(n);_(()=>{""==e.currentId?i({...n}):i({...e.contactObjects[e.currentId]})},[e.currentId,e.contactObjects]);const o=t=>{var{name:e,value:n}=t.target;i({...r,[e]:n})};return r.totalPrice=Number(r.rodPrice)+Number(r.lurePrice)+Number(r.reelPrice)+Number(r.braidlinePrice)+Number(r.leaderlinePrice)+Number(r.baitPrice),t.createElement("form",{autoComplete:"off",onSubmit:t=>{t.preventDefault(),e.addOrEdit(r)}},t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-3 mb-sm-0"},t.createElement("label",null,"Rod Type"),t.createElement("input",{className:"form-control",name:"rodType",value:r.rodType,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Rod Brand"),t.createElement("input",{className:"form-control",name:"rodBrand",value:r.rodBrand,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Rod Price"),t.createElement("input",{className:"form-control",name:"rodPrice",type:"number",value:r.rodPrice,onChange:o}))),t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-3 mb-sm-0"},t.createElement("label",null,"Lure Type"),t.createElement("input",{className:"form-control",name:"lureType",value:r.lureType,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Lure Brand"),t.createElement("input",{className:"form-control",name:"lureBrand",value:r.lureBrand,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Lure Price"),t.createElement("input",{className:"form-control",name:"lurePrice",type:"number",value:r.lurePrice,onChange:o}))),t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-4 mb-sm-0"},t.createElement("label",null,"Reel Type"),t.createElement("input",{className:"form-control",name:"reelType",value:r.reelType,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Reel Brand"),t.createElement("input",{className:"form-control",name:"reelBrand",value:r.reelBrand,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Reel Price"),t.createElement("input",{className:"form-control",name:"reelPrice",type:"number",value:r.reelPrice,onChange:o}))),t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-3 mb-sm-0"},t.createElement("label",null,"Braidline Type"),t.createElement("input",{className:"form-control",name:"braidlineType",value:r.braidlineType,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Braidline Brand"),t.createElement("input",{className:"form-control",name:"braidlineBrand",value:r.braidlineBrand,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Braidline Price"),t.createElement("input",{className:"form-control",name:"braidlinePrice",type:"number",value:r.braidlinePrice,onChange:o}))),t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-3 mb-sm-0"},t.createElement("label",null,"Leaderline Type"),t.createElement("input",{className:"form-control",name:"leaderlineType",value:r.leaderlineType,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Leaderline Brand"),t.createElement("input",{className:"form-control",name:"leaderlineBrand",value:r.leaderlineBrand,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Leaderline Price"),t.createElement("input",{className:"form-control",name:"leaderlinePrice",type:"number",value:r.leaderlinePrice,onChange:o}))),t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-3 mb-sm-0"},t.createElement("label",null,"Bait Type"),t.createElement("input",{className:"form-control",name:"baitType",value:r.baitType,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Bait Brand"),t.createElement("input",{className:"form-control",name:"baitBrand",value:r.baitBrand,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Bait Price"),t.createElement("input",{className:"form-control",name:"baitPrice",type:"number",value:r.baitPrice,onChange:o}))),t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-4 mb-3 mb-sm-0"},t.createElement("label",null,"Fishing Environment"),t.createElement("input",{className:"form-control",name:"fishingEnvironment",value:r.fishingEnvironment,onChange:o})),t.createElement("div",{className:"col-sm-4"},t.createElement("label",null,"Type of Hobbyist"),t.createElement("input",{className:"form-control",name:"typeOfHobbyist",value:r.typeOfHobbyist,onChange:o})),t.createElement("div",{className:"col-sm-2"},t.createElement("label",null,"Total Price"),t.createElement("input",{className:"form-control disable",name:"totalPrice",value:r.totalPrice,onChange:o,disabled:!0})),t.createElement("div",{className:"col-sm-2"},t.createElement("label",null,"Deleted"),t.createElement("select",{className:"form-control",name:"isDeleted",value:r.isDeleted,onChange:o},t.createElement("option",{value:"0"},"No"),t.createElement("option",{value:"1"},"Yes")))),t.createElement("div",{className:"form-group"},t.createElement("input",{type:"submit",value:""==e.currentId?"Save":"Update",className:"btn btn-primary btn-block"})))},KE=({user:e})=>{var[n,r]=N({}),[i,o]=N("");_(()=>{WE.ref("hobbyist").on("value",t=>{null!=t.val()?r({...t.val()}):r({})})},[]);const a=t=>{window.confirm("Are you sure to delete this record?")&&WE.ref("hobbyist/"+t).remove(t=>{t?console.log(t):o("")})};return t.createElement(t.Fragment,null,t.createElement("div",{style:{display:"none"},className:"lex flex-col text-center w-full mb-12"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-md-12"},t.createElement("table",{className:"table table-border table-stripped"},t.createElement("thead",{className:"thead-light"},t.createElement("tr",null,t.createElement("th",null,"Rod Type"),t.createElement("th",null,"Rod Brand"),t.createElement("th",null,"Rod Price"),t.createElement("th",null,"Actions"))),t.createElement("tbody",null,Object.keys(n).map(e=>t.createElement("tr",{key:e},t.createElement("td",null,n[e].rodType),t.createElement("td",null,n[e].rodBrand),t.createElement("td",null,n[e].rodPrice),t.createElement("td",null,t.createElement("a",{className:"btn text-primary",onClick:()=>{o(e)}},t.createElement("i",{className:"fas fa-pencil-alt"})),t.createElement("a",{className:"btn text-danger",onClick:()=>{a(e)}},t.createElement("i",{className:"fas fa-trash-alt"})))))))))),t.createElement("div",{id:"wrapper"},t.createElement("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},t.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"index.html"},t.createElement("div",{className:"sidebar-brand-text mx-3"},"FISHINGBUDDY")),t.createElement("hr",{className:"sidebar-divider my-0"}),t.createElement("li",{className:"nav-item"},t.createElement("a",{className:"nav-link",href:"index.html"},t.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),t.createElement("span",null,"Dashboard"))),t.createElement("hr",{className:"sidebar-divider"}),t.createElement("div",{className:"sidebar-heading"},"All Users"),t.createElement("li",{className:"nav-item"},t.createElement("a",{className:"nav-link",href:"tables.html"},t.createElement("i",{className:"fas fa-fw fa-users"}),t.createElement("span",null,"Users"))),t.createElement("hr",{className:"sidebar-divider"}),t.createElement("div",{className:"sidebar-heading"},"All Hobbyist"),t.createElement("li",{className:"nav-item active"},t.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"},t.createElement("i",{className:"fas fa-fw fa-table"}),t.createElement("span",null,"Hobbyist")),t.createElement("div",{id:"collapseTwo",className:"collapse show","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar"},t.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},t.createElement(Zt,{to:"/luretype",user:e}," ",t.createElement("a",{className:"collapse-item"},"Lure Type")),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Rod Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Reel Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Braidline Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Leaderline Type")))),t.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),t.createElement("div",{className:"text-center d-none d-md-inline"},t.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle"}))),t.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},t.createElement("div",{id:"content"},t.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},t.createElement("form",{className:"form-inline"},t.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3"},t.createElement("i",{className:"fa fa-bars"}))),t.createElement("form",{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"},t.createElement("div",{className:"input-group"},t.createElement("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),t.createElement("div",{className:"input-group-append"},t.createElement("button",{className:"btn btn-primary",type:"button"},t.createElement("i",{className:"fas fa-search fa-sm"}))))),t.createElement("ul",{className:"navbar-nav ml-auto"},t.createElement("li",{className:"nav-item dropdown no-arrow d-sm-none"},t.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.createElement("i",{className:"fas fa-search fa-fw"})),t.createElement("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"searchDropdown"},t.createElement("form",{className:"form-inline mr-auto w-100 navbar-search"},t.createElement("div",{className:"input-group"},t.createElement("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),t.createElement("div",{className:"input-group-append"},t.createElement("button",{className:"btn btn-primary",type:"button"},t.createElement("i",{className:"fas fa-search fa-sm"}))))))),t.createElement("div",{className:"topbar-divider d-none d-sm-block"}),t.createElement("li",{className:"nav-item dropdown no-arrow"},t.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},e.displayName.toUpperCase()),t.createElement("img",{className:"img-profile rounded-circle",src:"img/undraw_profile.svg"})),t.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},t.createElement("a",{className:"dropdown-item",href:"#"},t.createElement("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"Profile"),t.createElement("a",{className:"dropdown-item",href:"#"},t.createElement("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Settings"),t.createElement("a",{className:"dropdown-item",href:"#"},t.createElement("i",{className:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),"Activity Log"),t.createElement("div",{className:"dropdown-divider"}),t.createElement("a",{className:"dropdown-item","data-toggle":"modal","data-target":"#logoutModal",onClick:hb},t.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"))))),t.createElement("div",{className:"container-fluid"},t.createElement("h1",{className:"h3 mb-2 text-gray-800"},"Hobbyist"),t.createElement("p",{className:"mb-4"},"Hobbyist Fishing Setup Data Entry"),t.createElement(HE,{addOrEdit:t=>{""==i?WE.ref("hobbyist").push(t,t=>{t?console.log(t):o("")}):WE.ref("hobbyist/"+i).set(t,t=>{t?console.log(t):o("")})},currentId:i,contactObjects:n}),t.createElement("div",{className:"card shadow mb-4"},t.createElement("div",{className:"card-header py-3"},t.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Hobbyist List")),t.createElement("div",{className:"card-body"},t.createElement("div",{className:"table-responsive"},t.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellspacing:"0"},t.createElement("thead",null,t.createElement("tr",null,t.createElement("th",null,"Rod Type"),t.createElement("th",null,"Rod Brand"),t.createElement("th",null,"Rod Price"),t.createElement("th",null,"Lure Type"),t.createElement("th",null,"Lure Brand"),t.createElement("th",null,"Lure Price"),t.createElement("th",null,"Reel Type"),t.createElement("th",null,"Reel Brand"),t.createElement("th",null,"Reel Price"),t.createElement("th",null,"Braidline Type"),t.createElement("th",null,"Braidline Brand"),t.createElement("th",null,"Braidline Price"),t.createElement("th",null,"Leaderline Type"),t.createElement("th",null,"Leaderline Brand"),t.createElement("th",null,"Leaderline Price"),t.createElement("th",null,"Bait Type"),t.createElement("th",null,"Bait Brand"),t.createElement("th",null,"Bait Price"),t.createElement("th",null,"Fishing Environment"),t.createElement("th",null,"Type of Hobbyist"),t.createElement("th",null,"Total Price"),t.createElement("th",null,"Deleted"),t.createElement("th",null,"Actions"))),t.createElement("tbody",null,Object.keys(n).map(e=>t.createElement("tr",{key:e},t.createElement("td",null,n[e].rodType),t.createElement("td",null,n[e].rodBrand),t.createElement("td",null,n[e].rodPrice),t.createElement("td",null,n[e].lureType),t.createElement("td",null,n[e].lureBrand),t.createElement("td",null,n[e].lurePrice),t.createElement("td",null,n[e].reelType),t.createElement("td",null,n[e].reelBrand),t.createElement("td",null,n[e].reelPrice),t.createElement("td",null,n[e].braidlineType),t.createElement("td",null,n[e].braidlineType),t.createElement("td",null,n[e].braidlinePrice),t.createElement("td",null,n[e].leaderlineType),t.createElement("td",null,n[e].leaderlineBrand),t.createElement("td",null,n[e].leaderlinePrice),t.createElement("td",null,n[e].baitType),t.createElement("td",null,n[e].baitBrand),t.createElement("td",null,n[e].baitPrice),t.createElement("td",null,n[e].fishingEnvironment),t.createElement("td",null,n[e].typeOfHobbyist),t.createElement("td",null,n[e].totalPrice),t.createElement("td",null,"0"==n[e].isDeleted?"No":"Yes"),t.createElement("td",null,t.createElement("a",{onClick:()=>{o(e)},style:{margin:"0 10px 0 0"},className:"btn-sm btn btn-primary"},t.createElement("i",{className:"fas fa-edit"})),t.createElement("a",{onClick:()=>{a(e)},className:"btn-sm btn btn-danger"},t.createElement("i",{className:"fas fa-trash"})))))))))))),t.createElement("footer",{className:"sticky-footer bg-white"},t.createElement("div",{className:"container my-auto"},t.createElement("div",{className:"copyright text-center my-auto"},t.createElement("span",null,"Copyright  FISHINGBUDDY 2021")))))))};function GE(){const e=t.useContext(JE);return t.createElement(fb,null,t.createElement(KE,{user:e}))}function QE(){return t.createElement("div",null,t.createElement("div",{className:"bg-gradient-primary"},t.createElement("div",{className:"container"},t.createElement("div",{className:"row justify-content-center"},t.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},t.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},t.createElement("div",{className:"card-body p-0"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),t.createElement("div",{className:"col-lg-6"},t.createElement("div",{className:"p-5"},t.createElement("div",{className:"text-center"},t.createElement("h1",{className:"h4 text-gray-900 mb-4"},"Welcome Back!")),t.createElement("form",{className:"user"},t.createElement("div",{className:"form-group"},t.createElement("input",{type:"email",className:"form-control form-control-user",id:"exampleInputEmail",placeholder:"Enter Email Address..."})),t.createElement("div",{className:"form-group"},t.createElement("input",{type:"password",className:"form-control form-control-user",id:"exampleInputPassword",placeholder:"Password"})),t.createElement("div",{className:"form-group"},t.createElement("div",{className:"custom-control custom-checkbox small"},t.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck"}),t.createElement("label",{className:"custom-control-label"},"Remember Me"))),t.createElement("a",{href:"index.html",className:"btn btn-primary btn-user btn-block"},"Login"),t.createElement("hr",null)),t.createElement("button",{onClick:lb,className:"btn btn-google btn-user btn-block"},t.createElement("i",{className:"fab fa-google fa-fw"})," Login with Google"),t.createElement("hr",null),t.createElement("div",{className:"text-center"},t.createElement("a",{className:"small",href:"forgot-password.html"},"Forgot Password?")),t.createElement("div",{className:"text-center"},t.createElement("a",{className:"small",href:"register.html"},"Create an Account!"))))))))))))}function $E(){const[e,n]=t.useState(null),[r,i]=t.useState(!0);return t.useEffect(()=>function(t){return cb.onAuthStateChanged(t)}(t=>{i(!1),n(t)}),[]),{user:e,loading:r}}const YE=e=>{const n={lureTypeName:"",lureTypeIsDeleted:"0"};var[r,i]=N(n);_(()=>{""==e.currentId?i({...n}):i({...e.contactObjects[e.currentId]})},[e.currentId,e.contactObjects]);const o=t=>{var{name:e,value:n}=t.target;i({...r,[e]:n})};return t.createElement("form",{autoComplete:"off",onSubmit:t=>{t.preventDefault(),e.addOrEdit(r)}},t.createElement("div",{className:"form-group input-group row"},t.createElement("div",{className:"col-sm-10 mb-10 mb-sm-0"},t.createElement("label",null,"Lure Type"),t.createElement("input",{className:"form-control",name:"lureTypeName",value:r.lureTypeName,onChange:o})),t.createElement("div",{className:"col-sm-2"},t.createElement("label",null,"Deleted"),t.createElement("select",{className:"form-control",name:"lureTypeIsDeleted",value:r.lureTypeIsDeleted,onChange:o},t.createElement("option",{value:"0"},"False"),t.createElement("option",{value:"1"},"True")))),t.createElement("div",{className:"form-group"},t.createElement("input",{type:"submit",value:""==e.currentId?"Save":"Update",className:"btn btn-primary btn-block"})))},XE=()=>{var[e,n]=N({}),[r,i]=N("");_(()=>{WE.ref("hobbyist/lureType").on("value",t=>{null!=t.val()?n({...t.val()}):n({})})},[]);const o=t=>{window.confirm("Are you sure to delete this record?")&&WE.ref("hobbyist/lureType/"+t).remove(t=>{t?console.log(t):i("")})};return t.createElement(t.Fragment,null,t.createElement("div",{style:{display:"none"},className:"lex flex-col text-center w-full mb-12"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-md-12"},t.createElement("table",{className:"table table-border table-stripped"},t.createElement("thead",{className:"thead-light"},t.createElement("tr",null,t.createElement("th",null,"Rod Type"),t.createElement("th",null,"Rod Brand"),t.createElement("th",null,"Rod Price"),t.createElement("th",null,"Actions"))),t.createElement("tbody",null,Object.keys(e).map(n=>t.createElement("tr",{key:n},t.createElement("td",null,e[n].rodType),t.createElement("td",null,e[n].rodBrand),t.createElement("td",null,e[n].rodPrice),t.createElement("td",null,t.createElement("a",{className:"btn text-primary",onClick:()=>{i(n)}},t.createElement("i",{className:"fas fa-pencil-alt"})),t.createElement("a",{className:"btn text-danger",onClick:()=>{o(n)}},t.createElement("i",{className:"fas fa-trash-alt"})))))))))),t.createElement("div",{id:"wrapper"},t.createElement("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},t.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"index.html"},t.createElement("div",{className:"sidebar-brand-text mx-3"},"FISHINGBUDDY")),t.createElement("hr",{className:"sidebar-divider my-0"}),t.createElement("li",{className:"nav-item"},t.createElement("a",{className:"nav-link",href:"index.html"},t.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),t.createElement("span",null,"Dashboard"))),t.createElement("hr",{className:"sidebar-divider"}),t.createElement("div",{className:"sidebar-heading"},"All Users"),t.createElement("li",{className:"nav-item"},t.createElement("a",{className:"nav-link",href:"tables.html"},t.createElement("i",{className:"fas fa-fw fa-users"}),t.createElement("span",null,"Users"))),t.createElement("hr",{className:"sidebar-divider"}),t.createElement("div",{className:"sidebar-heading"},"All Hobbyist"),t.createElement("li",{className:"nav-item active"},t.createElement("a",{href:"/",className:"nav-link","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"},t.createElement("i",{className:"fas fa-fw fa-table"}),t.createElement("span",null,"Hobbyist")),t.createElement("div",{id:"collapseTwo",className:"collapse show","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar"},t.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},t.createElement("a",{className:"collapse-item active"},"Lure Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Rod Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Reel Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Braidline Type"),t.createElement("a",{className:"collapse-item",href:"cards.html"},"Leaderline Type")))),t.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),t.createElement("div",{className:"text-center d-none d-md-inline"},t.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle"}))),t.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},t.createElement("div",{id:"content"},t.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},t.createElement("form",{className:"form-inline"},t.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3"},t.createElement("i",{className:"fa fa-bars"}))),t.createElement("form",{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"},t.createElement("div",{className:"input-group"},t.createElement("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),t.createElement("div",{className:"input-group-append"},t.createElement("button",{className:"btn btn-primary",type:"button"},t.createElement("i",{className:"fas fa-search fa-sm"}))))),t.createElement("ul",{className:"navbar-nav ml-auto"},t.createElement("li",{className:"nav-item dropdown no-arrow d-sm-none"},t.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.createElement("i",{className:"fas fa-search fa-fw"})),t.createElement("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"searchDropdown"},t.createElement("form",{className:"form-inline mr-auto w-100 navbar-search"},t.createElement("div",{className:"input-group"},t.createElement("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),t.createElement("div",{className:"input-group-append"},t.createElement("button",{className:"btn btn-primary",type:"button"},t.createElement("i",{className:"fas fa-search fa-sm"}))))))),t.createElement("div",{className:"topbar-divider d-none d-sm-block"}),t.createElement("li",{className:"nav-item dropdown no-arrow"},t.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"}),t.createElement("img",{className:"img-profile rounded-circle",src:"img/undraw_profile.svg"})),t.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},t.createElement("a",{className:"dropdown-item",href:"#"},t.createElement("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"Profile"),t.createElement("a",{className:"dropdown-item",href:"#"},t.createElement("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Settings"),t.createElement("a",{className:"dropdown-item",href:"#"},t.createElement("i",{className:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),"Activity Log"),t.createElement("div",{className:"dropdown-divider"}),t.createElement("a",{className:"dropdown-item","data-toggle":"modal","data-target":"#logoutModal",onClick:hb},t.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"))))),t.createElement("div",{className:"container-fluid"},t.createElement("h1",{className:"h3 mb-2 text-gray-800"},"Hobbyist (Lure Type)"),t.createElement("p",{className:"mb-4"},"Hobbyist Fishing Setup Data Entry"),t.createElement(Zt,{to:"/",class:"btn btn-primary btn-icon-split btn-sm mb-3"},t.createElement("span",{class:"icon text-white-50"},t.createElement("i",{class:"fas fa-arrow-right"})),t.createElement("span",{class:"text"},"Back to Hobbyist")),t.createElement(YE,{addOrEdit:t=>{""==r?WE.ref("hobbyist/lureType").push(t,t=>{t?console.log(t):i("")}):WE.ref("hobbyist/lureType/"+r).set(t,t=>{t?console.log(t):i("")})},currentId:r,contactObjects:e}),t.createElement("div",{className:"card shadow mb-4"},t.createElement("div",{className:"card-header py-3"},t.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Hobbyist List")),t.createElement("div",{className:"card-body"},t.createElement("div",{className:"table-responsive"},t.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellspacing:"0"},t.createElement("thead",null,t.createElement("tr",null,t.createElement("th",null,"Actions"),t.createElement("th",null,"ID"),t.createElement("th",null,"Name"),t.createElement("th",null,"isDeleted"))),t.createElement("tbody",null,Object.keys(e).map(n=>t.createElement("tr",{key:n},t.createElement("td",null,t.createElement("a",{onClick:()=>{i(n)},style:{margin:"0 10px 0 0"},className:"btn-sm btn btn-primary"},t.createElement("i",{className:"fas fa-edit"})),t.createElement("a",{onClick:()=>{o(n)},className:"btn-sm btn btn-danger"},t.createElement("i",{className:"fas fa-trash"}))),t.createElement("td",null,n),t.createElement("td",null,e[n].lureTypeName),t.createElement("td",null,"0"==e[n].lureTypeIsDeleted?"No":"Yes")))))))))),t.createElement("footer",{className:"sticky-footer bg-white"},t.createElement("div",{className:"container my-auto"},t.createElement("div",{className:"copyright text-center my-auto"},t.createElement("span",null,"Copyright  FISHINGBUDDY 2021")))))))},JE=t.createContext();function ZE(){const{user:e,loading:n}=$E();return n?t.createElement(Nb,null):e?t.createElement(tT,{user:e}):t.createElement(eT,null)}function tT({user:e}){return t.createElement(Gt,null,t.createElement(Kt,null,t.createElement(JE.Provider,{value:e},t.createElement(Ht,{exact:!0,path:"/",component:GE}),t.createElement(Ht,{exact:!0,path:"/luretype",component:XE}))))}function eT(){return t.createElement(QE,null)}A.render(t.createElement(t.StrictMode,null,t.createElement(ZE,null)),document.getElementById("root")),$(document).ready((function(){$("#dataTable").DataTable()}));
